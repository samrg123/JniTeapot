/*!--------------------------------------------------------
 * Copyright (C) Microsoft Corporation. All rights reserved.
 *--------------------------------------------------------*/(function(){var he=["require","exports","vs/base/common/path","vs/base/common/strings","vs/base/common/platform","vs/base/common/uri","vs/base/common/errors","vs/base/common/arrays","vs/base/common/types","vs/base/common/extpath","vs/base/common/lifecycle","vs/base/common/event","vs/base/common/async","vs/workbench/services/search/common/search","vs/base/common/cancellation","vs/base/common/buffer","vs/base/common/map","vs/base/common/glob","vs/base/node/pfs","child_process","vs/base/common/stopwatch","vs/base/common/objects","vs/base/common/network","vs/base/common/normalization","vs/base/common/resources","vs/base/common/errorMessage","vs/platform/instantiation/common/instantiation","vs/workbench/services/search/common/searchExtTypes","vs/base/common/functional","vs/base/common/process","vs/base/common/stream","vs/base/common/fuzzyScorer","string_decoder","fs","vs/nls","vs/nls!vs/workbench/services/search/node/searchApp","vs/workbench/services/search/node/ripgrepSearchUtils","vs/base/common/collections","vs/base/common/decorators","vs/base/common/iterator","vs/base/common/linkedList","vs/base/common/console","vs/base/common/filters","vs/base/common/marshalling","vs/base/common/comparers","vs/base/common/uuid","vs/base/node/decoder","vs/base/parts/ipc/common/ipc","vs/nls!vs/base/common/errorMessage","vs/nls!vs/base/node/processes","vs/base/node/processes","vs/base/parts/ipc/node/ipc.cp","vs/nls!vs/platform/files/common/files","vs/platform/files/common/files","vs/platform/log/common/log","vs/workbench/services/search/common/textSearchManager","vs/workbench/services/search/node/searchIpc","vs/workbench/services/textfile/common/encoding","vs/workbench/services/search/node/textSearchManager","vs/workbench/services/search/node/ripgrepFileSearch","vscode-ripgrep","vs/workbench/services/search/node/fileSearch","vs/workbench/services/search/node/ripgrepTextSearchEngine","vs/workbench/services/search/node/textSearchAdapter","vs/workbench/services/search/node/rawSearchService","os","util","events","vscode-regexpp","graceful-fs","vs/workbench/services/search/node/searchApp"],me=function(oe){for(var e=[],P=0,O=oe.length;P<O;P++)e[P]=he[oe[P]];return e};define(he[37],me([0,1]),function(oe,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SetMap=e.diffMaps=e.diffSets=e.fromMap=e.groupBy=e.forEach=e.values=void 0;const P=Object.prototype.hasOwnProperty;function O(I){const N=[];for(let K in I)P.call(I,K)&&N.push(I[K]);return N}e.values=O;function R(I,N){for(let K in I)if(P.call(I,K)&&N({key:K,value:I[K]},function(){delete I[K]})===!1)return}e.forEach=R;function M(I,N){const K=Object.create(null);for(const q of I){const p=N(q);let T=K[p];T||(T=K[p]=[]),T.push(q)}return K}e.groupBy=M;function z(I){const N=Object.create(null);return I&&I.forEach((K,q)=>{N[q]=K}),N}e.fromMap=z;function D(I,N){const K=[],q=[];for(let p of I)N.has(p)||K.push(p);for(let p of N)I.has(p)||q.push(p);return{removed:K,added:q}}e.diffSets=D;function S(I,N){const K=[],q=[];for(let[p,T]of I)N.has(p)||K.push(T);for(let[p,T]of N)I.has(p)||q.push(T);return{removed:K,added:q}}e.diffMaps=S;class L{constructor(){this.map=new Map}add(N,K){let q=this.map.get(N);q||(q=new Set,this.map.set(N,q)),q.add(K)}delete(N,K){const q=this.map.get(N);!q||(q.delete(K),q.size===0&&this.map.delete(N))}forEach(N,K){const q=this.map.get(N);!q||q.forEach(K)}}e.SetMap=L}),define(he[38],me([0,1]),function(oe,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.throttle=e.debounce=e.memoize=e.createDecorator=void 0;function P(z){return(D,S,L)=>{let I=null,N=null;if(typeof L.value=="function"?(I="value",N=L.value):typeof L.get=="function"&&(I="get",N=L.get),!N)throw new Error("not supported");L[I]=z(N,S)}}e.createDecorator=P;function O(z,D,S){let L=null,I=null;if(typeof S.value=="function"?(L="value",I=S.value,I.length!==0&&console.warn("Memoize should only be used in functions with zero parameters")):typeof S.get=="function"&&(L="get",I=S.get),!I)throw new Error("not supported");const N=`$memoize$${D}`;S[L]=function(...K){return this.hasOwnProperty(N)||Object.defineProperty(this,N,{configurable:!1,enumerable:!1,writable:!1,value:I.apply(this,K)}),this[N]}}e.memoize=O;function R(z,D,S){return P((L,I)=>{const N=`$debounce$${I}`,K=`$debounce$result$${I}`;return function(...q){this[K]||(this[K]=S?S():void 0),clearTimeout(this[N]),D&&(this[K]=D(this[K],...q),q=[this[K]]),this[N]=setTimeout(()=>{L.apply(this,q),this[K]=S?S():void 0},z)}})}e.debounce=R;function M(z,D,S){return P((L,I)=>{const N=`$throttle$timer$${I}`,K=`$throttle$result$${I}`,q=`$throttle$lastRun$${I}`,p=`$throttle$pending$${I}`;return function(...T){if(this[K]||(this[K]=S?S():void 0),(this[q]===null||this[q]===void 0)&&(this[q]=-Number.MAX_VALUE),D&&(this[K]=D(this[K],...T)),this[p])return;const $=this[q]+z;$<=Date.now()?(this[q]=Date.now(),L.apply(this,[this[K]]),this[K]=S?S():void 0):(this[p]=!0,this[N]=setTimeout(()=>{this[p]=!1,this[q]=Date.now(),L.apply(this,[this[K]]),this[K]=S?S():void 0},$-Date.now()))}})}e.throttle=M}),define(he[6],me([0,1]),function(oe,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createErrorWithActions=e.isErrorWithActions=e.ExpectedError=e.NotSupportedError=e.NotImplementedError=e.getErrorMessage=e.disposed=e.readonly=e.illegalState=e.illegalArgument=e.canceled=e.CancellationError=e.isPromiseCanceledError=e.transformErrorForSerialization=e.onUnexpectedExternalError=e.onUnexpectedError=e.setUnexpectedErrorHandler=e.errorHandler=e.ErrorHandler=void 0;class P{constructor(){this.listeners=[],this.unexpectedErrorHandler=function(r){setTimeout(()=>{throw r.stack?new Error(r.message+`

`+r.stack):r},0)}}addListener(r){return this.listeners.push(r),()=>{this._removeListener(r)}}emit(r){this.listeners.forEach(t=>{t(r)})}_removeListener(r){this.listeners.splice(this.listeners.indexOf(r),1)}setUnexpectedErrorHandler(r){this.unexpectedErrorHandler=r}getUnexpectedErrorHandler(){return this.unexpectedErrorHandler}onUnexpectedError(r){this.unexpectedErrorHandler(r),this.emit(r)}onUnexpectedExternalError(r){this.unexpectedErrorHandler(r)}}e.ErrorHandler=P,e.errorHandler=new P;function O(o){e.errorHandler.setUnexpectedErrorHandler(o)}e.setUnexpectedErrorHandler=O;function R(o){S(o)||e.errorHandler.onUnexpectedError(o)}e.onUnexpectedError=R;function M(o){S(o)||e.errorHandler.onUnexpectedExternalError(o)}e.onUnexpectedExternalError=M;function z(o){if(o instanceof Error){let{name:r,message:t}=o;const n=o.stacktrace||o.stack;return{$isError:!0,name:r,message:t,stack:n}}return o}e.transformErrorForSerialization=z;const D="Canceled";function S(o){return o instanceof Error&&o.name===D&&o.message===D}e.isPromiseCanceledError=S;class L extends Error{constructor(){super(D);this.name=this.message}}e.CancellationError=L;function I(){const o=new Error(D);return o.name=o.message,o}e.canceled=I;function N(o){return o?new Error(`Illegal argument: ${o}`):new Error("Illegal argument")}e.illegalArgument=N;function K(o){return o?new Error(`Illegal state: ${o}`):new Error("Illegal state")}e.illegalState=K;function q(o){return o?new Error(`readonly property '${o} cannot be changed'`):new Error("readonly property cannot be changed")}e.readonly=q;function p(o){const r=new Error(`${o} has been disposed`);return r.name="DISPOSED",r}e.disposed=p;function T(o){return o?o.message?o.message:o.stack?o.stack.split(`
`)[0]:String(o):"Error"}e.getErrorMessage=T;class $ extends Error{constructor(r){super("NotImplemented");r&&(this.message=r)}}e.NotImplementedError=$;class W extends Error{constructor(r){super("NotSupported");r&&(this.message=r)}}e.NotSupportedError=W;class j extends Error{constructor(){super(...arguments);this.isExpected=!0}}e.ExpectedError=j;function a(o){const r=o;return r instanceof Error&&Array.isArray(r.actions)}e.isErrorWithActions=a;function l(o,r=Object.create(null)){const t=new Error(o);return r.actions&&(t.actions=r.actions),t}e.createErrorWithActions=l}),define(he[7],me([0,1,6]),function(oe,e,P){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ArrayQueue=e.maxIndex=e.minIndex=e.splice=e.insertInto=e.mapFind=e.getRandomElement=e.asArray=e.mapArrayOrNot=e.pushToEnd=e.pushToStart=e.shuffle=e.arrayInsert=e.remove=e.insert=e.index=e.range=e.flatten=e.commonPrefixLength=e.firstOrDefault=e.lastIndex=e.uniqueFilter=e.distinctES6=e.distinct=e.isNonEmptyArray=e.isFalsyOrEmpty=e.move=e.coalesceInPlace=e.coalesce=e.topAsync=e.top=e.delta=e.sortedDiff=e.groupBy=e.quickSelect=e.findFirstInSorted=e.binarySearch=e.equals=e.tail2=e.tail=void 0;function O(d,A=0){return d[d.length-(1+A)]}e.tail=O;function R(d){if(d.length===0)throw new Error("Invalid tail call");return[d.slice(0,d.length-1),d[d.length-1]]}e.tail2=R;function M(d,A,F=(U,Q)=>U===Q){if(d===A)return!0;if(!d||!A||d.length!==A.length)return!1;for(let U=0,Q=d.length;U<Q;U++)if(!F(d[U],A[U]))return!1;return!0}e.equals=M;function z(d,A,F){let U=0,Q=d.length-1;for(;U<=Q;){const J=(U+Q)/2|0,X=F(d[J],A);if(X<0)U=J+1;else if(X>0)Q=J-1;else return J}return-(U+1)}e.binarySearch=z;function D(d,A){let F=0,U=d.length;if(U===0)return 0;for(;F<U;){const Q=Math.floor((F+U)/2);A(d[Q])?U=Q:F=Q+1}return F}e.findFirstInSorted=D;function S(d,A,F){if(d=d|0,d>=A.length)throw new TypeError("invalid index");let U=A[Math.floor(A.length*Math.random())],Q=[],J=[],X=[];for(let se of A){const le=F(se,U);le<0?Q.push(se):le>0?J.push(se):X.push(se)}return d<Q.length?S(d,Q,F):d<Q.length+X.length?X[0]:S(d-(Q.length+X.length),J,F)}e.quickSelect=S;function L(d,A){const F=[];let U;for(const Q of d.slice(0).sort(A))!U||A(U[0],Q)!==0?(U=[Q],F.push(U)):U.push(Q);return F}e.groupBy=L;function I(d,A,F){const U=[];function Q(se,le,fe){if(le===0&&fe.length===0)return;const ve=U[U.length-1];ve&&ve.start+ve.deleteCount===se?(ve.deleteCount+=le,ve.toInsert.push(...fe)):U.push({start:se,deleteCount:le,toInsert:fe})}let J=0,X=0;for(;;){if(J===d.length){Q(J,0,A.slice(X));break}if(X===A.length){Q(J,d.length-J,[]);break}const se=d[J],le=A[X],fe=F(se,le);fe===0?(J+=1,X+=1):fe<0?(Q(J,1,[]),J+=1):fe>0&&(Q(J,0,[le]),X+=1)}return U}e.sortedDiff=I;function N(d,A,F){const U=I(d,A,F),Q=[],J=[];for(const X of U)Q.push(...d.slice(X.start,X.start+X.deleteCount)),J.push(...X.toInsert);return{removed:Q,added:J}}e.delta=N;function K(d,A,F){if(F===0)return[];const U=d.slice(0,F).sort(A);return p(d,A,U,F,d.length),U}e.top=K;function q(d,A,F,U,Q){return F===0?Promise.resolve([]):new Promise((J,X)=>{(async()=>{const se=d.length,le=d.slice(0,F).sort(A);for(let fe=F,ve=Math.min(F+U,se);fe<se;fe=ve,ve=Math.min(ve+U,se)){if(fe>F&&await new Promise(ye=>setTimeout(ye)),Q&&Q.isCancellationRequested)throw(0,P.canceled)();p(d,A,le,fe,ve)}return le})().then(J,X)})}e.topAsync=q;function p(d,A,F,U,Q){for(const J=F.length;U<Q;U++){const X=d[U];if(A(X,F[J-1])<0){F.pop();const se=D(F,le=>A(X,le)<0);F.splice(se,0,X)}}}function T(d){return d.filter(A=>!!A)}e.coalesce=T;function $(d){let A=0;for(let F=0;F<d.length;F++)d[F]&&(d[A]=d[F],A+=1);d.length=A}e.coalesceInPlace=$;function W(d,A,F){d.splice(F,0,d.splice(A,1)[0])}e.move=W;function j(d){return!Array.isArray(d)||d.length===0}e.isFalsyOrEmpty=j;function a(d){return Array.isArray(d)&&d.length>0}e.isNonEmptyArray=a;function l(d,A){if(!A)return d.filter((U,Q)=>d.indexOf(U)===Q);const F=Object.create(null);return d.filter(U=>{const Q=A(U);return F[Q]?!1:(F[Q]=!0,!0)})}e.distinct=l;function o(d){const A=new Set;return d.filter(F=>A.has(F)?!1:(A.add(F),!0))}e.distinctES6=o;function r(d){const A=Object.create(null);return F=>{const U=d(F);return A[U]?!1:(A[U]=!0,!0)}}e.uniqueFilter=r;function t(d,A){for(let F=d.length-1;F>=0;F--){const U=d[F];if(A(U))return F}return-1}e.lastIndex=t;function n(d,A){return d.length>0?d[0]:A}e.firstOrDefault=n;function i(d,A,F=(U,Q)=>U===Q){let U=0;for(let Q=0,J=Math.min(d.length,A.length);Q<J&&F(d[Q],A[Q]);Q++)U++;return U}e.commonPrefixLength=i;function s(d){return[].concat(...d)}e.flatten=s;function f(d,A){let F=typeof A=="number"?d:0;typeof A=="number"?F=d:(F=0,A=d);const U=[];if(F<=A)for(let Q=F;Q<A;Q++)U.push(Q);else for(let Q=F;Q>A;Q--)U.push(Q);return U}e.range=f;function u(d,A,F){return d.reduce((U,Q)=>(U[A(Q)]=F?F(Q):Q,U),Object.create(null))}e.index=u;function E(d,A){return d.push(A),()=>g(d,A)}e.insert=E;function g(d,A){const F=d.indexOf(A);if(F>-1)return d.splice(F,1),A}e.remove=g;function _(d,A,F){const U=d.slice(0,A),Q=d.slice(A);return U.concat(F,Q)}e.arrayInsert=_;function k(d,A){let F;if(typeof A=="number"){let U=A;F=()=>{const Q=Math.sin(U++)*179426549;return Q-Math.floor(Q)}}else F=Math.random;for(let U=d.length-1;U>0;U-=1){const Q=Math.floor(F()*(U+1)),J=d[U];d[U]=d[Q],d[Q]=J}}e.shuffle=k;function B(d,A){const F=d.indexOf(A);F>-1&&(d.splice(F,1),d.unshift(A))}e.pushToStart=B;function te(d,A){const F=d.indexOf(A);F>-1&&(d.splice(F,1),d.push(A))}e.pushToEnd=te;function ee(d,A){return Array.isArray(d)?d.map(A):A(d)}e.mapArrayOrNot=ee;function re(d){return Array.isArray(d)?d:[d]}e.asArray=re;function H(d){return d[Math.floor(Math.random()*d.length)]}e.getRandomElement=H;function m(d,A){for(const F of d){const U=A(F);if(U!==void 0)return U}}e.mapFind=m;function y(d,A,F){const U=w(d,A),Q=d.length,J=F.length;d.length=Q+J;for(let X=Q-1;X>=U;X--)d[X+J]=d[X];for(let X=0;X<J;X++)d[X+U]=F[X]}e.insertInto=y;function h(d,A,F,U){const Q=w(d,A),J=d.splice(Q,F);return y(d,Q,U),J}e.splice=h;function w(d,A){return A<0?Math.max(A+d.length,0):Math.min(A,d.length)}function v(d,A){let F=Number.MAX_SAFE_INTEGER,U=0;return d.forEach((Q,J)=>{const X=A(Q);X<F&&(F=X,U=J)}),U}e.minIndex=v;function c(d,A){let F=Number.MIN_SAFE_INTEGER,U=0;return d.forEach((Q,J)=>{const X=A(Q);X>F&&(F=X,U=J)}),U}e.maxIndex=c;class b{constructor(A){this.items=A,this.firstIdx=0,this.lastIdx=this.items.length-1}get length(){return this.lastIdx-this.firstIdx+1}takeWhile(A){let F=this.firstIdx;for(;F<this.items.length&&A(this.items[F]);)F++;const U=F===this.firstIdx?null:this.items.slice(this.firstIdx,F);return this.firstIdx=F,U}takeFromEndWhile(A){let F=this.lastIdx;for(;F>=0&&A(this.items[F]);)F--;const U=F===this.lastIdx?null:this.items.slice(F+1,this.lastIdx+1);return this.lastIdx=F,U}}e.ArrayQueue=b}),define(he[28],me([0,1]),function(oe,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.once=void 0;function P(O){const R=this;let M=!1,z;return function(){return M||(M=!0,z=O.apply(R,arguments)),z}}e.once=P}),define(he[39],me([0,1]),function(oe,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Iterable=void 0;var P;(function(O){function R(o){return o&&typeof o=="object"&&typeof o[Symbol.iterator]=="function"}O.is=R;const M=Object.freeze([]);function z(){return M}O.empty=z;function*D(o){yield o}O.single=D;function S(o){return o||M}O.from=S;function L(o){return!o||o[Symbol.iterator]().next().done===!0}O.isEmpty=L;function I(o){return o[Symbol.iterator]().next().value}O.first=I;function N(o,r){for(const t of o)if(r(t))return!0;return!1}O.some=N;function K(o,r){for(const t of o)if(r(t))return t}O.find=K;function*q(o,r){for(const t of o)r(t)&&(yield t)}O.filter=q;function*p(o,r){let t=0;for(const n of o)yield r(n,t++)}O.map=p;function*T(...o){for(const r of o)for(const t of r)yield t}O.concat=T;function*$(o){for(const r of o)for(const t of r)yield t}O.concatNested=$;function W(o,r,t){let n=t;for(const i of o)n=r(n,i);return n}O.reduce=W;function*j(o,r,t=o.length){for(r<0&&(r+=o.length),t<0?t+=o.length:t>o.length&&(t=o.length);r<t;r++)yield o[r]}O.slice=j;function a(o,r=Number.POSITIVE_INFINITY){const t=[];if(r===0)return[t,o];const n=o[Symbol.iterator]();for(let i=0;i<r;i++){const s=n.next();if(s.done)return[t,O.empty()];t.push(s.value)}return[t,{[Symbol.iterator](){return n}}]}O.consume=a;function l(o,r,t=(n,i)=>n===i){const n=o[Symbol.iterator](),i=r[Symbol.iterator]();for(;;){const s=n.next(),f=i.next();if(s.done!==f.done)return!1;if(s.done)return!0;if(!t(s.value,f.value))return!1}}O.equals=l})(P=e.Iterable||(e.Iterable={}))}),define(he[10],me([0,1,28,39]),function(oe,e,P,O){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ImmortalReference=e.AsyncReferenceCollection=e.ReferenceCollection=e.RefCountedDisposable=e.MutableDisposable=e.Disposable=e.DisposableStore=e.toDisposable=e.combinedDisposable=e.dispose=e.isDisposable=e.MultiDisposeError=e.markAsSingleton=e.setDisposableTracker=void 0;const R=!1;let M=null;function z(n){M=n}if(e.setDisposableTracker=z,R){const n="__is_disposable_tracked__";z(new class{trackDisposable(i){const s=new Error("Potentially leaked disposable").stack;setTimeout(()=>{i[n]||console.log(s)},3e3)}setParent(i,s){if(i&&i!==j.None)try{i[n]=!0}catch{}}markAsDisposed(i){if(i&&i!==j.None)try{i[n]=!0}catch{}}markAsSingleton(i){}})}function D(n){return M?.trackDisposable(n),n}function S(n){M?.markAsDisposed(n)}function L(n,i){M?.setParent(n,i)}function I(n,i){if(!!M)for(const s of n)M.setParent(s,i)}function N(n){return M?.markAsSingleton(n),n}e.markAsSingleton=N;class K extends Error{constructor(i){super(`Encountered errors while disposing of store. Errors: [${i.join(", ")}]`);this.errors=i}}e.MultiDisposeError=K;function q(n){return typeof n.dispose=="function"&&n.dispose.length===0}e.isDisposable=q;function p(n){if(O.Iterable.is(n)){let i=[];for(const s of n)if(s)try{s.dispose()}catch(f){i.push(f)}if(i.length===1)throw i[0];if(i.length>1)throw new K(i);return Array.isArray(n)?[]:n}else if(n)return n.dispose(),n}e.dispose=p;function T(...n){const i=$(()=>p(n));return I(n,i),i}e.combinedDisposable=T;function $(n){const i=D({dispose:(0,P.once)(()=>{S(i),n()})});return i}e.toDisposable=$;class W{constructor(){this._toDispose=new Set,this._isDisposed=!1,D(this)}dispose(){this._isDisposed||(S(this),this._isDisposed=!0,this.clear())}clear(){try{p(this._toDispose.values())}finally{this._toDispose.clear()}}add(i){if(!i)return i;if(i===this)throw new Error("Cannot register a disposable on itself!");return L(i,this),this._isDisposed?W.DISABLE_DISPOSED_WARNING||console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(i),i}}e.DisposableStore=W,W.DISABLE_DISPOSED_WARNING=!1;class j{constructor(){this._store=new W,D(this),L(this._store,this)}dispose(){S(this),this._store.dispose()}_register(i){if(i===this)throw new Error("Cannot register a disposable on itself!");return this._store.add(i)}}e.Disposable=j,j.None=Object.freeze({dispose(){}});class a{constructor(){this._isDisposed=!1,D(this)}get value(){return this._isDisposed?void 0:this._value}set value(i){this._isDisposed||i===this._value||(this._value?.dispose(),i&&L(i,this),this._value=i)}clear(){this.value=void 0}dispose(){this._isDisposed=!0,S(this),this._value?.dispose(),this._value=void 0}clearAndLeak(){const i=this._value;return this._value=void 0,i&&L(i,null),i}}e.MutableDisposable=a;class l{constructor(i){this._disposable=i,this._counter=1}acquire(){return this._counter++,this}release(){return--this._counter==0&&this._disposable.dispose(),this}}e.RefCountedDisposable=l;class o{constructor(){this.references=new Map}acquire(i,...s){let f=this.references.get(i);f||(f={counter:0,object:this.createReferencedObject(i,...s)},this.references.set(i,f));const{object:u}=f,E=(0,P.once)(()=>{--f.counter==0&&(this.destroyReferencedObject(i,f.object),this.references.delete(i))});return f.counter++,{object:u,dispose:E}}}e.ReferenceCollection=o;class r{constructor(i){this.referenceCollection=i}async acquire(i,...s){const f=this.referenceCollection.acquire(i,...s);try{return{object:await f.object,dispose:()=>f.dispose()}}catch(u){throw f.dispose(),u}}}e.AsyncReferenceCollection=r;class t{constructor(i){this.object=i}dispose(){}}e.ImmortalReference=t}),define(he[40],me([0,1]),function(oe,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinkedList=void 0;class P{constructor(M){this.element=M,this.next=P.Undefined,this.prev=P.Undefined}}P.Undefined=new P(void 0);class O{constructor(){this._first=P.Undefined,this._last=P.Undefined,this._size=0}get size(){return this._size}isEmpty(){return this._first===P.Undefined}clear(){let M=this._first;for(;M!==P.Undefined;){const z=M.next;M.prev=P.Undefined,M.next=P.Undefined,M=z}this._first=P.Undefined,this._last=P.Undefined,this._size=0}unshift(M){return this._insert(M,!1)}push(M){return this._insert(M,!0)}_insert(M,z){const D=new P(M);if(this._first===P.Undefined)this._first=D,this._last=D;else if(z){const L=this._last;this._last=D,D.prev=L,L.next=D}else{const L=this._first;this._first=D,D.next=L,L.prev=D}this._size+=1;let S=!1;return()=>{S||(S=!0,this._remove(D))}}shift(){if(this._first!==P.Undefined){const M=this._first.element;return this._remove(this._first),M}}pop(){if(this._last!==P.Undefined){const M=this._last.element;return this._remove(this._last),M}}_remove(M){if(M.prev!==P.Undefined&&M.next!==P.Undefined){const z=M.prev;z.next=M.next,M.next.prev=z}else M.prev===P.Undefined&&M.next===P.Undefined?(this._first=P.Undefined,this._last=P.Undefined):M.next===P.Undefined?(this._last=this._last.prev,this._last.next=P.Undefined):M.prev===P.Undefined&&(this._first=this._first.next,this._first.prev=P.Undefined);this._size-=1}*[Symbol.iterator](){let M=this._first;for(;M!==P.Undefined;)yield M.element,M=M.next}}e.LinkedList=O}),define(he[4],me([0,1]),function(oe,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isLittleEndian=e.OS=e.OperatingSystem=e.setImmediate=e.translationsConfigFile=e.locale=e.Language=e.language=e.userAgent=e.platform=e.isIOS=e.isWeb=e.isNative=e.isLinuxSnap=e.isLinux=e.isMacintosh=e.isWindows=e.PlatformToString=e.Platform=e.isPreferringBrowserCodeLoad=e.browserCodeLoadingCacheStrategy=e.isElectronSandboxed=e.globals=void 0;const P="en";let O=!1,R=!1,M=!1,z=!1,D=!1,S=!1,L=!1,I,N=P,K,q;e.globals=typeof self=="object"?self:typeof global=="object"?global:{};let p;typeof e.globals.vscode!="undefined"&&typeof e.globals.vscode.process!="undefined"?p=e.globals.vscode.process:typeof process!="undefined"&&(p=process);const T=typeof p?.versions?.electron=="string"&&p.type==="renderer";if(e.isElectronSandboxed=T&&p?.sandboxed,e.browserCodeLoadingCacheStrategy=(()=>{if(e.isElectronSandboxed)return"bypassHeatCheck";const n=p?.env.VSCODE_BROWSER_CODE_LOADING;if(typeof n=="string")return n==="none"||n==="code"||n==="bypassHeatCheck"||n==="bypassHeatCheckAndEagerCompile"?n:"bypassHeatCheck"})(),e.isPreferringBrowserCodeLoad=typeof e.browserCodeLoadingCacheStrategy=="string",typeof navigator=="object"&&!T)q=navigator.userAgent,O=q.indexOf("Windows")>=0,R=q.indexOf("Macintosh")>=0,L=(q.indexOf("Macintosh")>=0||q.indexOf("iPad")>=0||q.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,M=q.indexOf("Linux")>=0,S=!0,I=navigator.language,N=I;else if(typeof p=="object"){O=p.platform==="win32",R=p.platform==="darwin",M=p.platform==="linux",z=M&&!!p.env.SNAP&&!!p.env.SNAP_REVISION,I=P,N=P;const n=p.env.VSCODE_NLS_CONFIG;if(n)try{const i=JSON.parse(n),s=i.availableLanguages["*"];I=i.locale,N=s||P,K=i._translationsConfigFile}catch(i){}D=!0}else console.error("Unable to resolve platform.");var $;(function(n){n[n.Web=0]="Web",n[n.Mac=1]="Mac",n[n.Linux=2]="Linux",n[n.Windows=3]="Windows"})($=e.Platform||(e.Platform={}));function W(n){switch(n){case 0:return"Web";case 1:return"Mac";case 2:return"Linux";case 3:return"Windows"}}e.PlatformToString=W;let j=0;R?j=1:O?j=3:M&&(j=2),e.isWindows=O,e.isMacintosh=R,e.isLinux=M,e.isLinuxSnap=z,e.isNative=D,e.isWeb=S,e.isIOS=L,e.platform=j,e.userAgent=q,e.language=N;var a;(function(n){function i(){return e.language}n.value=i;function s(){return e.language.length===2?e.language==="en":e.language.length>=3?e.language[0]==="e"&&e.language[1]==="n"&&e.language[2]==="-":!1}n.isDefaultVariant=s;function f(){return e.language==="en"}n.isDefault=f})(a=e.Language||(e.Language={})),e.locale=I,e.translationsConfigFile=K,e.setImmediate=function(){if(e.globals.setImmediate)return e.globals.setImmediate.bind(e.globals);if(typeof e.globals.postMessage=="function"&&!e.globals.importScripts){let s=[];e.globals.addEventListener("message",u=>{if(u.data&&u.data.vscodeSetImmediateId)for(let E=0,g=s.length;E<g;E++){const _=s[E];if(_.id===u.data.vscodeSetImmediateId){s.splice(E,1),_.callback();return}}});let f=0;return u=>{const E=++f;s.push({id:E,callback:u}),e.globals.postMessage({vscodeSetImmediateId:E},"*")}}if(typeof p?.nextTick=="function")return p.nextTick.bind(p);const i=Promise.resolve();return s=>i.then(s)}();var l;(function(n){n[n.Windows=1]="Windows",n[n.Macintosh=2]="Macintosh",n[n.Linux=3]="Linux"})(l=e.OperatingSystem||(e.OperatingSystem={})),e.OS=R||L?2:O?1:3;let o=!0,r=!1;function t(){if(!r){r=!0;const n=new Uint8Array(2);n[0]=1,n[1]=2,o=new Uint16Array(n.buffer)[0]===(2<<8)+1}return o}e.isLittleEndian=t}),define(he[29],me([0,1,4]),function(oe,e,P){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.nextTick=e.platform=e.env=e.cwd=void 0;let O;if(typeof P.globals.vscode!="undefined"&&typeof P.globals.vscode.process!="undefined"){const R=P.globals.vscode.process;O={get platform(){return R.platform},get env(){return R.env},cwd(){return R.cwd()},nextTick(M){return(0,P.setImmediate)(M)}}}else typeof process!="undefined"?O={get platform(){return process.platform},get env(){return process.env},cwd(){return process.env.VSCODE_CWD||process.cwd()},nextTick(R){return process.nextTick(R)}}:O={get platform(){return P.isWindows?"win32":P.isMacintosh?"darwin":"linux"},nextTick(R){return(0,P.setImmediate)(R)},get env(){return{}},cwd(){return"/"}};e.cwd=O.cwd,e.env=O.env,e.platform=O.platform,e.nextTick=O.nextTick}),define(he[2],me([0,1,29]),function(oe,e,P){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.delimiter=e.sep=e.toNamespacedPath=e.parse=e.format=e.extname=e.basename=e.dirname=e.relative=e.resolve=e.join=e.isAbsolute=e.normalize=e.posix=e.win32=void 0;const O=65,R=97,M=90,z=122,D=46,S=47,L=92,I=58,N=63;class K extends Error{constructor(l,o,r){let t;typeof o=="string"&&o.indexOf("not ")===0?(t="must not be",o=o.replace(/^not /,"")):t="must be";const n=l.indexOf(".")!==-1?"property":"argument";let i=`The "${l}" ${n} ${t} of type ${o}`;i+=`. Received type ${typeof r}`,super(i),this.code="ERR_INVALID_ARG_TYPE"}}function q(a,l){if(typeof a!="string")throw new K(l,"string",a)}function p(a){return a===S||a===L}function T(a){return a===S}function $(a){return a>=O&&a<=M||a>=R&&a<=z}function W(a,l,o,r){let t="",n=0,i=-1,s=0,f=0;for(let u=0;u<=a.length;++u){if(u<a.length)f=a.charCodeAt(u);else{if(r(f))break;f=S}if(r(f)){if(!(i===u-1||s===1))if(s===2){if(t.length<2||n!==2||t.charCodeAt(t.length-1)!==D||t.charCodeAt(t.length-2)!==D){if(t.length>2){const E=t.lastIndexOf(o);E===-1?(t="",n=0):(t=t.slice(0,E),n=t.length-1-t.lastIndexOf(o)),i=u,s=0;continue}else if(t.length!==0){t="",n=0,i=u,s=0;continue}}l&&(t+=t.length>0?`${o}..`:"..",n=2)}else t.length>0?t+=`${o}${a.slice(i+1,u)}`:t=a.slice(i+1,u),n=u-i-1;i=u,s=0}else f===D&&s!==-1?++s:s=-1}return t}function j(a,l){if(l===null||typeof l!="object")throw new K("pathObject","Object",l);const o=l.dir||l.root,r=l.base||`${l.name||""}${l.ext||""}`;return o?o===l.root?`${o}${r}`:`${o}${a}${r}`:r}e.win32={resolve(...a){let l="",o="",r=!1;for(let t=a.length-1;t>=-1;t--){let n;if(t>=0){if(n=a[t],q(n,"path"),n.length===0)continue}else l.length===0?n=P.cwd():(n=P.env[`=${l}`]||P.cwd(),(n===void 0||n.slice(0,2).toLowerCase()!==l.toLowerCase()&&n.charCodeAt(2)===L)&&(n=`${l}\\`));const i=n.length;let s=0,f="",u=!1;const E=n.charCodeAt(0);if(i===1)p(E)&&(s=1,u=!0);else if(p(E))if(u=!0,p(n.charCodeAt(1))){let g=2,_=g;for(;g<i&&!p(n.charCodeAt(g));)g++;if(g<i&&g!==_){const k=n.slice(_,g);for(_=g;g<i&&p(n.charCodeAt(g));)g++;if(g<i&&g!==_){for(_=g;g<i&&!p(n.charCodeAt(g));)g++;(g===i||g!==_)&&(f=`\\\\${k}\\${n.slice(_,g)}`,s=g)}}}else s=1;else $(E)&&n.charCodeAt(1)===I&&(f=n.slice(0,2),s=2,i>2&&p(n.charCodeAt(2))&&(u=!0,s=3));if(f.length>0)if(l.length>0){if(f.toLowerCase()!==l.toLowerCase())continue}else l=f;if(r){if(l.length>0)break}else if(o=`${n.slice(s)}\\${o}`,r=u,u&&l.length>0)break}return o=W(o,!r,"\\",p),r?`${l}\\${o}`:`${l}${o}`||"."},normalize(a){q(a,"path");const l=a.length;if(l===0)return".";let o=0,r,t=!1;const n=a.charCodeAt(0);if(l===1)return T(n)?"\\":a;if(p(n))if(t=!0,p(a.charCodeAt(1))){let s=2,f=s;for(;s<l&&!p(a.charCodeAt(s));)s++;if(s<l&&s!==f){const u=a.slice(f,s);for(f=s;s<l&&p(a.charCodeAt(s));)s++;if(s<l&&s!==f){for(f=s;s<l&&!p(a.charCodeAt(s));)s++;if(s===l)return`\\\\${u}\\${a.slice(f)}\\`;s!==f&&(r=`\\\\${u}\\${a.slice(f,s)}`,o=s)}}}else o=1;else $(n)&&a.charCodeAt(1)===I&&(r=a.slice(0,2),o=2,l>2&&p(a.charCodeAt(2))&&(t=!0,o=3));let i=o<l?W(a.slice(o),!t,"\\",p):"";return i.length===0&&!t&&(i="."),i.length>0&&p(a.charCodeAt(l-1))&&(i+="\\"),r===void 0?t?`\\${i}`:i:t?`${r}\\${i}`:`${r}${i}`},isAbsolute(a){q(a,"path");const l=a.length;if(l===0)return!1;const o=a.charCodeAt(0);return p(o)||l>2&&$(o)&&a.charCodeAt(1)===I&&p(a.charCodeAt(2))},join(...a){if(a.length===0)return".";let l,o;for(let n=0;n<a.length;++n){const i=a[n];q(i,"path"),i.length>0&&(l===void 0?l=o=i:l+=`\\${i}`)}if(l===void 0)return".";let r=!0,t=0;if(typeof o=="string"&&p(o.charCodeAt(0))){++t;const n=o.length;n>1&&p(o.charCodeAt(1))&&(++t,n>2&&(p(o.charCodeAt(2))?++t:r=!1))}if(r){for(;t<l.length&&p(l.charCodeAt(t));)t++;t>=2&&(l=`\\${l.slice(t)}`)}return e.win32.normalize(l)},relative(a,l){if(q(a,"from"),q(l,"to"),a===l)return"";const o=e.win32.resolve(a),r=e.win32.resolve(l);if(o===r||(a=o.toLowerCase(),l=r.toLowerCase(),a===l))return"";let t=0;for(;t<a.length&&a.charCodeAt(t)===L;)t++;let n=a.length;for(;n-1>t&&a.charCodeAt(n-1)===L;)n--;const i=n-t;let s=0;for(;s<l.length&&l.charCodeAt(s)===L;)s++;let f=l.length;for(;f-1>s&&l.charCodeAt(f-1)===L;)f--;const u=f-s,E=i<u?i:u;let g=-1,_=0;for(;_<E;_++){const B=a.charCodeAt(t+_);if(B!==l.charCodeAt(s+_))break;B===L&&(g=_)}if(_!==E){if(g===-1)return r}else{if(u>E){if(l.charCodeAt(s+_)===L)return r.slice(s+_+1);if(_===2)return r.slice(s+_)}i>E&&(a.charCodeAt(t+_)===L?g=_:_===2&&(g=3)),g===-1&&(g=0)}let k="";for(_=t+g+1;_<=n;++_)(_===n||a.charCodeAt(_)===L)&&(k+=k.length===0?"..":"\\..");return s+=g,k.length>0?`${k}${r.slice(s,f)}`:(r.charCodeAt(s)===L&&++s,r.slice(s,f))},toNamespacedPath(a){if(typeof a!="string")return a;if(a.length===0)return"";const l=e.win32.resolve(a);if(l.length<=2)return a;if(l.charCodeAt(0)===L){if(l.charCodeAt(1)===L){const o=l.charCodeAt(2);if(o!==N&&o!==D)return`\\\\?\\UNC\\${l.slice(2)}`}}else if($(l.charCodeAt(0))&&l.charCodeAt(1)===I&&l.charCodeAt(2)===L)return`\\\\?\\${l}`;return a},dirname(a){q(a,"path");const l=a.length;if(l===0)return".";let o=-1,r=0;const t=a.charCodeAt(0);if(l===1)return p(t)?a:".";if(p(t)){if(o=r=1,p(a.charCodeAt(1))){let s=2,f=s;for(;s<l&&!p(a.charCodeAt(s));)s++;if(s<l&&s!==f){for(f=s;s<l&&p(a.charCodeAt(s));)s++;if(s<l&&s!==f){for(f=s;s<l&&!p(a.charCodeAt(s));)s++;if(s===l)return a;s!==f&&(o=r=s+1)}}}}else $(t)&&a.charCodeAt(1)===I&&(o=l>2&&p(a.charCodeAt(2))?3:2,r=o);let n=-1,i=!0;for(let s=l-1;s>=r;--s)if(p(a.charCodeAt(s))){if(!i){n=s;break}}else i=!1;if(n===-1){if(o===-1)return".";n=o}return a.slice(0,n)},basename(a,l){l!==void 0&&q(l,"ext"),q(a,"path");let o=0,r=-1,t=!0,n;if(a.length>=2&&$(a.charCodeAt(0))&&a.charCodeAt(1)===I&&(o=2),l!==void 0&&l.length>0&&l.length<=a.length){if(l===a)return"";let i=l.length-1,s=-1;for(n=a.length-1;n>=o;--n){const f=a.charCodeAt(n);if(p(f)){if(!t){o=n+1;break}}else s===-1&&(t=!1,s=n+1),i>=0&&(f===l.charCodeAt(i)?--i==-1&&(r=n):(i=-1,r=s))}return o===r?r=s:r===-1&&(r=a.length),a.slice(o,r)}for(n=a.length-1;n>=o;--n)if(p(a.charCodeAt(n))){if(!t){o=n+1;break}}else r===-1&&(t=!1,r=n+1);return r===-1?"":a.slice(o,r)},extname(a){q(a,"path");let l=0,o=-1,r=0,t=-1,n=!0,i=0;a.length>=2&&a.charCodeAt(1)===I&&$(a.charCodeAt(0))&&(l=r=2);for(let s=a.length-1;s>=l;--s){const f=a.charCodeAt(s);if(p(f)){if(!n){r=s+1;break}continue}t===-1&&(n=!1,t=s+1),f===D?o===-1?o=s:i!==1&&(i=1):o!==-1&&(i=-1)}return o===-1||t===-1||i===0||i===1&&o===t-1&&o===r+1?"":a.slice(o,t)},format:j.bind(null,"\\"),parse(a){q(a,"path");const l={root:"",dir:"",base:"",ext:"",name:""};if(a.length===0)return l;const o=a.length;let r=0,t=a.charCodeAt(0);if(o===1)return p(t)?(l.root=l.dir=a,l):(l.base=l.name=a,l);if(p(t)){if(r=1,p(a.charCodeAt(1))){let g=2,_=g;for(;g<o&&!p(a.charCodeAt(g));)g++;if(g<o&&g!==_){for(_=g;g<o&&p(a.charCodeAt(g));)g++;if(g<o&&g!==_){for(_=g;g<o&&!p(a.charCodeAt(g));)g++;g===o?r=g:g!==_&&(r=g+1)}}}}else if($(t)&&a.charCodeAt(1)===I){if(o<=2)return l.root=l.dir=a,l;if(r=2,p(a.charCodeAt(2))){if(o===3)return l.root=l.dir=a,l;r=3}}r>0&&(l.root=a.slice(0,r));let n=-1,i=r,s=-1,f=!0,u=a.length-1,E=0;for(;u>=r;--u){if(t=a.charCodeAt(u),p(t)){if(!f){i=u+1;break}continue}s===-1&&(f=!1,s=u+1),t===D?n===-1?n=u:E!==1&&(E=1):n!==-1&&(E=-1)}return s!==-1&&(n===-1||E===0||E===1&&n===s-1&&n===i+1?l.base=l.name=a.slice(i,s):(l.name=a.slice(i,n),l.base=a.slice(i,s),l.ext=a.slice(n,s))),i>0&&i!==r?l.dir=a.slice(0,i-1):l.dir=l.root,l},sep:"\\",delimiter:";",win32:null,posix:null},e.posix={resolve(...a){let l="",o=!1;for(let r=a.length-1;r>=-1&&!o;r--){const t=r>=0?a[r]:P.cwd();q(t,"path"),t.length!==0&&(l=`${t}/${l}`,o=t.charCodeAt(0)===S)}return l=W(l,!o,"/",T),o?`/${l}`:l.length>0?l:"."},normalize(a){if(q(a,"path"),a.length===0)return".";const l=a.charCodeAt(0)===S,o=a.charCodeAt(a.length-1)===S;return a=W(a,!l,"/",T),a.length===0?l?"/":o?"./":".":(o&&(a+="/"),l?`/${a}`:a)},isAbsolute(a){return q(a,"path"),a.length>0&&a.charCodeAt(0)===S},join(...a){if(a.length===0)return".";let l;for(let o=0;o<a.length;++o){const r=a[o];q(r,"path"),r.length>0&&(l===void 0?l=r:l+=`/${r}`)}return l===void 0?".":e.posix.normalize(l)},relative(a,l){if(q(a,"from"),q(l,"to"),a===l||(a=e.posix.resolve(a),l=e.posix.resolve(l),a===l))return"";const o=1,r=a.length,t=r-o,n=1,i=l.length-n,s=t<i?t:i;let f=-1,u=0;for(;u<s;u++){const g=a.charCodeAt(o+u);if(g!==l.charCodeAt(n+u))break;g===S&&(f=u)}if(u===s)if(i>s){if(l.charCodeAt(n+u)===S)return l.slice(n+u+1);if(u===0)return l.slice(n+u)}else t>s&&(a.charCodeAt(o+u)===S?f=u:u===0&&(f=0));let E="";for(u=o+f+1;u<=r;++u)(u===r||a.charCodeAt(u)===S)&&(E+=E.length===0?"..":"/..");return`${E}${l.slice(n+f)}`},toNamespacedPath(a){return a},dirname(a){if(q(a,"path"),a.length===0)return".";const l=a.charCodeAt(0)===S;let o=-1,r=!0;for(let t=a.length-1;t>=1;--t)if(a.charCodeAt(t)===S){if(!r){o=t;break}}else r=!1;return o===-1?l?"/":".":l&&o===1?"//":a.slice(0,o)},basename(a,l){l!==void 0&&q(l,"ext"),q(a,"path");let o=0,r=-1,t=!0,n;if(l!==void 0&&l.length>0&&l.length<=a.length){if(l===a)return"";let i=l.length-1,s=-1;for(n=a.length-1;n>=0;--n){const f=a.charCodeAt(n);if(f===S){if(!t){o=n+1;break}}else s===-1&&(t=!1,s=n+1),i>=0&&(f===l.charCodeAt(i)?--i==-1&&(r=n):(i=-1,r=s))}return o===r?r=s:r===-1&&(r=a.length),a.slice(o,r)}for(n=a.length-1;n>=0;--n)if(a.charCodeAt(n)===S){if(!t){o=n+1;break}}else r===-1&&(t=!1,r=n+1);return r===-1?"":a.slice(o,r)},extname(a){q(a,"path");let l=-1,o=0,r=-1,t=!0,n=0;for(let i=a.length-1;i>=0;--i){const s=a.charCodeAt(i);if(s===S){if(!t){o=i+1;break}continue}r===-1&&(t=!1,r=i+1),s===D?l===-1?l=i:n!==1&&(n=1):l!==-1&&(n=-1)}return l===-1||r===-1||n===0||n===1&&l===r-1&&l===o+1?"":a.slice(l,r)},format:j.bind(null,"/"),parse(a){q(a,"path");const l={root:"",dir:"",base:"",ext:"",name:""};if(a.length===0)return l;const o=a.charCodeAt(0)===S;let r;o?(l.root="/",r=1):r=0;let t=-1,n=0,i=-1,s=!0,f=a.length-1,u=0;for(;f>=r;--f){const E=a.charCodeAt(f);if(E===S){if(!s){n=f+1;break}continue}i===-1&&(s=!1,i=f+1),E===D?t===-1?t=f:u!==1&&(u=1):t!==-1&&(u=-1)}if(i!==-1){const E=n===0&&o?1:n;t===-1||u===0||u===1&&t===i-1&&t===n+1?l.base=l.name=a.slice(E,i):(l.name=a.slice(E,t),l.base=a.slice(E,i),l.ext=a.slice(t,i))}return n>0?l.dir=a.slice(0,n-1):o&&(l.dir="/"),l},sep:"/",delimiter:":",win32:null,posix:null},e.posix.win32=e.win32.win32=e.win32,e.posix.posix=e.win32.posix=e.posix,e.normalize=P.platform==="win32"?e.win32.normalize:e.posix.normalize,e.isAbsolute=P.platform==="win32"?e.win32.isAbsolute:e.posix.isAbsolute,e.join=P.platform==="win32"?e.win32.join:e.posix.join,e.resolve=P.platform==="win32"?e.win32.resolve:e.posix.resolve,e.relative=P.platform==="win32"?e.win32.relative:e.posix.relative,e.dirname=P.platform==="win32"?e.win32.dirname:e.posix.dirname,e.basename=P.platform==="win32"?e.win32.basename:e.posix.basename,e.extname=P.platform==="win32"?e.win32.extname:e.posix.extname,e.format=P.platform==="win32"?e.win32.format:e.posix.format,e.parse=P.platform==="win32"?e.win32.parse:e.posix.parse,e.toNamespacedPath=P.platform==="win32"?e.win32.toNamespacedPath:e.posix.toNamespacedPath,e.sep=P.platform==="win32"?e.win32.sep:e.posix.sep,e.delimiter=P.platform==="win32"?e.win32.delimiter:e.posix.delimiter}),define(he[20],me([0,1,4]),function(oe,e,P){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StopWatch=void 0;const O=P.globals.performance&&typeof P.globals.performance.now=="function";class R{constructor(z){this._highResolution=O&&z,this._startTime=this._now(),this._stopTime=-1}static create(z=!0){return new R(z)}stop(){this._stopTime=this._now()}elapsed(){return this._stopTime!==-1?this._stopTime-this._startTime:this._now()-this._startTime}_now(){return this._highResolution?P.globals.performance.now():Date.now()}}e.StopWatch=R}),define(he[11],me([0,1,6,28,10,40,20]),function(oe,e,P,O,R,M,z){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Relay=e.EventBufferer=e.EventMultiplexer=e.DebounceEmitter=e.PauseableEmitter=e.AsyncEmitter=e.Emitter=e.setGlobalLeakWarningThreshold=e.Event=void 0;var D;(function(a){a.None=()=>R.Disposable.None;function l(H){return(m,y=null,h)=>{let w=!1,v;return v=H(c=>{if(!w)return v?v.dispose():w=!0,m.call(y,c)},null,h),w&&v.dispose(),v}}a.once=l;function o(H,m){return f((y,h=null,w)=>H(v=>y.call(h,m(v)),null,w))}a.map=o;function r(H,m){return f((y,h=null,w)=>H(v=>{m(v),y.call(h,v)},null,w))}a.forEach=r;function t(H,m){return f((y,h=null,w)=>H(v=>m(v)&&y.call(h,v),null,w))}a.filter=t;function n(H){return H}a.signal=n;function i(...H){return(m,y=null,h)=>(0,R.combinedDisposable)(...H.map(w=>w(v=>m.call(y,v),null,h)))}a.any=i;function s(H,m,y){let h=y;return o(H,w=>(h=m(h,w),h))}a.reduce=s;function f(H){let m;const y=new K({onFirstListenerAdd(){m=H(y.fire,y)},onLastListenerRemove(){m.dispose()}});return y.event}function u(H,m,y=100,h=!1,w){let v,c,b,d=0;const A=new K({leakWarningThreshold:w,onFirstListenerAdd(){v=H(F=>{d++,c=m(c,F),h&&!b&&(A.fire(c),c=void 0),clearTimeout(b),b=setTimeout(()=>{const U=c;c=void 0,b=void 0,(!h||d>1)&&A.fire(U),d=0},y)})},onLastListenerRemove(){v.dispose()}});return A.event}a.debounce=u;function E(H,m=(y,h)=>y===h){let y=!0,h;return t(H,w=>{const v=y||!m(w,h);return y=!1,h=w,v})}a.latch=E;function g(H,m){return[a.filter(H,m),a.filter(H,y=>!m(y))]}a.split=g;function _(H,m=!1,y=[]){let h=y.slice(),w=H(b=>{h?h.push(b):c.fire(b)});const v=()=>{h&&h.forEach(b=>c.fire(b)),h=null},c=new K({onFirstListenerAdd(){w||(w=H(b=>c.fire(b)))},onFirstListenerDidAdd(){h&&(m?setTimeout(v):v())},onLastListenerRemove(){w&&w.dispose(),w=null}});return c.event}a.buffer=_;class k{constructor(m){this.event=m}map(m){return new k(o(this.event,m))}forEach(m){return new k(r(this.event,m))}filter(m){return new k(t(this.event,m))}reduce(m,y){return new k(s(this.event,m,y))}latch(){return new k(E(this.event))}debounce(m,y=100,h=!1,w){return new k(u(this.event,m,y,h,w))}on(m,y,h){return this.event(m,y,h)}once(m,y,h){return l(this.event)(m,y,h)}}function B(H){return new k(H)}a.chain=B;function te(H,m,y=h=>h){const h=(...b)=>c.fire(y(...b)),w=()=>H.on(m,h),v=()=>H.removeListener(m,h),c=new K({onFirstListenerAdd:w,onLastListenerRemove:v});return c.event}a.fromNodeEventEmitter=te;function ee(H,m,y=h=>h){const h=(...b)=>c.fire(y(...b)),w=()=>H.addEventListener(m,h),v=()=>H.removeEventListener(m,h),c=new K({onFirstListenerAdd:w,onLastListenerRemove:v});return c.event}a.fromDOMEventEmitter=ee;function re(H){return new Promise(m=>l(H)(m))}a.toPromise=re})(D=e.Event||(e.Event={}));class S{constructor(l){this._listenerCount=0,this._invocationCount=0,this._elapsedOverall=0,this._name=`${l}_${S._idPool++}`}start(l){this._stopWatch=new z.StopWatch(!0),this._listenerCount=l}stop(){if(this._stopWatch){const l=this._stopWatch.elapsed();this._elapsedOverall+=l,this._invocationCount+=1,console.info(`did FIRE ${this._name}: elapsed_ms: ${l.toFixed(5)}, listener: ${this._listenerCount} (elapsed_overall: ${this._elapsedOverall.toFixed(2)}, invocations: ${this._invocationCount})`),this._stopWatch=void 0}}}S._idPool=0;let L=-1;function I(a){const l=L;return L=a,{dispose(){L=l}}}e.setGlobalLeakWarningThreshold=I;class N{constructor(l,o=Math.random().toString(18).slice(2,5)){this.customThreshold=l,this.name=o,this._warnCountdown=0}dispose(){this._stacks&&this._stacks.clear()}check(l){let o=L;if(typeof this.customThreshold=="number"&&(o=this.customThreshold),o<=0||l<o)return;this._stacks||(this._stacks=new Map);const r=new Error().stack.split(`
`).slice(3).join(`
`),t=this._stacks.get(r)||0;if(this._stacks.set(r,t+1),this._warnCountdown-=1,this._warnCountdown<=0){this._warnCountdown=o*.5;let n,i=0;for(const[s,f]of this._stacks)(!n||i<f)&&(n=s,i=f);console.warn(`[${this.name}] potential listener LEAK detected, having ${l} listeners already. MOST frequent listener (${i}):`),console.warn(n)}return()=>{const n=this._stacks.get(r)||0;this._stacks.set(r,n-1)}}}class K{constructor(l){this._disposed=!1,this._options=l,this._leakageMon=L>0?new N(this._options&&this._options.leakWarningThreshold):void 0,this._perfMon=this._options?._profName?new S(this._options._profName):void 0}get event(){return this._event||(this._event=(l,o,r)=>{this._listeners||(this._listeners=new M.LinkedList);const t=this._listeners.isEmpty();t&&this._options&&this._options.onFirstListenerAdd&&this._options.onFirstListenerAdd(this);const n=this._listeners.push(o?[l,o]:l);t&&this._options&&this._options.onFirstListenerDidAdd&&this._options.onFirstListenerDidAdd(this),this._options&&this._options.onListenerDidAdd&&this._options.onListenerDidAdd(this,l,o);const i=this._leakageMon?.check(this._listeners.size),s=(0,R.toDisposable)(()=>{i&&i(),this._disposed||(n(),this._options&&this._options.onLastListenerRemove&&(this._listeners&&!this._listeners.isEmpty()||this._options.onLastListenerRemove(this)))});return r instanceof R.DisposableStore?r.add(s):Array.isArray(r)&&r.push(s),s}),this._event}fire(l){if(this._listeners){this._deliveryQueue||(this._deliveryQueue=new M.LinkedList);for(let o of this._listeners)this._deliveryQueue.push([o,l]);for(this._perfMon?.start(this._deliveryQueue.size);this._deliveryQueue.size>0;){const[o,r]=this._deliveryQueue.shift();try{typeof o=="function"?o.call(void 0,r):o[0].call(o[1],r)}catch(t){(0,P.onUnexpectedError)(t)}}this._perfMon?.stop()}}dispose(){this._disposed||(this._disposed=!0,this._listeners?.clear(),this._deliveryQueue?.clear(),this._options?.onLastListenerRemove?.(),this._leakageMon?.dispose())}}e.Emitter=K;class q extends K{async fireAsync(l,o,r){if(!!this._listeners){this._asyncDeliveryQueue||(this._asyncDeliveryQueue=new M.LinkedList);for(const t of this._listeners)this._asyncDeliveryQueue.push([t,l]);for(;this._asyncDeliveryQueue.size>0&&!o.isCancellationRequested;){const[t,n]=this._asyncDeliveryQueue.shift(),i=[],s={...n,waitUntil:f=>{if(Object.isFrozen(i))throw new Error("waitUntil can NOT be called asynchronous");r&&(f=r(f,typeof t=="function"?t:t[0])),i.push(f)}};try{typeof t=="function"?t.call(void 0,s):t[0].call(t[1],s)}catch(f){(0,P.onUnexpectedError)(f);continue}Object.freeze(i),await Promise.allSettled(i).then(f=>{for(const u of f)u.status==="rejected"&&(0,P.onUnexpectedError)(u.reason)})}}}}e.AsyncEmitter=q;class p extends K{constructor(l){super(l);this._isPaused=0,this._eventQueue=new M.LinkedList,this._mergeFn=l?.merge}pause(){this._isPaused++}resume(){if(this._isPaused!==0&&--this._isPaused==0)if(this._mergeFn){const l=Array.from(this._eventQueue);this._eventQueue.clear(),super.fire(this._mergeFn(l))}else for(;!this._isPaused&&this._eventQueue.size!==0;)super.fire(this._eventQueue.shift())}fire(l){this._listeners&&(this._isPaused!==0?this._eventQueue.push(l):super.fire(l))}}e.PauseableEmitter=p;class T extends p{constructor(l){super(l);this._delay=l.delay??100}fire(l){this._handle||(this.pause(),this._handle=setTimeout(()=>{this._handle=void 0,this.resume()},this._delay)),super.fire(l)}}e.DebounceEmitter=T;class ${constructor(){this.hasListeners=!1,this.events=[],this.emitter=new K({onFirstListenerAdd:()=>this.onFirstListenerAdd(),onLastListenerRemove:()=>this.onLastListenerRemove()})}get event(){return this.emitter.event}add(l){const o={event:l,listener:null};this.events.push(o),this.hasListeners&&this.hook(o);const r=()=>{this.hasListeners&&this.unhook(o);const t=this.events.indexOf(o);this.events.splice(t,1)};return(0,R.toDisposable)((0,O.once)(r))}onFirstListenerAdd(){this.hasListeners=!0,this.events.forEach(l=>this.hook(l))}onLastListenerRemove(){this.hasListeners=!1,this.events.forEach(l=>this.unhook(l))}hook(l){l.listener=l.event(o=>this.emitter.fire(o))}unhook(l){l.listener&&l.listener.dispose(),l.listener=null}dispose(){this.emitter.dispose()}}e.EventMultiplexer=$;class W{constructor(){this.buffers=[]}wrapEvent(l){return(o,r,t)=>l(n=>{const i=this.buffers[this.buffers.length-1];i?i.push(()=>o.call(r,n)):o.call(r,n)},void 0,t)}bufferEvents(l){const o=[];this.buffers.push(o);const r=l();return this.buffers.pop(),o.forEach(t=>t()),r}}e.EventBufferer=W;class j{constructor(){this.listening=!1,this.inputEvent=D.None,this.inputEventListener=R.Disposable.None,this.emitter=new K({onFirstListenerDidAdd:()=>{this.listening=!0,this.inputEventListener=this.inputEvent(this.emitter.fire,this.emitter)},onLastListenerRemove:()=>{this.listening=!1,this.inputEventListener.dispose()}}),this.event=this.emitter.event}set input(l){this.inputEvent=l,this.listening&&(this.inputEventListener.dispose(),this.inputEventListener=l(this.emitter.fire,this.emitter))}dispose(){this.inputEventListener.dispose(),this.emitter.dispose()}}e.Relay=j}),define(he[14],me([0,1,11]),function(oe,e,P){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CancellationTokenSource=e.CancellationToken=void 0;const O=Object.freeze(function(D,S){const L=setTimeout(D.bind(S),0);return{dispose(){clearTimeout(L)}}});var R;(function(D){function S(L){return L===D.None||L===D.Cancelled||L instanceof M?!0:!L||typeof L!="object"?!1:typeof L.isCancellationRequested=="boolean"&&typeof L.onCancellationRequested=="function"}D.isCancellationToken=S,D.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:P.Event.None}),D.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:O})})(R=e.CancellationToken||(e.CancellationToken={}));class M{constructor(){this._isCancelled=!1,this._emitter=null}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?O:(this._emitter||(this._emitter=new P.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}}class z{constructor(S){this._token=void 0,this._parentListener=void 0,this._parentListener=S&&S.onCancellationRequested(this.cancel,this)}get token(){return this._token||(this._token=new M),this._token}cancel(){this._token?this._token instanceof M&&this._token.cancel():this._token=R.Cancelled}dispose(S=!1){S&&this.cancel(),this._parentListener&&this._parentListener.dispose(),this._token?this._token instanceof M&&this._token.dispose():this._token=R.None}}e.CancellationTokenSource=z}),define(he[30],me([0,1,6,10]),function(oe,e,P,O){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.prefixedStream=e.prefixedReadable=e.transform=e.toReadable=e.emptyStream=e.toStream=e.peekStream=e.listenStream=e.consumeStream=e.peekReadable=e.consumeReadable=e.newWriteableStream=e.isReadableBufferedStream=e.isReadableStream=void 0;function R(a){const l=a;return l?[l.on,l.pause,l.resume,l.destroy].every(o=>typeof o=="function"):!1}e.isReadableStream=R;function M(a){const l=a;return l?R(l.stream)&&Array.isArray(l.buffer)&&typeof l.ended=="boolean":!1}e.isReadableBufferedStream=M;function z(a,l){return new D(a,l)}e.newWriteableStream=z;class D{constructor(l,o){this.reducer=l,this.options=o,this.state={flowing:!1,ended:!1,destroyed:!1},this.buffer={data:[],error:[]},this.listeners={data:[],error:[],end:[]},this.pendingWritePromises=[]}pause(){this.state.destroyed||(this.state.flowing=!1)}resume(){this.state.destroyed||this.state.flowing||(this.state.flowing=!0,this.flowData(),this.flowErrors(),this.flowEnd())}write(l){if(!this.state.destroyed){if(this.state.flowing)this.emitData(l);else if(this.buffer.data.push(l),typeof this.options?.highWaterMark=="number"&&this.buffer.data.length>this.options.highWaterMark)return new Promise(o=>this.pendingWritePromises.push(o))}}error(l){this.state.destroyed||(this.state.flowing?this.emitError(l):this.buffer.error.push(l))}end(l){this.state.destroyed||(typeof l!="undefined"&&this.write(l),this.state.flowing?(this.emitEnd(),this.destroy()):this.state.ended=!0)}emitData(l){this.listeners.data.slice(0).forEach(o=>o(l))}emitError(l){this.listeners.error.length===0?(0,P.onUnexpectedError)(l):this.listeners.error.slice(0).forEach(o=>o(l))}emitEnd(){this.listeners.end.slice(0).forEach(l=>l())}on(l,o){if(!this.state.destroyed)switch(l){case"data":this.listeners.data.push(o),this.resume();break;case"end":this.listeners.end.push(o),this.state.flowing&&this.flowEnd()&&this.destroy();break;case"error":this.listeners.error.push(o),this.state.flowing&&this.flowErrors();break}}removeListener(l,o){if(this.state.destroyed)return;let r;switch(l){case"data":r=this.listeners.data;break;case"end":r=this.listeners.end;break;case"error":r=this.listeners.error;break}if(r){const t=r.indexOf(o);t>=0&&r.splice(t,1)}}flowData(){if(this.buffer.data.length>0){const l=this.reducer(this.buffer.data);this.emitData(l),this.buffer.data.length=0;const o=[...this.pendingWritePromises];this.pendingWritePromises.length=0,o.forEach(r=>r())}}flowErrors(){if(this.listeners.error.length>0){for(const l of this.buffer.error)this.emitError(l);this.buffer.error.length=0}}flowEnd(){return this.state.ended?(this.emitEnd(),this.listeners.end.length>0):!1}destroy(){this.state.destroyed||(this.state.destroyed=!0,this.state.ended=!0,this.buffer.data.length=0,this.buffer.error.length=0,this.listeners.data.length=0,this.listeners.error.length=0,this.listeners.end.length=0,this.pendingWritePromises.length=0)}}function S(a,l){const o=[];let r;for(;(r=a.read())!==null;)o.push(r);return l(o)}e.consumeReadable=S;function L(a,l,o){const r=[];let t;for(;(t=a.read())!==null&&r.length<o;)r.push(t);return t===null&&r.length>0?l(r):{read:()=>{if(r.length>0)return r.shift();if(typeof t!="undefined"){const n=t;return t=void 0,n}return a.read()}}}e.peekReadable=L;function I(a,l){return new Promise((o,r)=>{const t=[];N(a,{onData:n=>{l&&t.push(n)},onError:n=>{l?r(n):o(void 0)},onEnd:()=>{o(l?l(t):void 0)}})})}e.consumeStream=I;function N(a,l){a.on("error",o=>l.onError(o)),a.on("end",()=>l.onEnd()),a.on("data",o=>l.onData(o))}e.listenStream=N;function K(a,l){return new Promise((o,r)=>{const t=new O.DisposableStore,n=[],i=u=>{if(n.push(u),n.length>l)return t.dispose(),a.pause(),o({stream:a,buffer:n,ended:!1})},s=u=>r(u),f=()=>o({stream:a,buffer:n,ended:!0});t.add((0,O.toDisposable)(()=>a.removeListener("error",s))),a.on("error",s),t.add((0,O.toDisposable)(()=>a.removeListener("end",f))),a.on("end",f),t.add((0,O.toDisposable)(()=>a.removeListener("data",i))),a.on("data",i)})}e.peekStream=K;function q(a,l){const o=z(l);return o.end(a),o}e.toStream=q;function p(){const a=z(()=>{throw new Error("not supported")});return a.end(),a}e.emptyStream=p;function T(a){let l=!1;return{read:()=>l?null:(l=!0,a)}}e.toReadable=T;function $(a,l,o){const r=z(o);return N(a,{onData:t=>r.write(l.data(t)),onError:t=>r.error(l.error?l.error(t):t),onEnd:()=>r.end()}),r}e.transform=$;function W(a,l,o){let r=!1;return{read:()=>{const t=l.read();return r?t:(r=!0,t!==null?o([a,t]):a)}}}e.prefixedReadable=W;function j(a,l,o){let r=!1;const t=z(o);return N(l,{onData:n=>r?t.write(n):(r=!0,t.write(o([a,n]))),onError:n=>t.error(n),onEnd:()=>{r||(r=!0,t.write(a)),t.end()}}),t}e.prefixedStream=j}),define(he[3],me([0,1]),function(oe,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getLeftDeleteOffset=e.GraphemeBreakType=e.breakBetweenGraphemeBreakType=e.getGraphemeBreakType=e.singleLetterHash=e.getNLines=e.uppercaseFirstLetter=e.containsUppercaseCharacter=e.fuzzyContains=e.stripUTF8BOM=e.startsWithUTF8BOM=e.UTF8_BOM_CHARACTER=e.removeAnsiEscapeCodes=e.lcut=e.isEmojiImprecise=e.isFullWidthCharacter=e.containsFullWidthCharacter=e.containsUnusualLineTerminators=e.UNUSUAL_LINE_TERMINATORS=e.isBasicASCII=e.containsEmoji=e.containsRTL=e.decodeUTF8=e.encodeUTF8=e.getCharContainingOffset=e.prevCharLength=e.nextCharLength=e.getNextCodePoint=e.computeCodePoint=e.isLowSurrogate=e.isHighSurrogate=e.commonSuffixLength=e.commonPrefixLength=e.startsWithIgnoreCase=e.equalsIgnoreCase=e.isUpperAsciiLetter=e.isLowerAsciiLetter=e.compareSubstringIgnoreCase=e.compareIgnoreCase=e.compareSubstring=e.compare=e.lastNonWhitespaceIndex=e.getLeadingWhitespace=e.firstNonWhitespaceIndex=e.splitLines=e.regExpFlags=e.regExpContainsBackreference=e.regExpLeadsToEndlessLoop=e.createRegExp=e.stripWildcards=e.convertSimple2RegExpPattern=e.rtrim=e.ltrim=e.trim=e.truncate=e.count=e.escapeRegExpCharacters=e.escape=e.format2=e.format=e.isFalsyOrWhitespace=void 0;function P(C){return!C||typeof C!="string"?!0:C.trim().length===0}e.isFalsyOrWhitespace=P;const O=/{(\d+)}/g;function R(C,...V){return V.length===0?C:C.replace(O,function(x,ne){const ae=parseInt(ne,10);return isNaN(ae)||ae<0||ae>=V.length?x:V[ae]})}e.format=R;const M=/{([^}]+)}/g;function z(C,V){return C.replace(M,(x,ne)=>V[ne]??x)}e.format2=z;function D(C){return C.replace(/[<>&]/g,function(V){switch(V){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";default:return V}})}e.escape=D;function S(C){return C.replace(/[\\\{\}\*\+\?\|\^\$\.\[\]\(\)]/g,"\\$&")}e.escapeRegExpCharacters=S;function L(C,V){let x=0;const ne=V.charCodeAt(0);for(let ae=C.length-1;ae>=0;ae--)C.charCodeAt(ae)===ne&&x++;return x}e.count=L;function I(C,V,x="\u2026"){return C.length<=V?C:`${C.substr(0,V)}${x}`}e.truncate=I;function N(C,V=" "){const x=K(C,V);return q(x,V)}e.trim=N;function K(C,V){if(!C||!V)return C;const x=V.length;if(x===0||C.length===0)return C;let ne=0;for(;C.indexOf(V,ne)===ne;)ne=ne+x;return C.substring(ne)}e.ltrim=K;function q(C,V){if(!C||!V)return C;const x=V.length,ne=C.length;if(x===0||ne===0)return C;let ae=ne,de=-1;for(;de=C.lastIndexOf(V,ae-1),!(de===-1||de+x!==ae);){if(de===0)return"";ae=de}return C.substring(0,ae)}e.rtrim=q;function p(C){return C.replace(/[\-\\\{\}\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&").replace(/[\*]/g,".*")}e.convertSimple2RegExpPattern=p;function T(C){return C.replace(/\*/g,"")}e.stripWildcards=T;function $(C,V,x={}){if(!C)throw new Error("Cannot create regex from empty string");V||(C=S(C)),x.wholeWord&&(/\B/.test(C.charAt(0))||(C="\\b"+C),/\B/.test(C.charAt(C.length-1))||(C=C+"\\b"));let ne="";return x.global&&(ne+="g"),x.matchCase||(ne+="i"),x.multiline&&(ne+="m"),x.unicode&&(ne+="u"),new RegExp(C,ne)}e.createRegExp=$;function W(C){return C.source==="^"||C.source==="^$"||C.source==="$"||C.source==="^\\s*$"?!1:!!(C.exec("")&&C.lastIndex===0)}e.regExpLeadsToEndlessLoop=W;function j(C){return!!C.match(/([^\\]|^)(\\\\)*\\\d+/)}e.regExpContainsBackreference=j;function a(C){return(C.global?"g":"")+(C.ignoreCase?"i":"")+(C.multiline?"m":"")+(C.unicode?"u":"")}e.regExpFlags=a;function l(C){return C.split(/\r\n|\r|\n/)}e.splitLines=l;function o(C){for(let V=0,x=C.length;V<x;V++){const ne=C.charCodeAt(V);if(ne!==32&&ne!==9)return V}return-1}e.firstNonWhitespaceIndex=o;function r(C,V=0,x=C.length){for(let ne=V;ne<x;ne++){const ae=C.charCodeAt(ne);if(ae!==32&&ae!==9)return C.substring(V,ne)}return C.substring(V,x)}e.getLeadingWhitespace=r;function t(C,V=C.length-1){for(let x=V;x>=0;x--){const ne=C.charCodeAt(x);if(ne!==32&&ne!==9)return x}return-1}e.lastNonWhitespaceIndex=t;function n(C,V){return C<V?-1:C>V?1:0}e.compare=n;function i(C,V,x=0,ne=C.length,ae=0,de=V.length){for(;x<ne&&ae<de;x++,ae++){let pe=C.charCodeAt(x),Re=V.charCodeAt(ae);if(pe<Re)return-1;if(pe>Re)return 1}const Ee=ne-x,_e=de-ae;return Ee<_e?-1:Ee>_e?1:0}e.compareSubstring=i;function s(C,V){return f(C,V,0,C.length,0,V.length)}e.compareIgnoreCase=s;function f(C,V,x=0,ne=C.length,ae=0,de=V.length){for(;x<ne&&ae<de;x++,ae++){let pe=C.charCodeAt(x),Re=V.charCodeAt(ae);if(pe===Re)continue;const Te=pe-Re;if(!(Te===32&&E(Re))&&!(Te===-32&&E(pe)))return u(pe)&&u(Re)?Te:i(C.toLowerCase(),V.toLowerCase(),x,ne,ae,de)}const Ee=ne-x,_e=de-ae;return Ee<_e?-1:Ee>_e?1:0}e.compareSubstringIgnoreCase=f;function u(C){return C>=97&&C<=122}e.isLowerAsciiLetter=u;function E(C){return C>=65&&C<=90}e.isUpperAsciiLetter=E;function g(C){return u(C)||E(C)}function _(C,V){return C.length===V.length&&k(C,V)}e.equalsIgnoreCase=_;function k(C,V,x=C.length){for(let ne=0;ne<x;ne++){const ae=C.charCodeAt(ne),de=V.charCodeAt(ne);if(ae!==de){if(g(ae)&&g(de)){const Ee=Math.abs(ae-de);if(Ee!==0&&Ee!==32)return!1}else if(String.fromCharCode(ae).toLowerCase()!==String.fromCharCode(de).toLowerCase())return!1}}return!0}function B(C,V){const x=V.length;return V.length>C.length?!1:k(C,V,x)}e.startsWithIgnoreCase=B;function te(C,V){let x,ne=Math.min(C.length,V.length);for(x=0;x<ne;x++)if(C.charCodeAt(x)!==V.charCodeAt(x))return x;return ne}e.commonPrefixLength=te;function ee(C,V){let x,ne=Math.min(C.length,V.length);const ae=C.length-1,de=V.length-1;for(x=0;x<ne;x++)if(C.charCodeAt(ae-x)!==V.charCodeAt(de-x))return x;return ne}e.commonSuffixLength=ee;function re(C){return 55296<=C&&C<=56319}e.isHighSurrogate=re;function H(C){return 56320<=C&&C<=57343}e.isLowSurrogate=H;function m(C,V){return(C-55296<<10)+(V-56320)+65536}e.computeCodePoint=m;function y(C,V,x){const ne=C.charCodeAt(x);if(re(ne)&&x+1<V){const ae=C.charCodeAt(x+1);if(H(ae))return m(ne,ae)}return ne}e.getNextCodePoint=y;function h(C,V){const x=C.charCodeAt(V-1);if(H(x)&&V>1){const ne=C.charCodeAt(V-2);if(re(ne))return m(ne,x)}return x}function w(C,V){const x=Fe.getInstance(),ne=V,ae=C.length,de=y(C,ae,V);V+=de>=65536?2:1;let Ee=x.getGraphemeBreakType(de);for(;V<ae;){const _e=y(C,ae,V),pe=x.getGraphemeBreakType(_e);if(Se(Ee,pe))break;V+=_e>=65536?2:1,Ee=pe}return V-ne}e.nextCharLength=w;function v(C,V){const x=Fe.getInstance(),ne=V,ae=h(C,V);V-=ae>=65536?2:1;let de=x.getGraphemeBreakType(ae);for(;V>0;){const Ee=h(C,V),_e=x.getGraphemeBreakType(Ee);if(Se(_e,de))break;V-=Ee>=65536?2:1,de=_e}return ne-V}e.prevCharLength=v;function c(C,V){const x=Fe.getInstance(),ne=C.length,ae=V,de=y(C,ne,V),Ee=x.getGraphemeBreakType(de);V+=de>=65536?2:1;let _e=Ee;for(;V<ne;){const Re=y(C,ne,V),Te=x.getGraphemeBreakType(Re);if(Se(_e,Te))break;V+=Re>=65536?2:1,_e=Te}const pe=V;for(V=ae,_e=Ee;V>0;){const Re=h(C,V),Te=x.getGraphemeBreakType(Re);if(Se(Te,_e))break;V-=Re>=65536?2:1,_e=Te}return[V,pe]}function b(C,V){return V>0&&H(C.charCodeAt(V))?c(C,V-1):c(C,V)}e.getCharContainingOffset=b;function d(C){const V=C.length;let x=0,ne=0;for(;ne<V;){const Ee=y(C,V,ne);ne+=Ee>=65536?2:1,Ee<128?x+=1:Ee<2048?x+=2:Ee<65536?x+=3:x+=4}const ae=new Uint8Array(x);ne=0;let de=0;for(;ne<V;){const Ee=y(C,V,ne);ne+=Ee>=65536?2:1,Ee<128?ae[de++]=Ee:Ee<2048?(ae[de++]=192|(Ee&1984)>>>6,ae[de++]=128|(Ee&63)>>>0):Ee<65536?(ae[de++]=224|(Ee&61440)>>>12,ae[de++]=128|(Ee&4032)>>>6,ae[de++]=128|(Ee&63)>>>0):(ae[de++]=240|(Ee&1835008)>>>18,ae[de++]=128|(Ee&258048)>>>12,ae[de++]=128|(Ee&4032)>>>6,ae[de++]=128|(Ee&63)>>>0)}return ae}e.encodeUTF8=d;function A(C){const V=C.byteLength,x=[];let ne=0;for(;ne<V;){const ae=C[ne];let de;if(ae>=240&&ne+3<V?de=(C[ne++]&7)<<18>>>0|(C[ne++]&63)<<12>>>0|(C[ne++]&63)<<6>>>0|(C[ne++]&63)<<0>>>0:ae>=224&&ne+2<V?de=(C[ne++]&15)<<12>>>0|(C[ne++]&63)<<6>>>0|(C[ne++]&63)<<0>>>0:ae>=192&&ne+1<V?de=(C[ne++]&31)<<6>>>0|(C[ne++]&63)<<0>>>0:de=C[ne++],de>=0&&de<=55295||de>=57344&&de<=65535)x.push(String.fromCharCode(de));else if(de>=65536&&de<=1114111){const Ee=de-65536,_e=55296+((Ee&1047552)>>>10),pe=56320+((Ee&1023)>>>0);x.push(String.fromCharCode(_e)),x.push(String.fromCharCode(pe))}else x.push(String.fromCharCode(65533))}return x.join("")}e.decodeUTF8=A;const F=/(?:[\u05BE\u05C0\u05C3\u05C6\u05D0-\u05F4\u0608\u060B\u060D\u061B-\u064A\u066D-\u066F\u0671-\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u0710\u0712-\u072F\u074D-\u07A5\u07B1-\u07EA\u07F4\u07F5\u07FA-\u0815\u081A\u0824\u0828\u0830-\u0858\u085E-\u08BD\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFD3D\uFD50-\uFDFC\uFE70-\uFEFC]|\uD802[\uDC00-\uDD1B\uDD20-\uDE00\uDE10-\uDE33\uDE40-\uDEE4\uDEEB-\uDF35\uDF40-\uDFFF]|\uD803[\uDC00-\uDCFF]|\uD83A[\uDC00-\uDCCF\uDD00-\uDD43\uDD50-\uDFFF]|\uD83B[\uDC00-\uDEBB])/;function U(C){return F.test(C)}e.containsRTL=U;const Q=/(?:[\u231A\u231B\u23F0\u23F3\u2600-\u27BF\u2B50\u2B55]|\uD83C[\uDDE6-\uDDFF\uDF00-\uDFFF]|\uD83D[\uDC00-\uDE4F\uDE80-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD00-\uDDFF\uDE70-\uDED6])/;function J(C){return Q.test(C)}e.containsEmoji=J;const X=/^[\t\n\r\x20-\x7E]*$/;function se(C){return X.test(C)}e.isBasicASCII=se,e.UNUSUAL_LINE_TERMINATORS=/[\u2028\u2029]/;function le(C){return e.UNUSUAL_LINE_TERMINATORS.test(C)}e.containsUnusualLineTerminators=le;function fe(C){for(let V=0,x=C.length;V<x;V++)if(ve(C.charCodeAt(V)))return!0;return!1}e.containsFullWidthCharacter=fe;function ve(C){return C=+C,C>=11904&&C<=55215||C>=63744&&C<=64255||C>=65281&&C<=65374}e.isFullWidthCharacter=ve;function ye(C){return C>=127462&&C<=127487||C===8986||C===8987||C===9200||C===9203||C>=9728&&C<=10175||C===11088||C===11093||C>=127744&&C<=128591||C>=128640&&C<=128764||C>=128992&&C<=129003||C>=129280&&C<=129535||C>=129648&&C<=129750}e.isEmojiImprecise=ye;function Ie(C,V){if(C.length<V)return C;const x=/\b/g;let ne=0;for(;x.test(C)&&!(C.length-x.lastIndex<V);)ne=x.lastIndex,x.lastIndex+=1;return C.substring(ne).replace(/^\s/,"")}e.lcut=Ie;const De=/\x1B\x5B[12]?K/g,G=/\x1b\[\d+m/g,Y=/\x1b\[0?m/g;function Z(C){return C&&(C=C.replace(De,""),C=C.replace(G,""),C=C.replace(Y,"")),C}e.removeAnsiEscapeCodes=Z,e.UTF8_BOM_CHARACTER=String.fromCharCode(65279);function ie(C){return!!(C&&C.length>0&&C.charCodeAt(0)===65279)}e.startsWithUTF8BOM=ie;function ce(C){return ie(C)?C.substr(1):C}e.stripUTF8BOM=ce;function ue(C,V){if(!C||!V||C.length<V.length)return!1;const x=V.length,ne=C.toLowerCase();let ae=0,de=-1;for(;ae<x;){const Ee=ne.indexOf(V[ae],de+1);if(Ee<0)return!1;de=Ee,ae++}return!0}e.fuzzyContains=ue;function ge(C,V=!1){return C?(V&&(C=C.replace(/\\./g,"")),C.toLowerCase()!==C):!1}e.containsUppercaseCharacter=ge;function Ce(C){return C.charAt(0).toUpperCase()+C.slice(1)}e.uppercaseFirstLetter=Ce;function Le(C,V=1){if(V===0)return"";let x=-1;do x=C.indexOf(`
`,x+1),V--;while(V>0&&x>=0);return x===-1?C:(C[x-1]==="\r"&&x--,C.substr(0,x))}e.getNLines=Le;function we(C){const V=90-65+1;return C=C%(2*V),C<V?String.fromCharCode(97+C):String.fromCharCode(65+C-V)}e.singleLetterHash=we;function be(C){return Fe.getInstance().getGraphemeBreakType(C)}e.getGraphemeBreakType=be;function Se(C,V){return C===0?V!==5&&V!==7:C===2&&V===3?!1:C===4||C===2||C===3||V===4||V===2||V===3?!0:!(C===8&&(V===8||V===9||V===11||V===12)||(C===11||C===9)&&(V===9||V===10)||(C===12||C===10)&&V===10||V===5||V===13||V===7||C===1||C===13&&V===14||C===6&&V===6)}e.breakBetweenGraphemeBreakType=Se;var Pe;(function(C){C[C.Other=0]="Other",C[C.Prepend=1]="Prepend",C[C.CR=2]="CR",C[C.LF=3]="LF",C[C.Control=4]="Control",C[C.Extend=5]="Extend",C[C.Regional_Indicator=6]="Regional_Indicator",C[C.SpacingMark=7]="SpacingMark",C[C.L=8]="L",C[C.V=9]="V",C[C.T=10]="T",C[C.LV=11]="LV",C[C.LVT=12]="LVT",C[C.ZWJ=13]="ZWJ",C[C.Extended_Pictographic=14]="Extended_Pictographic"})(Pe=e.GraphemeBreakType||(e.GraphemeBreakType={}));class Fe{constructor(){this._data=Ne()}static getInstance(){return Fe._INSTANCE||(Fe._INSTANCE=new Fe),Fe._INSTANCE}getGraphemeBreakType(V){if(V<32)return V===10?3:V===13?2:4;if(V<127)return 0;const x=this._data,ne=x.length/3;let ae=1;for(;ae<=ne;)if(V<x[3*ae])ae=2*ae;else if(V>x[3*ae+1])ae=2*ae+1;else return x[3*ae+2];return 0}}Fe._INSTANCE=null;function Ne(){return JSON.parse("[0,0,0,51592,51592,11,44424,44424,11,72251,72254,5,7150,7150,7,48008,48008,11,55176,55176,11,128420,128420,14,3276,3277,5,9979,9980,14,46216,46216,11,49800,49800,11,53384,53384,11,70726,70726,5,122915,122916,5,129320,129327,14,2558,2558,5,5906,5908,5,9762,9763,14,43360,43388,8,45320,45320,11,47112,47112,11,48904,48904,11,50696,50696,11,52488,52488,11,54280,54280,11,70082,70083,1,71350,71350,7,73111,73111,5,127892,127893,14,128726,128727,14,129473,129474,14,2027,2035,5,2901,2902,5,3784,3789,5,6754,6754,5,8418,8420,5,9877,9877,14,11088,11088,14,44008,44008,5,44872,44872,11,45768,45768,11,46664,46664,11,47560,47560,11,48456,48456,11,49352,49352,11,50248,50248,11,51144,51144,11,52040,52040,11,52936,52936,11,53832,53832,11,54728,54728,11,69811,69814,5,70459,70460,5,71096,71099,7,71998,71998,5,72874,72880,5,119149,119149,7,127374,127374,14,128335,128335,14,128482,128482,14,128765,128767,14,129399,129400,14,129680,129685,14,1476,1477,5,2377,2380,7,2759,2760,5,3137,3140,7,3458,3459,7,4153,4154,5,6432,6434,5,6978,6978,5,7675,7679,5,9723,9726,14,9823,9823,14,9919,9923,14,10035,10036,14,42736,42737,5,43596,43596,5,44200,44200,11,44648,44648,11,45096,45096,11,45544,45544,11,45992,45992,11,46440,46440,11,46888,46888,11,47336,47336,11,47784,47784,11,48232,48232,11,48680,48680,11,49128,49128,11,49576,49576,11,50024,50024,11,50472,50472,11,50920,50920,11,51368,51368,11,51816,51816,11,52264,52264,11,52712,52712,11,53160,53160,11,53608,53608,11,54056,54056,11,54504,54504,11,54952,54952,11,68108,68111,5,69933,69940,5,70197,70197,7,70498,70499,7,70845,70845,5,71229,71229,5,71727,71735,5,72154,72155,5,72344,72345,5,73023,73029,5,94095,94098,5,121403,121452,5,126981,127182,14,127538,127546,14,127990,127990,14,128391,128391,14,128445,128449,14,128500,128505,14,128752,128752,14,129160,129167,14,129356,129356,14,129432,129442,14,129648,129651,14,129751,131069,14,173,173,4,1757,1757,1,2274,2274,1,2494,2494,5,2641,2641,5,2876,2876,5,3014,3016,7,3262,3262,7,3393,3396,5,3570,3571,7,3968,3972,5,4228,4228,7,6086,6086,5,6679,6680,5,6912,6915,5,7080,7081,5,7380,7392,5,8252,8252,14,9096,9096,14,9748,9749,14,9784,9786,14,9833,9850,14,9890,9894,14,9938,9938,14,9999,9999,14,10085,10087,14,12349,12349,14,43136,43137,7,43454,43456,7,43755,43755,7,44088,44088,11,44312,44312,11,44536,44536,11,44760,44760,11,44984,44984,11,45208,45208,11,45432,45432,11,45656,45656,11,45880,45880,11,46104,46104,11,46328,46328,11,46552,46552,11,46776,46776,11,47000,47000,11,47224,47224,11,47448,47448,11,47672,47672,11,47896,47896,11,48120,48120,11,48344,48344,11,48568,48568,11,48792,48792,11,49016,49016,11,49240,49240,11,49464,49464,11,49688,49688,11,49912,49912,11,50136,50136,11,50360,50360,11,50584,50584,11,50808,50808,11,51032,51032,11,51256,51256,11,51480,51480,11,51704,51704,11,51928,51928,11,52152,52152,11,52376,52376,11,52600,52600,11,52824,52824,11,53048,53048,11,53272,53272,11,53496,53496,11,53720,53720,11,53944,53944,11,54168,54168,11,54392,54392,11,54616,54616,11,54840,54840,11,55064,55064,11,65438,65439,5,69633,69633,5,69837,69837,1,70018,70018,7,70188,70190,7,70368,70370,7,70465,70468,7,70712,70719,5,70835,70840,5,70850,70851,5,71132,71133,5,71340,71340,7,71458,71461,5,71985,71989,7,72002,72002,7,72193,72202,5,72281,72283,5,72766,72766,7,72885,72886,5,73104,73105,5,92912,92916,5,113824,113827,4,119173,119179,5,121505,121519,5,125136,125142,5,127279,127279,14,127489,127490,14,127570,127743,14,127900,127901,14,128254,128254,14,128369,128370,14,128400,128400,14,128425,128432,14,128468,128475,14,128489,128494,14,128715,128720,14,128745,128745,14,128759,128760,14,129004,129023,14,129296,129304,14,129340,129342,14,129388,129392,14,129404,129407,14,129454,129455,14,129485,129487,14,129659,129663,14,129719,129727,14,917536,917631,5,13,13,2,1160,1161,5,1564,1564,4,1807,1807,1,2085,2087,5,2363,2363,7,2402,2403,5,2507,2508,7,2622,2624,7,2691,2691,7,2786,2787,5,2881,2884,5,3006,3006,5,3072,3072,5,3170,3171,5,3267,3268,7,3330,3331,7,3406,3406,1,3538,3540,5,3655,3662,5,3897,3897,5,4038,4038,5,4184,4185,5,4352,4447,8,6068,6069,5,6155,6157,5,6448,6449,7,6742,6742,5,6783,6783,5,6966,6970,5,7042,7042,7,7143,7143,7,7212,7219,5,7412,7412,5,8206,8207,4,8294,8303,4,8596,8601,14,9410,9410,14,9742,9742,14,9757,9757,14,9770,9770,14,9794,9794,14,9828,9828,14,9855,9855,14,9882,9882,14,9900,9903,14,9929,9933,14,9963,9967,14,9987,9988,14,10006,10006,14,10062,10062,14,10175,10175,14,11744,11775,5,42607,42607,5,43043,43044,7,43263,43263,5,43444,43445,7,43569,43570,5,43698,43700,5,43766,43766,5,44032,44032,11,44144,44144,11,44256,44256,11,44368,44368,11,44480,44480,11,44592,44592,11,44704,44704,11,44816,44816,11,44928,44928,11,45040,45040,11,45152,45152,11,45264,45264,11,45376,45376,11,45488,45488,11,45600,45600,11,45712,45712,11,45824,45824,11,45936,45936,11,46048,46048,11,46160,46160,11,46272,46272,11,46384,46384,11,46496,46496,11,46608,46608,11,46720,46720,11,46832,46832,11,46944,46944,11,47056,47056,11,47168,47168,11,47280,47280,11,47392,47392,11,47504,47504,11,47616,47616,11,47728,47728,11,47840,47840,11,47952,47952,11,48064,48064,11,48176,48176,11,48288,48288,11,48400,48400,11,48512,48512,11,48624,48624,11,48736,48736,11,48848,48848,11,48960,48960,11,49072,49072,11,49184,49184,11,49296,49296,11,49408,49408,11,49520,49520,11,49632,49632,11,49744,49744,11,49856,49856,11,49968,49968,11,50080,50080,11,50192,50192,11,50304,50304,11,50416,50416,11,50528,50528,11,50640,50640,11,50752,50752,11,50864,50864,11,50976,50976,11,51088,51088,11,51200,51200,11,51312,51312,11,51424,51424,11,51536,51536,11,51648,51648,11,51760,51760,11,51872,51872,11,51984,51984,11,52096,52096,11,52208,52208,11,52320,52320,11,52432,52432,11,52544,52544,11,52656,52656,11,52768,52768,11,52880,52880,11,52992,52992,11,53104,53104,11,53216,53216,11,53328,53328,11,53440,53440,11,53552,53552,11,53664,53664,11,53776,53776,11,53888,53888,11,54000,54000,11,54112,54112,11,54224,54224,11,54336,54336,11,54448,54448,11,54560,54560,11,54672,54672,11,54784,54784,11,54896,54896,11,55008,55008,11,55120,55120,11,64286,64286,5,66272,66272,5,68900,68903,5,69762,69762,7,69817,69818,5,69927,69931,5,70003,70003,5,70070,70078,5,70094,70094,7,70194,70195,7,70206,70206,5,70400,70401,5,70463,70463,7,70475,70477,7,70512,70516,5,70722,70724,5,70832,70832,5,70842,70842,5,70847,70848,5,71088,71089,7,71102,71102,7,71219,71226,5,71231,71232,5,71342,71343,7,71453,71455,5,71463,71467,5,71737,71738,5,71995,71996,5,72000,72000,7,72145,72147,7,72160,72160,5,72249,72249,7,72273,72278,5,72330,72342,5,72752,72758,5,72850,72871,5,72882,72883,5,73018,73018,5,73031,73031,5,73109,73109,5,73461,73462,7,94031,94031,5,94192,94193,7,119142,119142,7,119155,119162,4,119362,119364,5,121476,121476,5,122888,122904,5,123184,123190,5,126976,126979,14,127184,127231,14,127344,127345,14,127405,127461,14,127514,127514,14,127561,127567,14,127778,127779,14,127896,127896,14,127985,127986,14,127995,127999,5,128326,128328,14,128360,128366,14,128378,128378,14,128394,128397,14,128405,128406,14,128422,128423,14,128435,128443,14,128453,128464,14,128479,128480,14,128484,128487,14,128496,128498,14,128640,128709,14,128723,128724,14,128736,128741,14,128747,128748,14,128755,128755,14,128762,128762,14,128981,128991,14,129096,129103,14,129292,129292,14,129311,129311,14,129329,129330,14,129344,129349,14,129360,129374,14,129394,129394,14,129402,129402,14,129413,129425,14,129445,129450,14,129466,129471,14,129483,129483,14,129511,129535,14,129653,129655,14,129667,129670,14,129705,129711,14,129731,129743,14,917505,917505,4,917760,917999,5,10,10,3,127,159,4,768,879,5,1471,1471,5,1536,1541,1,1648,1648,5,1767,1768,5,1840,1866,5,2070,2073,5,2137,2139,5,2307,2307,7,2366,2368,7,2382,2383,7,2434,2435,7,2497,2500,5,2519,2519,5,2563,2563,7,2631,2632,5,2677,2677,5,2750,2752,7,2763,2764,7,2817,2817,5,2879,2879,5,2891,2892,7,2914,2915,5,3008,3008,5,3021,3021,5,3076,3076,5,3146,3149,5,3202,3203,7,3264,3265,7,3271,3272,7,3298,3299,5,3390,3390,5,3402,3404,7,3426,3427,5,3535,3535,5,3544,3550,7,3635,3635,7,3763,3763,7,3893,3893,5,3953,3966,5,3981,3991,5,4145,4145,7,4157,4158,5,4209,4212,5,4237,4237,5,4520,4607,10,5970,5971,5,6071,6077,5,6089,6099,5,6277,6278,5,6439,6440,5,6451,6456,7,6683,6683,5,6744,6750,5,6765,6770,7,6846,6846,5,6964,6964,5,6972,6972,5,7019,7027,5,7074,7077,5,7083,7085,5,7146,7148,7,7154,7155,7,7222,7223,5,7394,7400,5,7416,7417,5,8204,8204,5,8233,8233,4,8288,8292,4,8413,8416,5,8482,8482,14,8986,8987,14,9193,9203,14,9654,9654,14,9733,9733,14,9745,9745,14,9752,9752,14,9760,9760,14,9766,9766,14,9774,9775,14,9792,9792,14,9800,9811,14,9825,9826,14,9831,9831,14,9852,9853,14,9872,9873,14,9880,9880,14,9885,9887,14,9896,9897,14,9906,9916,14,9926,9927,14,9936,9936,14,9941,9960,14,9974,9974,14,9982,9985,14,9992,9997,14,10002,10002,14,10017,10017,14,10055,10055,14,10071,10071,14,10145,10145,14,11013,11015,14,11503,11505,5,12334,12335,5,12951,12951,14,42612,42621,5,43014,43014,5,43047,43047,7,43204,43205,5,43335,43345,5,43395,43395,7,43450,43451,7,43561,43566,5,43573,43574,5,43644,43644,5,43710,43711,5,43758,43759,7,44005,44005,5,44012,44012,7,44060,44060,11,44116,44116,11,44172,44172,11,44228,44228,11,44284,44284,11,44340,44340,11,44396,44396,11,44452,44452,11,44508,44508,11,44564,44564,11,44620,44620,11,44676,44676,11,44732,44732,11,44788,44788,11,44844,44844,11,44900,44900,11,44956,44956,11,45012,45012,11,45068,45068,11,45124,45124,11,45180,45180,11,45236,45236,11,45292,45292,11,45348,45348,11,45404,45404,11,45460,45460,11,45516,45516,11,45572,45572,11,45628,45628,11,45684,45684,11,45740,45740,11,45796,45796,11,45852,45852,11,45908,45908,11,45964,45964,11,46020,46020,11,46076,46076,11,46132,46132,11,46188,46188,11,46244,46244,11,46300,46300,11,46356,46356,11,46412,46412,11,46468,46468,11,46524,46524,11,46580,46580,11,46636,46636,11,46692,46692,11,46748,46748,11,46804,46804,11,46860,46860,11,46916,46916,11,46972,46972,11,47028,47028,11,47084,47084,11,47140,47140,11,47196,47196,11,47252,47252,11,47308,47308,11,47364,47364,11,47420,47420,11,47476,47476,11,47532,47532,11,47588,47588,11,47644,47644,11,47700,47700,11,47756,47756,11,47812,47812,11,47868,47868,11,47924,47924,11,47980,47980,11,48036,48036,11,48092,48092,11,48148,48148,11,48204,48204,11,48260,48260,11,48316,48316,11,48372,48372,11,48428,48428,11,48484,48484,11,48540,48540,11,48596,48596,11,48652,48652,11,48708,48708,11,48764,48764,11,48820,48820,11,48876,48876,11,48932,48932,11,48988,48988,11,49044,49044,11,49100,49100,11,49156,49156,11,49212,49212,11,49268,49268,11,49324,49324,11,49380,49380,11,49436,49436,11,49492,49492,11,49548,49548,11,49604,49604,11,49660,49660,11,49716,49716,11,49772,49772,11,49828,49828,11,49884,49884,11,49940,49940,11,49996,49996,11,50052,50052,11,50108,50108,11,50164,50164,11,50220,50220,11,50276,50276,11,50332,50332,11,50388,50388,11,50444,50444,11,50500,50500,11,50556,50556,11,50612,50612,11,50668,50668,11,50724,50724,11,50780,50780,11,50836,50836,11,50892,50892,11,50948,50948,11,51004,51004,11,51060,51060,11,51116,51116,11,51172,51172,11,51228,51228,11,51284,51284,11,51340,51340,11,51396,51396,11,51452,51452,11,51508,51508,11,51564,51564,11,51620,51620,11,51676,51676,11,51732,51732,11,51788,51788,11,51844,51844,11,51900,51900,11,51956,51956,11,52012,52012,11,52068,52068,11,52124,52124,11,52180,52180,11,52236,52236,11,52292,52292,11,52348,52348,11,52404,52404,11,52460,52460,11,52516,52516,11,52572,52572,11,52628,52628,11,52684,52684,11,52740,52740,11,52796,52796,11,52852,52852,11,52908,52908,11,52964,52964,11,53020,53020,11,53076,53076,11,53132,53132,11,53188,53188,11,53244,53244,11,53300,53300,11,53356,53356,11,53412,53412,11,53468,53468,11,53524,53524,11,53580,53580,11,53636,53636,11,53692,53692,11,53748,53748,11,53804,53804,11,53860,53860,11,53916,53916,11,53972,53972,11,54028,54028,11,54084,54084,11,54140,54140,11,54196,54196,11,54252,54252,11,54308,54308,11,54364,54364,11,54420,54420,11,54476,54476,11,54532,54532,11,54588,54588,11,54644,54644,11,54700,54700,11,54756,54756,11,54812,54812,11,54868,54868,11,54924,54924,11,54980,54980,11,55036,55036,11,55092,55092,11,55148,55148,11,55216,55238,9,65056,65071,5,65529,65531,4,68097,68099,5,68159,68159,5,69446,69456,5,69688,69702,5,69808,69810,7,69815,69816,7,69821,69821,1,69888,69890,5,69932,69932,7,69957,69958,7,70016,70017,5,70067,70069,7,70079,70080,7,70089,70092,5,70095,70095,5,70191,70193,5,70196,70196,5,70198,70199,5,70367,70367,5,70371,70378,5,70402,70403,7,70462,70462,5,70464,70464,5,70471,70472,7,70487,70487,5,70502,70508,5,70709,70711,7,70720,70721,7,70725,70725,7,70750,70750,5,70833,70834,7,70841,70841,7,70843,70844,7,70846,70846,7,70849,70849,7,71087,71087,5,71090,71093,5,71100,71101,5,71103,71104,5,71216,71218,7,71227,71228,7,71230,71230,7,71339,71339,5,71341,71341,5,71344,71349,5,71351,71351,5,71456,71457,7,71462,71462,7,71724,71726,7,71736,71736,7,71984,71984,5,71991,71992,7,71997,71997,7,71999,71999,1,72001,72001,1,72003,72003,5,72148,72151,5,72156,72159,7,72164,72164,7,72243,72248,5,72250,72250,1,72263,72263,5,72279,72280,7,72324,72329,1,72343,72343,7,72751,72751,7,72760,72765,5,72767,72767,5,72873,72873,7,72881,72881,7,72884,72884,7,73009,73014,5,73020,73021,5,73030,73030,1,73098,73102,7,73107,73108,7,73110,73110,7,73459,73460,5,78896,78904,4,92976,92982,5,94033,94087,7,94180,94180,5,113821,113822,5,119141,119141,5,119143,119145,5,119150,119154,5,119163,119170,5,119210,119213,5,121344,121398,5,121461,121461,5,121499,121503,5,122880,122886,5,122907,122913,5,122918,122922,5,123628,123631,5,125252,125258,5,126980,126980,14,127183,127183,14,127245,127247,14,127340,127343,14,127358,127359,14,127377,127386,14,127462,127487,6,127491,127503,14,127535,127535,14,127548,127551,14,127568,127569,14,127744,127777,14,127780,127891,14,127894,127895,14,127897,127899,14,127902,127984,14,127987,127989,14,127991,127994,14,128000,128253,14,128255,128317,14,128329,128334,14,128336,128359,14,128367,128368,14,128371,128377,14,128379,128390,14,128392,128393,14,128398,128399,14,128401,128404,14,128407,128419,14,128421,128421,14,128424,128424,14,128433,128434,14,128444,128444,14,128450,128452,14,128465,128467,14,128476,128478,14,128481,128481,14,128483,128483,14,128488,128488,14,128495,128495,14,128499,128499,14,128506,128591,14,128710,128714,14,128721,128722,14,128725,128725,14,128728,128735,14,128742,128744,14,128746,128746,14,128749,128751,14,128753,128754,14,128756,128758,14,128761,128761,14,128763,128764,14,128884,128895,14,128992,129003,14,129036,129039,14,129114,129119,14,129198,129279,14,129293,129295,14,129305,129310,14,129312,129319,14,129328,129328,14,129331,129338,14,129343,129343,14,129351,129355,14,129357,129359,14,129375,129387,14,129393,129393,14,129395,129398,14,129401,129401,14,129403,129403,14,129408,129412,14,129426,129431,14,129443,129444,14,129451,129453,14,129456,129465,14,129472,129472,14,129475,129482,14,129484,129484,14,129488,129510,14,129536,129647,14,129652,129652,14,129656,129658,14,129664,129666,14,129671,129679,14,129686,129704,14,129712,129718,14,129728,129730,14,129744,129750,14,917504,917504,4,917506,917535,4,917632,917759,4,918000,921599,4,0,9,4,11,12,4,14,31,4,169,169,14,174,174,14,1155,1159,5,1425,1469,5,1473,1474,5,1479,1479,5,1552,1562,5,1611,1631,5,1750,1756,5,1759,1764,5,1770,1773,5,1809,1809,5,1958,1968,5,2045,2045,5,2075,2083,5,2089,2093,5,2259,2273,5,2275,2306,5,2362,2362,5,2364,2364,5,2369,2376,5,2381,2381,5,2385,2391,5,2433,2433,5,2492,2492,5,2495,2496,7,2503,2504,7,2509,2509,5,2530,2531,5,2561,2562,5,2620,2620,5,2625,2626,5,2635,2637,5,2672,2673,5,2689,2690,5,2748,2748,5,2753,2757,5,2761,2761,7,2765,2765,5,2810,2815,5,2818,2819,7,2878,2878,5,2880,2880,7,2887,2888,7,2893,2893,5,2903,2903,5,2946,2946,5,3007,3007,7,3009,3010,7,3018,3020,7,3031,3031,5,3073,3075,7,3134,3136,5,3142,3144,5,3157,3158,5,3201,3201,5,3260,3260,5,3263,3263,5,3266,3266,5,3270,3270,5,3274,3275,7,3285,3286,5,3328,3329,5,3387,3388,5,3391,3392,7,3398,3400,7,3405,3405,5,3415,3415,5,3457,3457,5,3530,3530,5,3536,3537,7,3542,3542,5,3551,3551,5,3633,3633,5,3636,3642,5,3761,3761,5,3764,3772,5,3864,3865,5,3895,3895,5,3902,3903,7,3967,3967,7,3974,3975,5,3993,4028,5,4141,4144,5,4146,4151,5,4155,4156,7,4182,4183,7,4190,4192,5,4226,4226,5,4229,4230,5,4253,4253,5,4448,4519,9,4957,4959,5,5938,5940,5,6002,6003,5,6070,6070,7,6078,6085,7,6087,6088,7,6109,6109,5,6158,6158,4,6313,6313,5,6435,6438,7,6441,6443,7,6450,6450,5,6457,6459,5,6681,6682,7,6741,6741,7,6743,6743,7,6752,6752,5,6757,6764,5,6771,6780,5,6832,6845,5,6847,6848,5,6916,6916,7,6965,6965,5,6971,6971,7,6973,6977,7,6979,6980,7,7040,7041,5,7073,7073,7,7078,7079,7,7082,7082,7,7142,7142,5,7144,7145,5,7149,7149,5,7151,7153,5,7204,7211,7,7220,7221,7,7376,7378,5,7393,7393,7,7405,7405,5,7415,7415,7,7616,7673,5,8203,8203,4,8205,8205,13,8232,8232,4,8234,8238,4,8265,8265,14,8293,8293,4,8400,8412,5,8417,8417,5,8421,8432,5,8505,8505,14,8617,8618,14,9000,9000,14,9167,9167,14,9208,9210,14,9642,9643,14,9664,9664,14,9728,9732,14,9735,9741,14,9743,9744,14,9746,9746,14,9750,9751,14,9753,9756,14,9758,9759,14,9761,9761,14,9764,9765,14,9767,9769,14,9771,9773,14,9776,9783,14,9787,9791,14,9793,9793,14,9795,9799,14,9812,9822,14,9824,9824,14,9827,9827,14,9829,9830,14,9832,9832,14,9851,9851,14,9854,9854,14,9856,9861,14,9874,9876,14,9878,9879,14,9881,9881,14,9883,9884,14,9888,9889,14,9895,9895,14,9898,9899,14,9904,9905,14,9917,9918,14,9924,9925,14,9928,9928,14,9934,9935,14,9937,9937,14,9939,9940,14,9961,9962,14,9968,9973,14,9975,9978,14,9981,9981,14,9986,9986,14,9989,9989,14,9998,9998,14,10000,10001,14,10004,10004,14,10013,10013,14,10024,10024,14,10052,10052,14,10060,10060,14,10067,10069,14,10083,10084,14,10133,10135,14,10160,10160,14,10548,10549,14,11035,11036,14,11093,11093,14,11647,11647,5,12330,12333,5,12336,12336,14,12441,12442,5,12953,12953,14,42608,42610,5,42654,42655,5,43010,43010,5,43019,43019,5,43045,43046,5,43052,43052,5,43188,43203,7,43232,43249,5,43302,43309,5,43346,43347,7,43392,43394,5,43443,43443,5,43446,43449,5,43452,43453,5,43493,43493,5,43567,43568,7,43571,43572,7,43587,43587,5,43597,43597,7,43696,43696,5,43703,43704,5,43713,43713,5,43756,43757,5,43765,43765,7,44003,44004,7,44006,44007,7,44009,44010,7,44013,44013,5,44033,44059,12,44061,44087,12,44089,44115,12,44117,44143,12,44145,44171,12,44173,44199,12,44201,44227,12,44229,44255,12,44257,44283,12,44285,44311,12,44313,44339,12,44341,44367,12,44369,44395,12,44397,44423,12,44425,44451,12,44453,44479,12,44481,44507,12,44509,44535,12,44537,44563,12,44565,44591,12,44593,44619,12,44621,44647,12,44649,44675,12,44677,44703,12,44705,44731,12,44733,44759,12,44761,44787,12,44789,44815,12,44817,44843,12,44845,44871,12,44873,44899,12,44901,44927,12,44929,44955,12,44957,44983,12,44985,45011,12,45013,45039,12,45041,45067,12,45069,45095,12,45097,45123,12,45125,45151,12,45153,45179,12,45181,45207,12,45209,45235,12,45237,45263,12,45265,45291,12,45293,45319,12,45321,45347,12,45349,45375,12,45377,45403,12,45405,45431,12,45433,45459,12,45461,45487,12,45489,45515,12,45517,45543,12,45545,45571,12,45573,45599,12,45601,45627,12,45629,45655,12,45657,45683,12,45685,45711,12,45713,45739,12,45741,45767,12,45769,45795,12,45797,45823,12,45825,45851,12,45853,45879,12,45881,45907,12,45909,45935,12,45937,45963,12,45965,45991,12,45993,46019,12,46021,46047,12,46049,46075,12,46077,46103,12,46105,46131,12,46133,46159,12,46161,46187,12,46189,46215,12,46217,46243,12,46245,46271,12,46273,46299,12,46301,46327,12,46329,46355,12,46357,46383,12,46385,46411,12,46413,46439,12,46441,46467,12,46469,46495,12,46497,46523,12,46525,46551,12,46553,46579,12,46581,46607,12,46609,46635,12,46637,46663,12,46665,46691,12,46693,46719,12,46721,46747,12,46749,46775,12,46777,46803,12,46805,46831,12,46833,46859,12,46861,46887,12,46889,46915,12,46917,46943,12,46945,46971,12,46973,46999,12,47001,47027,12,47029,47055,12,47057,47083,12,47085,47111,12,47113,47139,12,47141,47167,12,47169,47195,12,47197,47223,12,47225,47251,12,47253,47279,12,47281,47307,12,47309,47335,12,47337,47363,12,47365,47391,12,47393,47419,12,47421,47447,12,47449,47475,12,47477,47503,12,47505,47531,12,47533,47559,12,47561,47587,12,47589,47615,12,47617,47643,12,47645,47671,12,47673,47699,12,47701,47727,12,47729,47755,12,47757,47783,12,47785,47811,12,47813,47839,12,47841,47867,12,47869,47895,12,47897,47923,12,47925,47951,12,47953,47979,12,47981,48007,12,48009,48035,12,48037,48063,12,48065,48091,12,48093,48119,12,48121,48147,12,48149,48175,12,48177,48203,12,48205,48231,12,48233,48259,12,48261,48287,12,48289,48315,12,48317,48343,12,48345,48371,12,48373,48399,12,48401,48427,12,48429,48455,12,48457,48483,12,48485,48511,12,48513,48539,12,48541,48567,12,48569,48595,12,48597,48623,12,48625,48651,12,48653,48679,12,48681,48707,12,48709,48735,12,48737,48763,12,48765,48791,12,48793,48819,12,48821,48847,12,48849,48875,12,48877,48903,12,48905,48931,12,48933,48959,12,48961,48987,12,48989,49015,12,49017,49043,12,49045,49071,12,49073,49099,12,49101,49127,12,49129,49155,12,49157,49183,12,49185,49211,12,49213,49239,12,49241,49267,12,49269,49295,12,49297,49323,12,49325,49351,12,49353,49379,12,49381,49407,12,49409,49435,12,49437,49463,12,49465,49491,12,49493,49519,12,49521,49547,12,49549,49575,12,49577,49603,12,49605,49631,12,49633,49659,12,49661,49687,12,49689,49715,12,49717,49743,12,49745,49771,12,49773,49799,12,49801,49827,12,49829,49855,12,49857,49883,12,49885,49911,12,49913,49939,12,49941,49967,12,49969,49995,12,49997,50023,12,50025,50051,12,50053,50079,12,50081,50107,12,50109,50135,12,50137,50163,12,50165,50191,12,50193,50219,12,50221,50247,12,50249,50275,12,50277,50303,12,50305,50331,12,50333,50359,12,50361,50387,12,50389,50415,12,50417,50443,12,50445,50471,12,50473,50499,12,50501,50527,12,50529,50555,12,50557,50583,12,50585,50611,12,50613,50639,12,50641,50667,12,50669,50695,12,50697,50723,12,50725,50751,12,50753,50779,12,50781,50807,12,50809,50835,12,50837,50863,12,50865,50891,12,50893,50919,12,50921,50947,12,50949,50975,12,50977,51003,12,51005,51031,12,51033,51059,12,51061,51087,12,51089,51115,12,51117,51143,12,51145,51171,12,51173,51199,12,51201,51227,12,51229,51255,12,51257,51283,12,51285,51311,12,51313,51339,12,51341,51367,12,51369,51395,12,51397,51423,12,51425,51451,12,51453,51479,12,51481,51507,12,51509,51535,12,51537,51563,12,51565,51591,12,51593,51619,12,51621,51647,12,51649,51675,12,51677,51703,12,51705,51731,12,51733,51759,12,51761,51787,12,51789,51815,12,51817,51843,12,51845,51871,12,51873,51899,12,51901,51927,12,51929,51955,12,51957,51983,12,51985,52011,12,52013,52039,12,52041,52067,12,52069,52095,12,52097,52123,12,52125,52151,12,52153,52179,12,52181,52207,12,52209,52235,12,52237,52263,12,52265,52291,12,52293,52319,12,52321,52347,12,52349,52375,12,52377,52403,12,52405,52431,12,52433,52459,12,52461,52487,12,52489,52515,12,52517,52543,12,52545,52571,12,52573,52599,12,52601,52627,12,52629,52655,12,52657,52683,12,52685,52711,12,52713,52739,12,52741,52767,12,52769,52795,12,52797,52823,12,52825,52851,12,52853,52879,12,52881,52907,12,52909,52935,12,52937,52963,12,52965,52991,12,52993,53019,12,53021,53047,12,53049,53075,12,53077,53103,12,53105,53131,12,53133,53159,12,53161,53187,12,53189,53215,12,53217,53243,12,53245,53271,12,53273,53299,12,53301,53327,12,53329,53355,12,53357,53383,12,53385,53411,12,53413,53439,12,53441,53467,12,53469,53495,12,53497,53523,12,53525,53551,12,53553,53579,12,53581,53607,12,53609,53635,12,53637,53663,12,53665,53691,12,53693,53719,12,53721,53747,12,53749,53775,12,53777,53803,12,53805,53831,12,53833,53859,12,53861,53887,12,53889,53915,12,53917,53943,12,53945,53971,12,53973,53999,12,54001,54027,12,54029,54055,12,54057,54083,12,54085,54111,12,54113,54139,12,54141,54167,12,54169,54195,12,54197,54223,12,54225,54251,12,54253,54279,12,54281,54307,12,54309,54335,12,54337,54363,12,54365,54391,12,54393,54419,12,54421,54447,12,54449,54475,12,54477,54503,12,54505,54531,12,54533,54559,12,54561,54587,12,54589,54615,12,54617,54643,12,54645,54671,12,54673,54699,12,54701,54727,12,54729,54755,12,54757,54783,12,54785,54811,12,54813,54839,12,54841,54867,12,54869,54895,12,54897,54923,12,54925,54951,12,54953,54979,12,54981,55007,12,55009,55035,12,55037,55063,12,55065,55091,12,55093,55119,12,55121,55147,12,55149,55175,12,55177,55203,12,55243,55291,10,65024,65039,5,65279,65279,4,65520,65528,4,66045,66045,5,66422,66426,5,68101,68102,5,68152,68154,5,68325,68326,5,69291,69292,5,69632,69632,7,69634,69634,7,69759,69761,5]")}function Ue(C,V){if(C===0)return 0;const x=Be(C,V);if(x!==void 0)return x;const ne=h(V,C);return C-=ke(ne),C}e.getLeftDeleteOffset=Ue;function Be(C,V){let x=h(V,C);for(C-=ke(x);Ae(x)||x===65039||x===8419;){if(C===0)return;x=h(V,C),C-=ke(x)}if(!!ye(x)){if(C>=0){const ne=h(V,C);ne===8205&&(C-=ke(ne))}return C}}function ke(C){return C>=65536?2:1}function Ae(C){return 127995<=C&&C<=127999}var Me;(function(C){C[C.zwj=8205]="zwj",C[C.emojiVariantSelector=65039]="emojiVariantSelector",C[C.enclosingKeyCap=8419]="enclosingKeyCap"})(Me||(Me={}))}),define(he[15],me([0,1,3,30]),function(oe,e,P,O){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.prefixedBufferStream=e.prefixedBufferReadable=e.newWriteableBufferStream=e.streamToBufferReadableStream=e.bufferToStream=e.bufferedStreamToBuffer=e.streamToBuffer=e.bufferToReadable=e.readableToBuffer=e.writeUInt8=e.readUInt8=e.writeUInt32LE=e.readUInt32LE=e.writeUInt32BE=e.readUInt32BE=e.writeUInt16LE=e.readUInt16LE=e.VSBuffer=void 0;const R=typeof Buffer!="undefined",M=typeof TextEncoder!="undefined",z=typeof TextDecoder!="undefined";let D,S;class L{constructor(u){this.buffer=u,this.byteLength=this.buffer.byteLength}static alloc(u){return R?new L(Buffer.allocUnsafe(u)):new L(new Uint8Array(u))}static wrap(u){return R&&!Buffer.isBuffer(u)&&(u=Buffer.from(u.buffer,u.byteOffset,u.byteLength)),new L(u)}static fromString(u,E){return!(E?.dontUseNodeBuffer||!1)&&R?new L(Buffer.from(u)):M?(D||(D=new TextEncoder),new L(D.encode(u))):new L(P.encodeUTF8(u))}static concat(u,E){if(typeof E=="undefined"){E=0;for(let k=0,B=u.length;k<B;k++)E+=u[k].byteLength}const g=L.alloc(E);let _=0;for(let k=0,B=u.length;k<B;k++){const te=u[k];g.set(te,_),_+=te.byteLength}return g}toString(){return R?this.buffer.toString():z?(S||(S=new TextDecoder),S.decode(this.buffer)):P.decodeUTF8(this.buffer)}slice(u,E){return new L(this.buffer.subarray(u,E))}set(u,E){u instanceof L?this.buffer.set(u.buffer,E):this.buffer.set(u,E)}readUInt32BE(u){return K(this.buffer,u)}writeUInt32BE(u,E){q(this.buffer,u,E)}readUInt32LE(u){return p(this.buffer,u)}writeUInt32LE(u,E){T(this.buffer,u,E)}readUInt8(u){return $(this.buffer,u)}writeUInt8(u,E){W(this.buffer,u,E)}}e.VSBuffer=L;function I(f,u){return f[u+0]<<0>>>0|f[u+1]<<8>>>0}e.readUInt16LE=I;function N(f,u,E){f[E+0]=u&255,u=u>>>8,f[E+1]=u&255}e.writeUInt16LE=N;function K(f,u){return f[u]*2**24+f[u+1]*2**16+f[u+2]*2**8+f[u+3]}e.readUInt32BE=K;function q(f,u,E){f[E+3]=u,u=u>>>8,f[E+2]=u,u=u>>>8,f[E+1]=u,u=u>>>8,f[E]=u}e.writeUInt32BE=q;function p(f,u){return f[u+0]<<0>>>0|f[u+1]<<8>>>0|f[u+2]<<16>>>0|f[u+3]<<24>>>0}e.readUInt32LE=p;function T(f,u,E){f[E+0]=u&255,u=u>>>8,f[E+1]=u&255,u=u>>>8,f[E+2]=u&255,u=u>>>8,f[E+3]=u&255}e.writeUInt32LE=T;function $(f,u){return f[u]}e.readUInt8=$;function W(f,u,E){f[E]=u}e.writeUInt8=W;function j(f){return O.consumeReadable(f,u=>L.concat(u))}e.readableToBuffer=j;function a(f){return O.toReadable(f)}e.bufferToReadable=a;function l(f){return O.consumeStream(f,u=>L.concat(u))}e.streamToBuffer=l;async function o(f){return f.ended?L.concat(f.buffer):L.concat([...f.buffer,await l(f.stream)])}e.bufferedStreamToBuffer=o;function r(f){return O.toStream(f,u=>L.concat(u))}e.bufferToStream=r;function t(f){return O.transform(f,{data:u=>typeof u=="string"?L.fromString(u):L.wrap(u)},u=>L.concat(u))}e.streamToBufferReadableStream=t;function n(f){return O.newWriteableStream(u=>L.concat(u),f)}e.newWriteableBufferStream=n;function i(f,u){return O.prefixedReadable(f,u,E=>L.concat(E))}e.prefixedBufferReadable=i;function s(f,u){return O.prefixedStream(f,u,E=>L.concat(E))}e.prefixedBufferStream=s}),define(he[8],me([0,1]),function(oe,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.assertNever=e.NotImplementedProxy=e.withUndefinedAsNull=e.withNullAsUndefined=e.createProxyObject=e.getAllMethodNames=e.getAllPropertyNames=e.validateConstraint=e.validateConstraints=e.areFunctions=e.isFunction=e.isEmptyObject=e.assertAllDefined=e.assertIsDefined=e.assertType=e.isUndefinedOrNull=e.isDefined=e.isUndefined=e.isBoolean=e.isIterable=e.isNumber=e.isObject=e.isStringArray=e.isString=e.isArray=void 0;function P(u){return Array.isArray(u)}e.isArray=P;function O(u){return typeof u=="string"}e.isString=O;function R(u){return Array.isArray(u)&&u.every(E=>O(E))}e.isStringArray=R;function M(u){return typeof u=="object"&&u!==null&&!Array.isArray(u)&&!(u instanceof RegExp)&&!(u instanceof Date)}e.isObject=M;function z(u){return typeof u=="number"&&!isNaN(u)}e.isNumber=z;function D(u){return!!u&&typeof u[Symbol.iterator]=="function"}e.isIterable=D;function S(u){return u===!0||u===!1}e.isBoolean=S;function L(u){return typeof u=="undefined"}e.isUndefined=L;function I(u){return!N(u)}e.isDefined=I;function N(u){return L(u)||u===null}e.isUndefinedOrNull=N;function K(u,E){if(!u)throw new Error(E?`Unexpected type, expected '${E}'`:"Unexpected type")}e.assertType=K;function q(u){if(N(u))throw new Error("Assertion Failed: argument is undefined or null");return u}e.assertIsDefined=q;function p(...u){const E=[];for(let g=0;g<u.length;g++){const _=u[g];if(N(_))throw new Error(`Assertion Failed: argument at index ${g} is undefined or null`);E.push(_)}return E}e.assertAllDefined=p;const T=Object.prototype.hasOwnProperty;function $(u){if(!M(u))return!1;for(let E in u)if(T.call(u,E))return!1;return!0}e.isEmptyObject=$;function W(u){return typeof u=="function"}e.isFunction=W;function j(...u){return u.length>0&&u.every(W)}e.areFunctions=j;function a(u,E){const g=Math.min(u.length,E.length);for(let _=0;_<g;_++)l(u[_],E[_])}e.validateConstraints=a;function l(u,E){if(O(E)){if(typeof u!==E)throw new Error(`argument does not match constraint: typeof ${E}`)}else if(W(E)){try{if(u instanceof E)return}catch{}if(!N(u)&&u.constructor===E||E.length===1&&E.call(void 0,u)===!0)return;throw new Error("argument does not match one of these constraints: arg instanceof constraint, arg.constructor === constraint, nor constraint(arg) === true")}}e.validateConstraint=l;function o(u){let E=[],g=Object.getPrototypeOf(u);for(;Object.prototype!==g;)E=E.concat(Object.getOwnPropertyNames(g)),g=Object.getPrototypeOf(g);return E}e.getAllPropertyNames=o;function r(u){const E=[];for(const g of o(u))typeof u[g]=="function"&&E.push(g);return E}e.getAllMethodNames=r;function t(u,E){const g=k=>function(){const B=Array.prototype.slice.call(arguments,0);return E(k,B)};let _={};for(const k of u)_[k]=g(k);return _}e.createProxyObject=t;function n(u){return u===null?void 0:u}e.withNullAsUndefined=n;function i(u){return typeof u=="undefined"?null:u}e.withUndefinedAsNull=i;function s(u){return class{constructor(){return new Proxy({},{get(E,g){if(E[g])return E[g];throw new Error(`Not Implemented: ${u}->${String(g)}`)}})}}}e.NotImplementedProxy=s;function f(u,E="Unreachable"){throw new Error(E)}e.assertNever=f}),define(he[9],me([0,1,4,3,2,8]),function(oe,e,P,O,R,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseLineAndColumnAware=e.indexOfPath=e.getDriveLetter=e.hasDriveLetter=e.isRootOrDriveLetter=e.sanitizeFilePath=e.isWindowsDriveLetter=e.isEqualOrParent=e.isEqual=e.isValidBasename=e.isUNC=e.getRoot=e.toPosixPath=e.toSlashes=e.isPathSeparator=void 0;function z(n){return n===47||n===92}e.isPathSeparator=z;function D(n){return n.replace(/[\\/]/g,R.posix.sep)}e.toSlashes=D;function S(n){return n.indexOf("/")===-1&&(n=D(n)),/^[a-zA-Z]:(\/|$)/.test(n)&&(n="/"+n),n}e.toPosixPath=S;function L(n,i=R.posix.sep){if(!n)return"";const s=n.length,f=n.charCodeAt(0);if(z(f)){if(z(n.charCodeAt(1))&&!z(n.charCodeAt(2))){let E=3;const g=E;for(;E<s&&!z(n.charCodeAt(E));E++);if(g!==E&&!z(n.charCodeAt(E+1))){for(E+=1;E<s;E++)if(z(n.charCodeAt(E)))return n.slice(0,E+1).replace(/[\\/]/g,i)}}return i}else if(W(f)&&n.charCodeAt(1)===58)return z(n.charCodeAt(2))?n.slice(0,2)+i:n.slice(0,2);let u=n.indexOf("://");if(u!==-1){for(u+=3;u<s;u++)if(z(n.charCodeAt(u)))return n.slice(0,u+1)}return""}e.getRoot=L;function I(n){if(!P.isWindows||!n||n.length<5)return!1;let i=n.charCodeAt(0);if(i!==92||(i=n.charCodeAt(1),i!==92))return!1;let s=2;const f=s;for(;s<n.length&&(i=n.charCodeAt(s),i!==92);s++);return!(f===s||(i=n.charCodeAt(s+1),isNaN(i)||i===92))}e.isUNC=I;const N=/[\\/:\*\?"<>\|]/g,K=/[\\/]/g,q=/^(con|prn|aux|clock\$|nul|lpt[0-9]|com[0-9])(\.(.*?))?$/i;function p(n,i=P.isWindows){const s=i?N:K;return!(!n||n.length===0||/^\s+$/.test(n)||(s.lastIndex=0,s.test(n))||i&&q.test(n)||n==="."||n===".."||i&&n[n.length-1]==="."||i&&n.length!==n.trim().length||n.length>255)}e.isValidBasename=p;function T(n,i,s){const f=n===i;return!s||f?f:!n||!i?!1:(0,O.equalsIgnoreCase)(n,i)}e.isEqual=T;function $(n,i,s,f=R.sep){if(n===i)return!0;if(!n||!i||i.length>n.length)return!1;if(s){if(!(0,O.startsWithIgnoreCase)(n,i))return!1;if(i.length===n.length)return!0;let E=i.length;return i.charAt(i.length-1)===f&&E--,n.charAt(E)===f}return i.charAt(i.length-1)!==f&&(i+=f),n.indexOf(i)===0}e.isEqualOrParent=$;function W(n){return n>=65&&n<=90||n>=97&&n<=122}e.isWindowsDriveLetter=W;function j(n,i){return P.isWindows&&n.endsWith(":")&&(n+=R.sep),(0,R.isAbsolute)(n)||(n=(0,R.join)(i,n)),n=(0,R.normalize)(n),P.isWindows?(n=(0,O.rtrim)(n,R.sep),n.endsWith(":")&&(n+=R.sep)):(n=(0,O.rtrim)(n,R.sep),n||(n=R.sep)),n}e.sanitizeFilePath=j;function a(n){const i=(0,R.normalize)(n);return P.isWindows?n.length>3?!1:l(i)&&(n.length===2||i.charCodeAt(2)===92):i===R.posix.sep}e.isRootOrDriveLetter=a;function l(n){return P.isWindows?W(n.charCodeAt(0))&&n.charCodeAt(1)===58:!1}e.hasDriveLetter=l;function o(n){return l(n)?n[0]:void 0}e.getDriveLetter=o;function r(n,i,s){return i.length>n.length?-1:n===i?0:(s&&(n=n.toLowerCase(),i=i.toLowerCase()),n.indexOf(i))}e.indexOfPath=r;function t(n){const i=n.split(":");let s,f,u;if(i.forEach(E=>{const g=Number(E);(0,M.isNumber)(g)?f===void 0?f=g:u===void 0&&(u=g):s=s?[s,E].join(":"):E}),!s)throw new Error("Format for `--goto` should be: `FILE:LINE(:COLUMN)`");return{path:s,line:f!==void 0?f:void 0,column:u!==void 0?u:f!==void 0?1:void 0}}e.parseLineAndColumnAware=t}),define(he[21],me([0,1,8]),function(oe,e,P){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.filter=e.getCaseInsensitive=e.distinct=e.getOrDefault=e.safeStringify=e.equals=e.mixin=e.cloneAndChange=e.deepFreeze=e.deepClone=void 0;function O(T){if(!T||typeof T!="object"||T instanceof RegExp)return T;const $=Array.isArray(T)?[]:{};return Object.keys(T).forEach(W=>{T[W]&&typeof T[W]=="object"?$[W]=O(T[W]):$[W]=T[W]}),$}e.deepClone=O;function R(T){if(!T||typeof T!="object")return T;const $=[T];for(;$.length>0;){const W=$.shift();Object.freeze(W);for(const j in W)if(M.call(W,j)){const a=W[j];typeof a=="object"&&!Object.isFrozen(a)&&$.push(a)}}return T}e.deepFreeze=R;const M=Object.prototype.hasOwnProperty;function z(T,$){return D(T,$,new Set)}e.cloneAndChange=z;function D(T,$,W){if((0,P.isUndefinedOrNull)(T))return T;const j=$(T);if(typeof j!="undefined")return j;if((0,P.isArray)(T)){const a=[];for(const l of T)a.push(D(l,$,W));return a}if((0,P.isObject)(T)){if(W.has(T))throw new Error("Cannot clone recursive data-structure");W.add(T);const a={};for(let l in T)M.call(T,l)&&(a[l]=D(T[l],$,W));return W.delete(T),a}return T}function S(T,$,W=!0){return(0,P.isObject)(T)?((0,P.isObject)($)&&Object.keys($).forEach(j=>{j in T?W&&((0,P.isObject)(T[j])&&(0,P.isObject)($[j])?S(T[j],$[j],W):T[j]=$[j]):T[j]=$[j]}),T):$}e.mixin=S;function L(T,$){if(T===$)return!0;if(T==null||$===null||$===void 0||typeof T!=typeof $||typeof T!="object"||Array.isArray(T)!==Array.isArray($))return!1;let W,j;if(Array.isArray(T)){if(T.length!==$.length)return!1;for(W=0;W<T.length;W++)if(!L(T[W],$[W]))return!1}else{const a=[];for(j in T)a.push(j);a.sort();const l=[];for(j in $)l.push(j);if(l.sort(),!L(a,l))return!1;for(W=0;W<a.length;W++)if(!L(T[a[W]],$[a[W]]))return!1}return!0}e.equals=L;function I(T){const $=new Set;return JSON.stringify(T,(W,j)=>{if((0,P.isObject)(j)||Array.isArray(j)){if($.has(j))return"[Circular]";$.add(j)}return j})}e.safeStringify=I;function N(T,$,W){const j=$(T);return typeof j=="undefined"?W:j}e.getOrDefault=N;function K(T,$){const W=Object.create(null);return!T||!$||Object.keys($).forEach(a=>{const l=T[a],o=$[a];L(l,o)||(W[a]=o)}),W}e.distinct=K;function q(T,$){const W=$.toLowerCase(),j=Object.keys(T).find(a=>a.toLowerCase()===W);return j?T[j]:T[$]}e.getCaseInsensitive=q;function p(T,$){const W=Object.create(null);for(const j of Object.keys(T))$(j,T[j])&&(W[j]=T[j]);return W}e.filter=p}),define(he[5],me([0,1,4,2]),function(oe,e,P,O){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.uriToFsPath=e.URI=void 0;const R=/^\w[\w\d+.-]*$/,M=/^\//,z=/^\/\//;function D(n,i){if(!n.scheme&&i)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${n.authority}", path: "${n.path}", query: "${n.query}", fragment: "${n.fragment}"}`);if(n.scheme&&!R.test(n.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(n.path){if(n.authority){if(!M.test(n.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(z.test(n.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}function S(n,i){return!n&&!i?"file":n}function L(n,i){switch(n){case"https":case"http":case"file":i?i[0]!==N&&(i=N+i):i=N;break}return i}const I="",N="/",K=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class q{constructor(i,s,f,u,E,g=!1){typeof i=="object"?(this.scheme=i.scheme||I,this.authority=i.authority||I,this.path=i.path||I,this.query=i.query||I,this.fragment=i.fragment||I):(this.scheme=S(i,g),this.authority=s||I,this.path=L(this.scheme,f||I),this.query=u||I,this.fragment=E||I,D(this,g))}static isUri(i){return i instanceof q?!0:i?typeof i.authority=="string"&&typeof i.fragment=="string"&&typeof i.path=="string"&&typeof i.query=="string"&&typeof i.scheme=="string"&&typeof i.fsPath=="string"&&typeof i.with=="function"&&typeof i.toString=="function":!1}get fsPath(){return a(this,!1)}with(i){if(!i)return this;let{scheme:s,authority:f,path:u,query:E,fragment:g}=i;return s===void 0?s=this.scheme:s===null&&(s=I),f===void 0?f=this.authority:f===null&&(f=I),u===void 0?u=this.path:u===null&&(u=I),E===void 0?E=this.query:E===null&&(E=I),g===void 0?g=this.fragment:g===null&&(g=I),s===this.scheme&&f===this.authority&&u===this.path&&E===this.query&&g===this.fragment?this:new T(s,f,u,E,g)}static parse(i,s=!1){const f=K.exec(i);return f?new T(f[2]||I,t(f[4]||I),t(f[5]||I),t(f[7]||I),t(f[9]||I),s):new T(I,I,I,I,I)}static file(i){let s=I;if(P.isWindows&&(i=i.replace(/\\/g,N)),i[0]===N&&i[1]===N){const f=i.indexOf(N,2);f===-1?(s=i.substring(2),i=N):(s=i.substring(2,f),i=i.substring(f)||N)}return new T("file",s,i,I,I)}static from(i){const s=new T(i.scheme,i.authority,i.path,i.query,i.fragment);return D(s,!0),s}static joinPath(i,...s){if(!i.path)throw new Error("[UriError]: cannot call joinPath on URI without path");let f;return P.isWindows&&i.scheme==="file"?f=q.file(O.win32.join(a(i,!0),...s)).path:f=O.posix.join(i.path,...s),i.with({path:f})}toString(i=!1){return l(this,i)}toJSON(){return this}static revive(i){if(i){if(i instanceof q)return i;{const s=new T(i);return s._formatted=i.external,s._fsPath=i._sep===p?i.fsPath:null,s}}else return i}}e.URI=q;const p=P.isWindows?1:void 0;class T extends q{constructor(){super(...arguments);this._formatted=null,this._fsPath=null}get fsPath(){return this._fsPath||(this._fsPath=a(this,!1)),this._fsPath}toString(i=!1){return i?l(this,!0):(this._formatted||(this._formatted=l(this,!1)),this._formatted)}toJSON(){const i={$mid:1};return this._fsPath&&(i.fsPath=this._fsPath,i._sep=p),this._formatted&&(i.external=this._formatted),this.path&&(i.path=this.path),this.scheme&&(i.scheme=this.scheme),this.authority&&(i.authority=this.authority),this.query&&(i.query=this.query),this.fragment&&(i.fragment=this.fragment),i}}const $={[58]:"%3A",[47]:"%2F",[63]:"%3F",[35]:"%23",[91]:"%5B",[93]:"%5D",[64]:"%40",[33]:"%21",[36]:"%24",[38]:"%26",[39]:"%27",[40]:"%28",[41]:"%29",[42]:"%2A",[43]:"%2B",[44]:"%2C",[59]:"%3B",[61]:"%3D",[32]:"%20"};function W(n,i){let s,f=-1;for(let u=0;u<n.length;u++){const E=n.charCodeAt(u);if(E>=97&&E<=122||E>=65&&E<=90||E>=48&&E<=57||E===45||E===46||E===95||E===126||i&&E===47)f!==-1&&(s+=encodeURIComponent(n.substring(f,u)),f=-1),s!==void 0&&(s+=n.charAt(u));else{s===void 0&&(s=n.substr(0,u));const g=$[E];g!==void 0?(f!==-1&&(s+=encodeURIComponent(n.substring(f,u)),f=-1),s+=g):f===-1&&(f=u)}}return f!==-1&&(s+=encodeURIComponent(n.substring(f))),s!==void 0?s:n}function j(n){let i;for(let s=0;s<n.length;s++){const f=n.charCodeAt(s);f===35||f===63?(i===void 0&&(i=n.substr(0,s)),i+=$[f]):i!==void 0&&(i+=n[s])}return i!==void 0?i:n}function a(n,i){let s;return n.authority&&n.path.length>1&&n.scheme==="file"?s=`//${n.authority}${n.path}`:n.path.charCodeAt(0)===47&&(n.path.charCodeAt(1)>=65&&n.path.charCodeAt(1)<=90||n.path.charCodeAt(1)>=97&&n.path.charCodeAt(1)<=122)&&n.path.charCodeAt(2)===58?i?s=n.path.substr(1):s=n.path[1].toLowerCase()+n.path.substr(2):s=n.path,P.isWindows&&(s=s.replace(/\//g,"\\")),s}e.uriToFsPath=a;function l(n,i){const s=i?j:W;let f="",{scheme:u,authority:E,path:g,query:_,fragment:k}=n;if(u&&(f+=u,f+=":"),(E||u==="file")&&(f+=N,f+=N),E){let B=E.indexOf("@");if(B!==-1){const te=E.substr(0,B);E=E.substr(B+1),B=te.indexOf(":"),B===-1?f+=s(te,!1):(f+=s(te.substr(0,B),!1),f+=":",f+=s(te.substr(B+1),!1)),f+="@"}E=E.toLowerCase(),B=E.indexOf(":"),B===-1?f+=s(E,!1):(f+=s(E.substr(0,B),!1),f+=E.substr(B))}if(g){if(g.length>=3&&g.charCodeAt(0)===47&&g.charCodeAt(2)===58){const B=g.charCodeAt(1);B>=65&&B<=90&&(g=`/${String.fromCharCode(B+32)}:${g.substr(3)}`)}else if(g.length>=2&&g.charCodeAt(1)===58){const B=g.charCodeAt(0);B>=65&&B<=90&&(g=`${String.fromCharCode(B+32)}:${g.substr(2)}`)}f+=s(g,!0)}return _&&(f+="?",f+=s(_,!1)),k&&(f+="#",f+=i?k:W(k,!1)),f}function o(n){try{return decodeURIComponent(n)}catch{return n.length>3?n.substr(0,3)+o(n.substr(3)):n}}const r=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function t(n){return n.match(r)?n.replace(r,i=>o(i)):n}}),define(he[41],me([0,1,5]),function(oe,e,P){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.log=e.getFirstFrame=e.parse=e.isRemoteConsoleLog=void 0;function O(L){const I=L;return I&&typeof I.type=="string"&&typeof I.severity=="string"}e.isRemoteConsoleLog=O;function R(L){const I=[];let N;try{const K=JSON.parse(L.arguments),q=K[K.length-1];q&&q.__$stack&&(K.pop(),N=q.__$stack),I.push(...K)}catch(K){I.push("Unable to log remote console arguments",L.arguments)}return{args:I,stack:N}}e.parse=R;function M(L){if(typeof L!="string")return M(R(L).stack);const I=L;if(I){const N=z(I),K=/at [^\/]*((?:(?:[a-zA-Z]+:)|(?:[\/])|(?:\\\\))(?:.+)):(\d+):(\d+)/.exec(N||"");if(K&&K.length===4)return{uri:P.URI.file(K[1]),line:Number(K[2]),column:Number(K[3])}}}e.getFirstFrame=M;function z(L){if(!L)return L;const I=L.indexOf(`
`);return I===-1?L:L.substring(0,I)}function D(L,I){const{args:N,stack:K}=R(L),q=typeof N[0]=="string"&&N.length===1;let p=z(K);p&&(p=`(${p.trim()})`);let T=[];if(typeof N[0]=="string"?p&&q?T=[`%c[${I}] %c${N[0]} %c${p}`,S("blue"),S(""),S("grey")]:T=[`%c[${I}] %c${N[0]}`,S("blue"),S(""),...N.slice(1)]:T=[`%c[${I}]%`,S("blue"),...N],p&&!q&&T.push(p),typeof console[L.severity]!="function")throw new Error("Unknown console method");console[L.severity].apply(console,T)}e.log=D;function S(L){return`color: ${L}`}});var ze=this&&this.__classPrivateFieldSet||function(oe,e,P,O,R){if(O==="m")throw new TypeError("Private method is not writable");if(O==="a"&&!R)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?oe!==e||!R:!e.has(oe))throw new TypeError("Cannot write private member to an object whose class did not declare it");return O==="a"?R.call(oe,P):R?R.value=P:e.set(oe,P),P},Oe=this&&this.__classPrivateFieldGet||function(oe,e,P,O){if(P==="a"&&!O)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?oe!==e||!O:!e.has(oe))throw new TypeError("Cannot read private member from an object whose class did not declare it");return P==="m"?O:P==="a"?O.call(oe):O?O.value:e.get(oe)};define(he[16],me([0,1,5,3]),function(oe,e,P,O){"use strict";var R,M,z;Object.defineProperty(e,"__esModule",{value:!0}),e.ReadonlyMapView=e.LRUCache=e.LinkedMap=e.Touch=e.ResourceMap=e.TernarySearchTree=e.UriIterator=e.PathIterator=e.ConfigKeysIterator=e.StringIterator=e.setToString=e.mapToString=e.getOrSet=void 0;function D(r,t,n){let i=r.get(t);return i===void 0&&(i=n,r.set(t,i)),i}e.getOrSet=D;function S(r){const t=[];return r.forEach((n,i)=>{t.push(`${i} => ${n}`)}),`Map(${r.size}) {${t.join(", ")}}`}e.mapToString=S;function L(r){const t=[];return r.forEach(n=>{t.push(n)}),`Set(${r.size}) {${t.join(", ")}}`}e.setToString=L;class I{constructor(){this._value="",this._pos=0}reset(t){return this._value=t,this._pos=0,this}next(){return this._pos+=1,this}hasNext(){return this._pos<this._value.length-1}cmp(t){const n=t.charCodeAt(0),i=this._value.charCodeAt(this._pos);return n-i}value(){return this._value[this._pos]}}e.StringIterator=I;class N{constructor(t=!0){this._caseSensitive=t}reset(t){return this._value=t,this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let t=!0;for(;this._to<this._value.length;this._to++)if(this._value.charCodeAt(this._to)===46)if(t)this._from++;else break;else t=!1;return this}cmp(t){return this._caseSensitive?(0,O.compareSubstring)(t,this._value,0,t.length,this._from,this._to):(0,O.compareSubstringIgnoreCase)(t,this._value,0,t.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}e.ConfigKeysIterator=N;class K{constructor(t=!0,n=!0){this._splitOnBackslash=t,this._caseSensitive=n}reset(t){return this._value=t.replace(/\\$|\/$/,""),this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let t=!0;for(;this._to<this._value.length;this._to++){const n=this._value.charCodeAt(this._to);if(n===47||this._splitOnBackslash&&n===92)if(t)this._from++;else break;else t=!1}return this}cmp(t){return this._caseSensitive?(0,O.compareSubstring)(t,this._value,0,t.length,this._from,this._to):(0,O.compareSubstringIgnoreCase)(t,this._value,0,t.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}e.PathIterator=K;var q;(function(r){r[r.Scheme=1]="Scheme",r[r.Authority=2]="Authority",r[r.Path=3]="Path",r[r.Query=4]="Query",r[r.Fragment=5]="Fragment"})(q||(q={}));class p{constructor(t){this._ignorePathCasing=t,this._states=[],this._stateIdx=0}reset(t){return this._value=t,this._states=[],this._value.scheme&&this._states.push(1),this._value.authority&&this._states.push(2),this._value.path&&(this._pathIterator=new K(!1,!this._ignorePathCasing(t)),this._pathIterator.reset(t.path),this._pathIterator.value()&&this._states.push(3)),this._value.query&&this._states.push(4),this._value.fragment&&this._states.push(5),this._stateIdx=0,this}next(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()?this._pathIterator.next():this._stateIdx+=1,this}hasNext(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()||this._stateIdx<this._states.length-1}cmp(t){if(this._states[this._stateIdx]===1)return(0,O.compareIgnoreCase)(t,this._value.scheme);if(this._states[this._stateIdx]===2)return(0,O.compareIgnoreCase)(t,this._value.authority);if(this._states[this._stateIdx]===3)return this._pathIterator.cmp(t);if(this._states[this._stateIdx]===4)return(0,O.compare)(t,this._value.query);if(this._states[this._stateIdx]===5)return(0,O.compare)(t,this._value.fragment);throw new Error}value(){if(this._states[this._stateIdx]===1)return this._value.scheme;if(this._states[this._stateIdx]===2)return this._value.authority;if(this._states[this._stateIdx]===3)return this._pathIterator.value();if(this._states[this._stateIdx]===4)return this._value.query;if(this._states[this._stateIdx]===5)return this._value.fragment;throw new Error}}e.UriIterator=p;class T{isEmpty(){return!this.left&&!this.mid&&!this.right&&!this.value}}class ${constructor(t){this._iter=t}static forUris(t=()=>!1){return new $(new p(t))}static forPaths(){return new $(new K)}static forStrings(){return new $(new I)}static forConfigKeys(){return new $(new N)}clear(){this._root=void 0}set(t,n){const i=this._iter.reset(t);let s;for(this._root||(this._root=new T,this._root.segment=i.value()),s=this._root;;){const u=i.cmp(s.segment);if(u>0)s.left||(s.left=new T,s.left.segment=i.value()),s=s.left;else if(u<0)s.right||(s.right=new T,s.right.segment=i.value()),s=s.right;else if(i.hasNext())i.next(),s.mid||(s.mid=new T,s.mid.segment=i.value()),s=s.mid;else break}const f=s.value;return s.value=n,s.key=t,f}get(t){return this._getNode(t)?.value}_getNode(t){const n=this._iter.reset(t);let i=this._root;for(;i;){const s=n.cmp(i.segment);if(s>0)i=i.left;else if(s<0)i=i.right;else if(n.hasNext())n.next(),i=i.mid;else break}return i}has(t){const n=this._getNode(t);return!(n?.value===void 0&&n?.mid===void 0)}delete(t){return this._delete(t,!1)}deleteSuperstr(t){return this._delete(t,!0)}_delete(t,n){const i=this._iter.reset(t),s=[];let f=this._root;for(;f;){const u=i.cmp(f.segment);if(u>0)s.push([1,f]),f=f.left;else if(u<0)s.push([-1,f]),f=f.right;else if(i.hasNext())i.next(),s.push([0,f]),f=f.mid;else{for(n?(f.left=void 0,f.mid=void 0,f.right=void 0):f.value=void 0;s.length>0&&f.isEmpty();){let[E,g]=s.pop();switch(E){case 1:g.left=void 0;break;case 0:g.mid=void 0;break;case-1:g.right=void 0;break}f=g}break}}}findSubstr(t){const n=this._iter.reset(t);let i=this._root,s;for(;i;){const f=n.cmp(i.segment);if(f>0)i=i.left;else if(f<0)i=i.right;else if(n.hasNext())n.next(),s=i.value||s,i=i.mid;else break}return i&&i.value||s}findSuperstr(t){const n=this._iter.reset(t);let i=this._root;for(;i;){const s=n.cmp(i.segment);if(s>0)i=i.left;else if(s<0)i=i.right;else if(n.hasNext())n.next(),i=i.mid;else return i.mid?this._entries(i.mid):void 0}}forEach(t){for(const[n,i]of this)t(i,n)}*[Symbol.iterator](){yield*this._entries(this._root)}*_entries(t){if(!t)return;const n=[t];for(;n.length>0;){const i=n.pop();i&&(i.value&&(yield[i.key,i.value]),i.left&&n.push(i.left),i.mid&&n.push(i.mid),i.right&&n.push(i.right))}}}e.TernarySearchTree=$;class W{constructor(t,n){this[R]="ResourceMap",t instanceof W?(this.map=new Map(t.map),this.toKey=n??W.defaultToKey):(this.map=new Map,this.toKey=t??W.defaultToKey)}set(t,n){return this.map.set(this.toKey(t),n),this}get(t){return this.map.get(this.toKey(t))}has(t){return this.map.has(this.toKey(t))}get size(){return this.map.size}clear(){this.map.clear()}delete(t){return this.map.delete(this.toKey(t))}forEach(t,n){typeof n!="undefined"&&(t=t.bind(n));for(let[i,s]of this.map)t(s,P.URI.parse(i),this)}values(){return this.map.values()}*keys(){for(let t of this.map.keys())yield P.URI.parse(t)}*entries(){for(let t of this.map.entries())yield[P.URI.parse(t[0]),t[1]]}*[(R=Symbol.toStringTag,Symbol.iterator)](){for(let t of this.map)yield[P.URI.parse(t[0]),t[1]]}}e.ResourceMap=W,W.defaultToKey=r=>r.toString();var j;(function(r){r[r.None=0]="None",r[r.AsOld=1]="AsOld",r[r.AsNew=2]="AsNew"})(j=e.Touch||(e.Touch={}));class a{constructor(){this[M]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){return this._head?.value}get last(){return this._tail?.value}has(t){return this._map.has(t)}get(t,n=0){const i=this._map.get(t);if(!!i)return n!==0&&this.touch(i,n),i.value}set(t,n,i=0){let s=this._map.get(t);if(s)s.value=n,i!==0&&this.touch(s,i);else{switch(s={key:t,value:n,next:void 0,previous:void 0},i){case 0:this.addItemLast(s);break;case 1:this.addItemFirst(s);break;case 2:this.addItemLast(s);break;default:this.addItemLast(s);break}this._map.set(t,s),this._size++}return this}delete(t){return!!this.remove(t)}remove(t){const n=this._map.get(t);if(!!n)return this._map.delete(t),this.removeItem(n),this._size--,n.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const t=this._head;return this._map.delete(t.key),this.removeItem(t),this._size--,t.value}forEach(t,n){const i=this._state;let s=this._head;for(;s;){if(n?t.bind(n)(s.value,s.key,this):t(s.value,s.key,this),this._state!==i)throw new Error("LinkedMap got modified during iteration.");s=s.next}}keys(){const t=this,n=this._state;let i=this._head;const s={[Symbol.iterator](){return s},next(){if(t._state!==n)throw new Error("LinkedMap got modified during iteration.");if(i){const f={value:i.key,done:!1};return i=i.next,f}else return{value:void 0,done:!0}}};return s}values(){const t=this,n=this._state;let i=this._head;const s={[Symbol.iterator](){return s},next(){if(t._state!==n)throw new Error("LinkedMap got modified during iteration.");if(i){const f={value:i.value,done:!1};return i=i.next,f}else return{value:void 0,done:!0}}};return s}entries(){const t=this,n=this._state;let i=this._head;const s={[Symbol.iterator](){return s},next(){if(t._state!==n)throw new Error("LinkedMap got modified during iteration.");if(i){const f={value:[i.key,i.value],done:!1};return i=i.next,f}else return{value:void 0,done:!0}}};return s}[(M=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(t){if(t>=this.size)return;if(t===0){this.clear();return}let n=this._head,i=this.size;for(;n&&i>t;)this._map.delete(n.key),n=n.next,i--;this._head=n,this._size=i,n&&(n.previous=void 0),this._state++}addItemFirst(t){if(!this._head&&!this._tail)this._tail=t;else if(this._head)t.next=this._head,this._head.previous=t;else throw new Error("Invalid list");this._head=t,this._state++}addItemLast(t){if(!this._head&&!this._tail)this._head=t;else if(this._tail)t.previous=this._tail,this._tail.next=t;else throw new Error("Invalid list");this._tail=t,this._state++}removeItem(t){if(t===this._head&&t===this._tail)this._head=void 0,this._tail=void 0;else if(t===this._head){if(!t.next)throw new Error("Invalid list");t.next.previous=void 0,this._head=t.next}else if(t===this._tail){if(!t.previous)throw new Error("Invalid list");t.previous.next=void 0,this._tail=t.previous}else{const n=t.next,i=t.previous;if(!n||!i)throw new Error("Invalid list");n.previous=i,i.next=n}t.next=void 0,t.previous=void 0,this._state++}touch(t,n){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(n!==1&&n!==2)){if(n===1){if(t===this._head)return;const i=t.next,s=t.previous;t===this._tail?(s.next=void 0,this._tail=s):(i.previous=s,s.next=i),t.previous=void 0,t.next=this._head,this._head.previous=t,this._head=t,this._state++}else if(n===2){if(t===this._tail)return;const i=t.next,s=t.previous;t===this._head?(i.previous=void 0,this._head=i):(i.previous=s,s.next=i),t.next=void 0,t.previous=this._tail,this._tail.next=t,this._tail=t,this._state++}}}toJSON(){const t=[];return this.forEach((n,i)=>{t.push([i,n])}),t}fromJSON(t){this.clear();for(const[n,i]of t)this.set(n,i)}}e.LinkedMap=a;class l extends a{constructor(t,n=1){super();this._limit=t,this._ratio=Math.min(Math.max(0,n),1)}get limit(){return this._limit}set limit(t){this._limit=t,this.checkTrim()}get ratio(){return this._ratio}set ratio(t){this._ratio=Math.min(Math.max(0,t),1),this.checkTrim()}get(t,n=2){return super.get(t,n)}peek(t){return super.get(t,0)}set(t,n){return super.set(t,n,2),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}}e.LRUCache=l;class o{constructor(t){z.set(this,void 0),ze(this,z,t,"f")}get size(){return Oe(this,z,"f").size}forEach(t,n){Oe(this,z,"f").forEach(t,n)}get(t){return Oe(this,z,"f").get(t)}has(t){return Oe(this,z,"f").has(t)}entries(){return Oe(this,z,"f").entries()}keys(){return Oe(this,z,"f").keys()}values(){return Oe(this,z,"f").values()}[(z=new WeakMap,Symbol.iterator)](){return Oe(this,z,"f").entries()}}e.ReadonlyMapView=o}),define(he[42],me([0,1,16,3]),function(oe,e,P,O){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.fuzzyScoreGraceful=e.fuzzyScoreGracefulAggressive=e.fuzzyScore=e.FuzzyScore=e.isPatternInWord=e.createMatches=e.anyScore=e.matchesFuzzy2=e.matchesFuzzy=e.matchesWords=e.matchesCamelCase=e.isUpper=e.matchesSubString=e.matchesContiguousSubString=e.matchesPrefix=e.matchesStrictPrefix=e.or=void 0;function R(...G){return function(Y,Z){for(let ie=0,ce=G.length;ie<ce;ie++){const ue=G[ie](Y,Z);if(ue)return ue}return null}}e.or=R,e.matchesStrictPrefix=M.bind(void 0,!1),e.matchesPrefix=M.bind(void 0,!0);function M(G,Y,Z){if(!Z||Z.length<Y.length)return null;let ie;return G?ie=O.startsWithIgnoreCase(Z,Y):ie=Z.indexOf(Y)===0,ie?Y.length>0?[{start:0,end:Y.length}]:[]:null}function z(G,Y){const Z=Y.toLowerCase().indexOf(G.toLowerCase());return Z===-1?null:[{start:Z,end:Z+G.length}]}e.matchesContiguousSubString=z;function D(G,Y){return S(G.toLowerCase(),Y.toLowerCase(),0,0)}e.matchesSubString=D;function S(G,Y,Z,ie){if(Z===G.length)return[];if(ie===Y.length)return null;if(G[Z]===Y[ie]){let ce=null;return(ce=S(G,Y,Z+1,ie+1))?W({start:ie,end:ie+1},ce):null}return S(G,Y,Z,ie+1)}function L(G){return 97<=G&&G<=122}function I(G){return 65<=G&&G<=90}e.isUpper=I;function N(G){return 48<=G&&G<=57}function K(G){return G===32||G===9||G===10||G===13}const q=new Set;"`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?".split("").forEach(G=>q.add(G.charCodeAt(0)));function p(G){return K(G)||q.has(G)}function T(G,Y){return G===Y||p(G)&&p(Y)}function $(G){return L(G)||I(G)||N(G)}function W(G,Y){return Y.length===0?Y=[G]:G.end===Y[0].start?Y[0].start=G.start:Y.unshift(G),Y}function j(G,Y){for(let Z=Y;Z<G.length;Z++){const ie=G.charCodeAt(Z);if(I(ie)||N(ie)||Z>0&&!$(G.charCodeAt(Z-1)))return Z}return G.length}function a(G,Y,Z,ie){if(Z===G.length)return[];if(ie===Y.length)return null;if(G[Z]!==Y[ie].toLowerCase())return null;{let ce=null,ue=ie+1;for(ce=a(G,Y,Z+1,ie+1);!ce&&(ue=j(Y,ue))<Y.length;)ce=a(G,Y,Z+1,ue),ue++;return ce===null?null:W({start:ie,end:ie+1},ce)}}function l(G){let Y=0,Z=0,ie=0,ce=0,ue=0;for(let be=0;be<G.length;be++)ue=G.charCodeAt(be),I(ue)&&Y++,L(ue)&&Z++,$(ue)&&ie++,N(ue)&&ce++;const ge=Y/G.length,Ce=Z/G.length,Le=ie/G.length,we=ce/G.length;return{upperPercent:ge,lowerPercent:Ce,alphaPercent:Le,numericPercent:we}}function o(G){const{upperPercent:Y,lowerPercent:Z}=G;return Z===0&&Y>.6}function r(G){const{upperPercent:Y,lowerPercent:Z,alphaPercent:ie,numericPercent:ce}=G;return Z>.2&&Y<.8&&ie>.6&&ce<.2}function t(G){let Y=0,Z=0,ie=0,ce=0;for(let ue=0;ue<G.length;ue++)ie=G.charCodeAt(ue),I(ie)&&Y++,L(ie)&&Z++,K(ie)&&ce++;return(Y===0||Z===0)&&ce===0?G.length<=30:Y<=5}function n(G,Y){if(!Y||(Y=Y.trim(),Y.length===0)||!t(G)||Y.length>60)return null;const Z=l(Y);if(!r(Z)){if(!o(Z))return null;Y=Y.toLowerCase()}let ie=null,ce=0;for(G=G.toLowerCase();ce<Y.length&&(ie=a(G,Y,0,ce))===null;)ce=j(Y,ce+1);return ie}e.matchesCamelCase=n;function i(G,Y,Z=!1){if(!Y||Y.length===0)return null;let ie=null,ce=0;for(G=G.toLowerCase(),Y=Y.toLowerCase();ce<Y.length&&(ie=s(G,Y,0,ce,Z))===null;)ce=f(Y,ce+1);return ie}e.matchesWords=i;function s(G,Y,Z,ie,ce){if(Z===G.length)return[];if(ie===Y.length)return null;if(T(G.charCodeAt(Z),Y.charCodeAt(ie))){let ue=null,ge=ie+1;if(ue=s(G,Y,Z+1,ie+1,ce),!ce)for(;!ue&&(ge=f(Y,ge))<Y.length;)ue=s(G,Y,Z+1,ge,ce),ge++;return ue===null?null:W({start:ie,end:ie+1},ue)}else return null}function f(G,Y){for(let Z=Y;Z<G.length;Z++)if(p(G.charCodeAt(Z))||Z>0&&p(G.charCodeAt(Z-1)))return Z;return G.length}const u=R(e.matchesPrefix,n,z),E=R(e.matchesPrefix,n,D),g=new P.LRUCache(1e4);function _(G,Y,Z=!1){if(typeof G!="string"||typeof Y!="string")return null;let ie=g.get(G);ie||(ie=new RegExp(O.convertSimple2RegExpPattern(G),"i"),g.set(G,ie));const ce=ie.exec(Y);return ce?[{start:ce.index,end:ce.index+ce[0].length}]:Z?E(G,Y):u(G,Y)}e.matchesFuzzy=_;function k(G,Y){const Z=se(G,G.toLowerCase(),0,Y,Y.toLowerCase(),0,!0);return Z?te(Z):null}e.matchesFuzzy2=k;function B(G,Y,Z,ie,ce,ue){const ge=Math.min(13,G.length);for(;Z<ge;Z++){const Ce=se(G,Y,Z,ie,ce,ue,!1);if(Ce)return Ce}return[0,ue]}e.anyScore=B;function te(G){if(typeof G=="undefined")return[];const Y=[],Z=G[1];for(let ie=G.length-1;ie>1;ie--){const ce=G[ie]+Z,ue=Y[Y.length-1];ue&&ue.end===ce?ue.end=ce+1:Y.push({start:ce,end:ce+1})}return Y}e.createMatches=te;const ee=128;function re(){const G=[],Y=[];for(let Z=0;Z<=ee;Z++)Y[Z]=0;for(let Z=0;Z<=ee;Z++)G.push(Y.slice(0));return G}function H(G){const Y=[];for(let Z=0;Z<=G;Z++)Y[Z]=0;return Y}const m=H(2*ee),y=H(2*ee),h=re(),w=re(),v=re(),c=!1;function b(G,Y,Z,ie,ce){function ue(Ce,Le,we=" "){for(;Ce.length<Le;)Ce=we+Ce;return Ce}let ge=` |   |${ie.split("").map(Ce=>ue(Ce,3)).join("|")}
`;for(let Ce=0;Ce<=Z;Ce++)Ce===0?ge+=" |":ge+=`${Y[Ce-1]}|`,ge+=G[Ce].slice(0,ce+1).map(Le=>ue(Le.toString(),3)).join("|")+`
`;return ge}function d(G,Y,Z,ie){G=G.substr(Y),Z=Z.substr(ie),console.log(b(w,G,G.length,Z,Z.length)),console.log(b(v,G,G.length,Z,Z.length)),console.log(b(h,G,G.length,Z,Z.length))}function A(G,Y){if(Y<0||Y>=G.length)return!1;const Z=G.codePointAt(Y);switch(Z){case 95:case 45:case 46:case 32:case 47:case 92:case 39:case 34:case 58:case 36:case 60:case 40:case 91:return!0;case void 0:return!1;default:return!!O.isEmojiImprecise(Z)}}function F(G,Y){if(Y<0||Y>=G.length)return!1;switch(G.charCodeAt(Y)){case 32:case 9:return!0;default:return!1}}function U(G,Y,Z){return Y[G]!==Z[G]}function Q(G,Y,Z,ie,ce,ue,ge=!1){for(;Y<Z&&ce<ue;)G[Y]===ie[ce]&&(ge&&(m[Y]=ce),Y+=1),ce+=1;return Y===Z}e.isPatternInWord=Q;var J;(function(G){G[G.Diag=1]="Diag",G[G.Left=2]="Left",G[G.LeftLeft=3]="LeftLeft"})(J||(J={}));var X;(function(G){G.Default=[-100,0];function Y(Z){return!Z||Z.length===2&&Z[0]===-100&&Z[1]===0}G.isDefault=Y})(X=e.FuzzyScore||(e.FuzzyScore={}));function se(G,Y,Z,ie,ce,ue,ge){const Ce=G.length>ee?ee:G.length,Le=ie.length>ee?ee:ie.length;if(Z>=Ce||ue>=Le||Ce-Z>Le-ue||!Q(Y,Z,Ce,ce,ue,Le,!0))return;le(Ce,Le,Z,ue,Y,ce);let we=1,be=1,Se=Z,Pe=ue;const Fe=[!1];for(we=1,Se=Z;Se<Ce;we++,Se++){const Ae=m[Se],Me=y[Se],C=Se+1<Ce?y[Se+1]:Le;for(be=Ae-ue+1,Pe=Ae;Pe<C;be++,Pe++){let V=Number.MIN_SAFE_INTEGER,x=!1;Pe<=Me&&(V=fe(G,Y,Se,Z,ie,ce,Pe,Le,ue,h[we-1][be-1]===0,Fe));let ne=0;V!==Number.MAX_SAFE_INTEGER&&(x=!0,ne=V+w[we-1][be-1]);const ae=Pe>Ae,de=ae?w[we][be-1]+(h[we][be-1]>0?-5:0):0,Ee=Pe>Ae+1&&h[we][be-1]>0,_e=Ee?w[we][be-2]+(h[we][be-2]>0?-5:0):0;if(Ee&&(!ae||_e>=de)&&(!x||_e>=ne))w[we][be]=_e,v[we][be]=3,h[we][be]=0;else if(ae&&(!x||de>=ne))w[we][be]=de,v[we][be]=2,h[we][be]=0;else if(x)w[we][be]=ne,v[we][be]=1,h[we][be]=h[we-1][be-1]+1;else throw new Error("not possible")}}if(c&&d(G,Z,ie,ue),!Fe[0]&&!ge)return;we--,be--;const Ne=[w[we][be],ue];let Ue=0,Be=0;for(;we>=1;){let Ae=be;do{const Me=v[we][Ae];if(Me===3)Ae=Ae-2;else if(Me===2)Ae=Ae-1;else break}while(Ae>=1);Ue>1&&Y[Z+we-1]===ce[ue+be-1]&&!U(Ae+ue-1,ie,ce)&&Ue+1>h[we][Ae]&&(Ae=be),Ae===be?Ue++:Ue=1,Be||(Be=Ae),we--,be=Ae-1,Ne.push(be)}Le===Ce&&(Ne[0]+=2);const ke=Be-Ce;return Ne[0]-=ke,Ne}e.fuzzyScore=se;function le(G,Y,Z,ie,ce,ue){let ge=G-1,Ce=Y-1;for(;ge>=Z&&Ce>=ie;)ce[ge]===ue[Ce]&&(y[ge]=Ce,ge--),Ce--}function fe(G,Y,Z,ie,ce,ue,ge,Ce,Le,we,be){if(Y[Z]!==ue[ge])return Number.MIN_SAFE_INTEGER;let Se=1,Pe=!1;return ge===Z-ie?Se=G[Z]===ce[ge]?7:5:U(ge,ce,ue)&&(ge===0||!U(ge-1,ce,ue))?(Se=G[Z]===ce[ge]?7:5,Pe=!0):A(ue,ge)&&(ge===0||!A(ue,ge-1))?Se=5:(A(ue,ge-1)||F(ue,ge-1))&&(Se=5,Pe=!0),Se>1&&Z===ie&&(be[0]=!0),Pe||(Pe=U(ge,ce,ue)||A(ue,ge-1)||F(ue,ge-1)),Z===ie?ge>Le&&(Se-=Pe?3:5):we?Se+=Pe?2:0:Se+=Pe?0:1,ge+1===Ce&&(Se-=Pe?3:5),Se}function ve(G,Y,Z,ie,ce,ue,ge){return Ie(G,Y,Z,ie,ce,ue,!0,ge)}e.fuzzyScoreGracefulAggressive=ve;function ye(G,Y,Z,ie,ce,ue,ge){return Ie(G,Y,Z,ie,ce,ue,!1,ge)}e.fuzzyScoreGraceful=ye;function Ie(G,Y,Z,ie,ce,ue,ge,Ce){let Le=se(G,Y,Z,ie,ce,ue,Ce);if(Le&&!ge)return Le;if(G.length>=3){const we=Math.min(7,G.length-1);for(let be=Z+1;be<we;be++){const Se=De(G,be);if(Se){const Pe=se(Se,Se.toLowerCase(),Z,ie,ce,ue,Ce);Pe&&(Pe[0]-=3,(!Le||Pe[0]>Le[0])&&(Le=Pe))}}}return Le}function De(G,Y){if(Y+1>=G.length)return;const Z=G[Y],ie=G[Y+1];if(Z!==ie)return G.slice(0,Y)+ie+Z+G.slice(Y+2)}}),define(he[43],me([0,1,15,3,5]),function(oe,e,P,O,R){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.revive=e.MarshalledId=e.parse=e.stringify=void 0;function M(I){return JSON.stringify(I,S)}e.stringify=M;function z(I){let N=JSON.parse(I);return N=L(N),N}e.parse=z;var D;(function(I){I[I.Uri=1]="Uri",I[I.Regexp=2]="Regexp",I[I.ScmResource=3]="ScmResource",I[I.ScmResourceGroup=4]="ScmResourceGroup",I[I.ScmProvider=5]="ScmProvider",I[I.CommentController=6]="CommentController",I[I.CommentThread=7]="CommentThread",I[I.CommentThreadReply=8]="CommentThreadReply",I[I.CommentNode=9]="CommentNode",I[I.CommentThreadNode=10]="CommentThreadNode",I[I.TimelineActionContext=11]="TimelineActionContext",I[I.NotebookCellActionContext=12]="NotebookCellActionContext",I[I.TestItemContext=13]="TestItemContext"})(D=e.MarshalledId||(e.MarshalledId={}));function S(I,N){return N instanceof RegExp?{$mid:2,source:N.source,flags:(0,O.regExpFlags)(N)}:N}function L(I,N=0){if(!I||N>200)return I;if(typeof I=="object"){switch(I.$mid){case 1:return R.URI.revive(I);case 2:return new RegExp(I.source,I.flags)}if(I instanceof P.VSBuffer||I instanceof Uint8Array)return I;if(Array.isArray(I))for(let K=0;K<I.length;++K)I[K]=L(I[K],N+1);else for(const K in I)Object.hasOwnProperty.call(I,K)&&(I[K]=L(I[K],N+1))}return I}e.revive=L}),define(he[22],me([0,1,5,4]),function(oe,e,P,O){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FileAccess=e.RemoteAuthorities=e.Schemas=void 0;var R;(function(D){D.inMemory="inmemory",D.vscode="vscode",D.internal="private",D.walkThrough="walkThrough",D.walkThroughSnippet="walkThroughSnippet",D.http="http",D.https="https",D.file="file",D.mailto="mailto",D.untitled="untitled",D.data="data",D.command="command",D.vscodeRemote="vscode-remote",D.vscodeRemoteResource="vscode-remote-resource",D.userData="vscode-userdata",D.vscodeCustomEditor="vscode-custom-editor",D.vscodeNotebook="vscode-notebook",D.vscodeNotebookCell="vscode-notebook-cell",D.vscodeNotebookCellMetadata="vscode-notebook-cell-metadata",D.vscodeNotebookCellOutput="vscode-notebook-cell-output",D.vscodeInteractive="vscode-interactive",D.vscodeInteractiveInput="vscode-interactive-input",D.vscodeSettings="vscode-settings",D.vscodeWorkspaceTrust="vscode-workspace-trust",D.vscodeTerminal="vscode-terminal",D.webviewPanel="webview-panel",D.vscodeWebview="vscode-webview",D.extension="extension",D.vscodeFileResource="vscode-file",D.tmp="tmp"})(R=e.Schemas||(e.Schemas={}));class M{constructor(){this._hosts=Object.create(null),this._ports=Object.create(null),this._connectionTokens=Object.create(null),this._preferredWebSchema="http",this._delegate=null}setPreferredWebSchema(S){this._preferredWebSchema=S}setDelegate(S){this._delegate=S}set(S,L,I){this._hosts[S]=L,this._ports[S]=I}setConnectionToken(S,L){this._connectionTokens[S]=L}rewrite(S){if(this._delegate)return this._delegate(S);const L=S.authority;let I=this._hosts[L];I&&I.indexOf(":")!==-1&&(I=`[${I}]`);const N=this._ports[L],K=this._connectionTokens[L];let q=`path=${encodeURIComponent(S.path)}`;return typeof K=="string"&&(q+=`&tkn=${encodeURIComponent(K)}`),P.URI.from({scheme:O.isWeb?this._preferredWebSchema:R.vscodeRemoteResource,authority:`${I}:${N}`,path:"/vscode-remote-resource",query:q})}}e.RemoteAuthorities=new M;class z{constructor(){this.FALLBACK_AUTHORITY="vscode-app"}asBrowserUri(S,L,I){const N=this.toUri(S,L);if(N.scheme===R.vscodeRemote)return e.RemoteAuthorities.rewrite(N);let K=!1;return O.isNative&&(I||O.isPreferringBrowserCodeLoad)&&N.scheme===R.file&&(K=!0),N.scheme===R.file&&typeof O.globals.importScripts=="function"&&O.globals.origin==="vscode-file://vscode-app"&&(K=!0),K?N.with({scheme:R.vscodeFileResource,authority:N.authority||this.FALLBACK_AUTHORITY,query:null,fragment:null}):N}asFileUri(S,L){const I=this.toUri(S,L);return I.scheme===R.vscodeFileResource?I.with({scheme:R.file,authority:I.authority!==this.FALLBACK_AUTHORITY?I.authority:null,query:null,fragment:null}):I}toUri(S,L){return P.URI.isUri(S)?S:P.URI.parse(L.toUrl(S))}}e.FileAccess=new z}),define(he[23],me([0,1,16]),function(oe,e,P){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.removeAccents=e.normalizeNFD=e.normalizeNFC=void 0;const O=new P.LRUCache(1e4);function R(L){return S(L,"NFC",O)}e.normalizeNFC=R;const M=new P.LRUCache(1e4);function z(L){return S(L,"NFD",M)}e.normalizeNFD=z;const D=/[^\u0000-\u0080]/;function S(L,I,N){if(!L)return L;const K=N.get(L);if(K)return K;let q;return D.test(L)?q=L.normalize(I):q=L,N.set(L,q),q}e.removeAccents=function(){const L=/[\u0300-\u036f]/g;return function(I){return z(I).replace(L,"")}}()}),define(he[24],me([0,1,9,2,5,3,22,4]),function(oe,e,P,O,R,M,z,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toLocalResource=e.DataUri=e.distinctParents=e.addTrailingPathSeparator=e.removeTrailingPathSeparator=e.hasTrailingPathSeparator=e.isEqualAuthority=e.isAbsolutePath=e.resolvePath=e.relativePath=e.normalizePath=e.joinPath=e.dirname=e.extname=e.basename=e.basenameOrAuthority=e.getComparisonKey=e.isEqualOrParent=e.isEqual=e.extUriIgnorePathCase=e.extUriBiasedIgnorePathCase=e.extUri=e.ExtUri=e.originalFSPath=void 0;function S(q){return(0,R.uriToFsPath)(q,!0)}e.originalFSPath=S;class L{constructor(p){this._ignorePathCasing=p}compare(p,T,$=!1){return p===T?0:(0,M.compare)(this.getComparisonKey(p,$),this.getComparisonKey(T,$))}isEqual(p,T,$=!1){return p===T?!0:!p||!T?!1:this.getComparisonKey(p,$)===this.getComparisonKey(T,$)}getComparisonKey(p,T=!1){return p.with({path:this._ignorePathCasing(p)?p.path.toLowerCase():void 0,fragment:T?null:void 0}).toString()}ignorePathCasing(p){return this._ignorePathCasing(p)}isEqualOrParent(p,T,$=!1){if(p.scheme===T.scheme){if(p.scheme===z.Schemas.file)return P.isEqualOrParent(S(p),S(T),this._ignorePathCasing(p))&&p.query===T.query&&($||p.fragment===T.fragment);if((0,e.isEqualAuthority)(p.authority,T.authority))return P.isEqualOrParent(p.path,T.path,this._ignorePathCasing(p),"/")&&p.query===T.query&&($||p.fragment===T.fragment)}return!1}joinPath(p,...T){return R.URI.joinPath(p,...T)}basenameOrAuthority(p){return(0,e.basename)(p)||p.authority}basename(p){return O.posix.basename(p.path)}extname(p){return O.posix.extname(p.path)}dirname(p){if(p.path.length===0)return p;let T;return p.scheme===z.Schemas.file?T=R.URI.file(O.dirname(S(p))).path:(T=O.posix.dirname(p.path),p.authority&&T.length&&T.charCodeAt(0)!==47&&(console.error(`dirname("${p.toString})) resulted in a relative path`),T="/")),p.with({path:T})}normalizePath(p){if(!p.path.length)return p;let T;return p.scheme===z.Schemas.file?T=R.URI.file(O.normalize(S(p))).path:T=O.posix.normalize(p.path),p.with({path:T})}relativePath(p,T){if(p.scheme!==T.scheme||!(0,e.isEqualAuthority)(p.authority,T.authority))return;if(p.scheme===z.Schemas.file){const j=O.relative(S(p),S(T));return D.isWindows?P.toSlashes(j):j}let $=p.path||"/",W=T.path||"/";if(this._ignorePathCasing(p)){let j=0;for(const a=Math.min($.length,W.length);j<a&&!($.charCodeAt(j)!==W.charCodeAt(j)&&$.charAt(j).toLowerCase()!==W.charAt(j).toLowerCase());j++);$=W.substr(0,j)+$.substr(j)}return O.posix.relative($,W)}resolvePath(p,T){if(p.scheme===z.Schemas.file){const $=R.URI.file(O.resolve(S(p),T));return p.with({authority:$.authority,path:$.path})}return T=P.toPosixPath(T),p.with({path:O.posix.resolve(p.path,T)})}isAbsolutePath(p){return!!p.path&&p.path[0]==="/"}isEqualAuthority(p,T){return p===T||(0,M.equalsIgnoreCase)(p,T)}hasTrailingPathSeparator(p,T=O.sep){if(p.scheme===z.Schemas.file){const $=S(p);return $.length>P.getRoot($).length&&$[$.length-1]===T}else{const $=p.path;return $.length>1&&$.charCodeAt($.length-1)===47&&!/^[a-zA-Z]:(\/$|\\$)/.test(p.fsPath)}}removeTrailingPathSeparator(p,T=O.sep){return(0,e.hasTrailingPathSeparator)(p,T)?p.with({path:p.path.substr(0,p.path.length-1)}):p}addTrailingPathSeparator(p,T=O.sep){let $=!1;if(p.scheme===z.Schemas.file){const W=S(p);$=W!==void 0&&W.length===P.getRoot(W).length&&W[W.length-1]===T}else{T="/";const W=p.path;$=W.length===1&&W.charCodeAt(W.length-1)===47}return!$&&!(0,e.hasTrailingPathSeparator)(p,T)?p.with({path:p.path+"/"}):p}}e.ExtUri=L,e.extUri=new L(()=>!1),e.extUriBiasedIgnorePathCase=new L(q=>q.scheme===z.Schemas.file?!D.isLinux:!0),e.extUriIgnorePathCase=new L(q=>!0),e.isEqual=e.extUri.isEqual.bind(e.extUri),e.isEqualOrParent=e.extUri.isEqualOrParent.bind(e.extUri),e.getComparisonKey=e.extUri.getComparisonKey.bind(e.extUri),e.basenameOrAuthority=e.extUri.basenameOrAuthority.bind(e.extUri),e.basename=e.extUri.basename.bind(e.extUri),e.extname=e.extUri.extname.bind(e.extUri),e.dirname=e.extUri.dirname.bind(e.extUri),e.joinPath=e.extUri.joinPath.bind(e.extUri),e.normalizePath=e.extUri.normalizePath.bind(e.extUri),e.relativePath=e.extUri.relativePath.bind(e.extUri),e.resolvePath=e.extUri.resolvePath.bind(e.extUri),e.isAbsolutePath=e.extUri.isAbsolutePath.bind(e.extUri),e.isEqualAuthority=e.extUri.isEqualAuthority.bind(e.extUri),e.hasTrailingPathSeparator=e.extUri.hasTrailingPathSeparator.bind(e.extUri),e.removeTrailingPathSeparator=e.extUri.removeTrailingPathSeparator.bind(e.extUri),e.addTrailingPathSeparator=e.extUri.addTrailingPathSeparator.bind(e.extUri);function I(q,p){const T=[];for(let $=0;$<q.length;$++){const W=p(q[$]);q.some((j,a)=>a===$?!1:(0,e.isEqualOrParent)(W,p(j)))||T.push(q[$])}return T}e.distinctParents=I;var N;(function(q){q.META_DATA_LABEL="label",q.META_DATA_DESCRIPTION="description",q.META_DATA_SIZE="size",q.META_DATA_MIME="mime";function p(T){const $=new Map;T.path.substring(T.path.indexOf(";")+1,T.path.lastIndexOf(";")).split(";").forEach(a=>{const[l,o]=a.split(":");l&&o&&$.set(l,o)});const j=T.path.substring(0,T.path.indexOf(";"));return j&&$.set(q.META_DATA_MIME,j),$}q.parseMetaData=p})(N=e.DataUri||(e.DataUri={}));function K(q,p,T){if(p){let $=q.path;return $&&$[0]!==O.posix.sep&&($=O.posix.sep+$),q.with({scheme:T,authority:p,path:$})}return q.with({scheme:T})}e.toLocalResource=K}),define(he[12],me([0,1,14,6,11,10,24]),function(oe,e,P,O,R,M,z){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Promises=e.DeferredPromise=e.IntervalCounter=e.TaskSequentializer=e.retry=e.IdleValue=e.runWhenIdle=e.ThrottledWorker=e.RunOnceWorker=e.RunOnceScheduler=e.IntervalTimer=e.TimeoutTimer=e.ResourceQueue=e.Queue=e.Limiter=e.firstParallel=e.first=e.sequence=e.disposableTimeout=e.timeout=e.AutoOpenBarrier=e.Barrier=e.ThrottledDelayer=e.Delayer=e.SequencerByKey=e.Sequencer=e.Throttler=e.asPromise=e.raceTimeout=e.raceCancellablePromises=e.raceCancellation=e.createCancelablePromise=e.isThenable=void 0;function D(y){return!!y&&typeof y.then=="function"}e.isThenable=D;function S(y){const h=new P.CancellationTokenSource,w=y(h.token),v=new Promise((c,b)=>{const d=h.token.onCancellationRequested(()=>{d.dispose(),h.dispose(),b((0,O.canceled)())});Promise.resolve(w).then(A=>{d.dispose(),h.dispose(),c(A)},A=>{d.dispose(),h.dispose(),b(A)})});return new class{cancel(){h.cancel()}then(c,b){return v.then(c,b)}catch(c){return this.then(void 0,c)}finally(c){return v.finally(c)}}}e.createCancelablePromise=S;function L(y,h,w){return Promise.race([y,new Promise(v=>h.onCancellationRequested(()=>v(w)))])}e.raceCancellation=L;async function I(y){let h=-1;const w=y.map((c,b)=>c.then(d=>(h=b,d))),v=await Promise.race(w);return y.forEach((c,b)=>{b!==h&&c.cancel()}),v}e.raceCancellablePromises=I;function N(y,h,w){let v;const c=setTimeout(()=>{v?.(void 0),w?.()},h);return Promise.race([y.finally(()=>clearTimeout(c)),new Promise(b=>v=b)])}e.raceTimeout=N;function K(y){return new Promise((h,w)=>{const v=y();D(v)?v.then(h,w):h(v)})}e.asPromise=K;class q{constructor(){this.activePromise=null,this.queuedPromise=null,this.queuedPromiseFactory=null}queue(h){if(this.activePromise){if(this.queuedPromiseFactory=h,!this.queuedPromise){const w=()=>{this.queuedPromise=null;const v=this.queue(this.queuedPromiseFactory);return this.queuedPromiseFactory=null,v};this.queuedPromise=new Promise(v=>{this.activePromise.then(w,w).then(v)})}return new Promise((w,v)=>{this.queuedPromise.then(w,v)})}return this.activePromise=h(),new Promise((w,v)=>{this.activePromise.then(c=>{this.activePromise=null,w(c)},c=>{this.activePromise=null,v(c)})})}}e.Throttler=q;class p{constructor(){this.current=Promise.resolve(null)}queue(h){return this.current=this.current.then(()=>h(),()=>h())}}e.Sequencer=p;class T{constructor(){this.promiseMap=new Map}queue(h,w){const c=(this.promiseMap.get(h)??Promise.resolve()).catch(()=>{}).then(w).finally(()=>{this.promiseMap.get(h)===c&&this.promiseMap.delete(h)});return this.promiseMap.set(h,c),c}}e.SequencerByKey=T;class ${constructor(h){this.defaultDelay=h,this.timeout=null,this.completionPromise=null,this.doResolve=null,this.doReject=null,this.task=null}trigger(h,w=this.defaultDelay){return this.task=h,this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise((v,c)=>{this.doResolve=v,this.doReject=c}).then(()=>{if(this.completionPromise=null,this.doResolve=null,this.task){const v=this.task;return this.task=null,v()}})),this.timeout=setTimeout(()=>{this.timeout=null,this.doResolve&&this.doResolve(null)},w),this.completionPromise}isTriggered(){return this.timeout!==null}cancel(){this.cancelTimeout(),this.completionPromise&&(this.doReject&&this.doReject((0,O.canceled)()),this.completionPromise=null)}cancelTimeout(){this.timeout!==null&&(clearTimeout(this.timeout),this.timeout=null)}dispose(){this.cancel()}}e.Delayer=$;class W{constructor(h){this.delayer=new $(h),this.throttler=new q}trigger(h,w){return this.delayer.trigger(()=>this.throttler.queue(h),w)}isTriggered(){return this.delayer.isTriggered()}cancel(){this.delayer.cancel()}dispose(){this.delayer.dispose()}}e.ThrottledDelayer=W;class j{constructor(){this._isOpen=!1,this._promise=new Promise((h,w)=>{this._completePromise=h})}isOpen(){return this._isOpen}open(){this._isOpen=!0,this._completePromise(!0)}wait(){return this._promise}}e.Barrier=j;class a extends j{constructor(h){super();this._timeout=setTimeout(()=>this.open(),h)}open(){clearTimeout(this._timeout),super.open()}}e.AutoOpenBarrier=a;function l(y,h){return h?new Promise((w,v)=>{const c=setTimeout(()=>{b.dispose(),w()},y),b=h.onCancellationRequested(()=>{clearTimeout(c),b.dispose(),v((0,O.canceled)())})}):S(w=>l(y,w))}e.timeout=l;function o(y,h=0){const w=setTimeout(y,h);return(0,M.toDisposable)(()=>clearTimeout(w))}e.disposableTimeout=o;function r(y){const h=[];let w=0;const v=y.length;function c(){return w<v?y[w++]():null}function b(d){d!=null&&h.push(d);const A=c();return A?A.then(b):Promise.resolve(h)}return Promise.resolve(null).then(b)}e.sequence=r;function t(y,h=v=>!!v,w=null){let v=0;const c=y.length,b=()=>{if(v>=c)return Promise.resolve(w);const d=y[v++];return Promise.resolve(d()).then(F=>h(F)?Promise.resolve(F):b())};return b()}e.first=t;function n(y,h=v=>!!v,w=null){if(y.length===0)return Promise.resolve(w);let v=y.length;const c=()=>{v=-1;for(const b of y)b.cancel?.()};return new Promise((b,d)=>{for(const A of y)A.then(F=>{--v>=0&&h(F)?(c(),b(F)):v===0&&b(w)}).catch(F=>{--v>=0&&(c(),d(F))})})}e.firstParallel=n;class i{constructor(h){this._size=0,this.maxDegreeOfParalellism=h,this.outstandingPromises=[],this.runningPromises=0,this._onFinished=new R.Emitter}get onFinished(){return this._onFinished.event}get size(){return this._size}queue(h){return this._size++,new Promise((w,v)=>{this.outstandingPromises.push({factory:h,c:w,e:v}),this.consume()})}consume(){for(;this.outstandingPromises.length&&this.runningPromises<this.maxDegreeOfParalellism;){const h=this.outstandingPromises.shift();this.runningPromises++;const w=h.factory();w.then(h.c,h.e),w.then(()=>this.consumed(),()=>this.consumed())}}consumed(){this._size--,this.runningPromises--,this.outstandingPromises.length>0?this.consume():this._onFinished.fire()}dispose(){this._onFinished.dispose()}}e.Limiter=i;class s extends i{constructor(){super(1)}}e.Queue=s;class f{constructor(){this.queues=new Map}queueFor(h,w=z.extUri){const v=w.getComparisonKey(h);let c=this.queues.get(v);return c||(c=new s,R.Event.once(c.onFinished)(()=>{c?.dispose(),this.queues.delete(v)}),this.queues.set(v,c)),c}dispose(){this.queues.forEach(h=>h.dispose()),this.queues.clear()}}e.ResourceQueue=f;class u{constructor(h,w){this._token=-1,typeof h=="function"&&typeof w=="number"&&this.setIfNotSet(h,w)}dispose(){this.cancel()}cancel(){this._token!==-1&&(clearTimeout(this._token),this._token=-1)}cancelAndSet(h,w){this.cancel(),this._token=setTimeout(()=>{this._token=-1,h()},w)}setIfNotSet(h,w){this._token===-1&&(this._token=setTimeout(()=>{this._token=-1,h()},w))}}e.TimeoutTimer=u;class E{constructor(){this._token=-1}dispose(){this.cancel()}cancel(){this._token!==-1&&(clearInterval(this._token),this._token=-1)}cancelAndSet(h,w){this.cancel(),this._token=setInterval(()=>{h()},w)}}e.IntervalTimer=E;class g{constructor(h,w){this.timeoutToken=-1,this.runner=h,this.timeout=w,this.timeoutHandler=this.onTimeout.bind(this)}dispose(){this.cancel(),this.runner=null}cancel(){this.isScheduled()&&(clearTimeout(this.timeoutToken),this.timeoutToken=-1)}schedule(h=this.timeout){this.cancel(),this.timeoutToken=setTimeout(this.timeoutHandler,h)}get delay(){return this.timeout}set delay(h){this.timeout=h}isScheduled(){return this.timeoutToken!==-1}onTimeout(){this.timeoutToken=-1,this.runner&&this.doRun()}doRun(){this.runner&&this.runner()}}e.RunOnceScheduler=g;class _ extends g{constructor(h,w){super(h,w);this.units=[]}work(h){this.units.push(h),this.isScheduled()||this.schedule()}doRun(){const h=this.units;this.units=[],this.runner&&this.runner(h)}dispose(){this.units=[],super.dispose()}}e.RunOnceWorker=_;class k extends M.Disposable{constructor(h,w,v,c){super();this.maxWorkChunkSize=h,this.maxPendingWork=w,this.throttleDelay=v,this.handler=c,this.pendingWork=[],this.throttler=this._register(new M.MutableDisposable),this.disposed=!1}get pending(){return this.pendingWork.length}work(h){if(this.disposed)return!1;if(typeof this.maxPendingWork=="number"){if(this.throttler.value){if(this.pending+h.length>this.maxPendingWork)return!1}else if(this.pending+h.length-this.maxWorkChunkSize>this.maxPendingWork)return!1}return this.pendingWork.push(...h),this.throttler.value||this.doWork(),!0}doWork(){this.handler(this.pendingWork.splice(0,this.maxWorkChunkSize)),this.pendingWork.length>0&&(this.throttler.value=new g(()=>{this.throttler.clear(),this.doWork()},this.throttleDelay),this.throttler.value.schedule())}dispose(){super.dispose(),this.disposed=!0}}e.ThrottledWorker=k,function(){if(typeof requestIdleCallback!="function"||typeof cancelIdleCallback!="function"){const y=Object.freeze({didTimeout:!0,timeRemaining(){return 15}});e.runWhenIdle=h=>{const w=setTimeout(()=>h(y));let v=!1;return{dispose(){v||(v=!0,clearTimeout(w))}}}}else e.runWhenIdle=(y,h)=>{const w=requestIdleCallback(y,typeof h=="number"?{timeout:h}:void 0);let v=!1;return{dispose(){v||(v=!0,cancelIdleCallback(w))}}}}();class B{constructor(h){this._didRun=!1,this._executor=()=>{try{this._value=h()}catch(w){this._error=w}finally{this._didRun=!0}},this._handle=(0,e.runWhenIdle)(()=>this._executor())}dispose(){this._handle.dispose()}get value(){if(this._didRun||(this._handle.dispose(),this._executor()),this._error)throw this._error;return this._value}}e.IdleValue=B;async function te(y,h,w){let v;for(let c=0;c<w;c++)try{return await y()}catch(b){v=b,await l(h)}throw v}e.retry=te;class ee{hasPending(h){return this._pending?typeof h=="number"?this._pending.taskId===h:!!this._pending:!1}get pending(){return this._pending?this._pending.promise:void 0}cancelPending(){this._pending?.cancel()}setPending(h,w,v){return this._pending={taskId:h,cancel:()=>v?.(),promise:w},w.then(()=>this.donePending(h),()=>this.donePending(h)),w}donePending(h){this._pending&&h===this._pending.taskId&&(this._pending=void 0,this.triggerNext())}triggerNext(){if(this._next){const h=this._next;this._next=void 0,h.run().then(h.promiseResolve,h.promiseReject)}}setNext(h){if(this._next)this._next.run=h;else{let w,v;const c=new Promise((b,d)=>{w=b,v=d});this._next={run:h,promise:c,promiseResolve:w,promiseReject:v}}return this._next.promise}}e.TaskSequentializer=ee;class re{constructor(h){this.interval=h,this.lastIncrementTime=0,this.value=0}increment(){const h=Date.now();return h-this.lastIncrementTime>this.interval&&(this.lastIncrementTime=h,this.value=0),this.value++,this.value}}e.IntervalCounter=re;class H{constructor(){this.rejected=!1,this.resolved=!1,this.p=new Promise((h,w)=>{this.completeCallback=h,this.errorCallback=w})}get isRejected(){return this.rejected}get isResolved(){return this.resolved}get isSettled(){return this.rejected||this.resolved}complete(h){return new Promise(w=>{this.completeCallback(h),this.resolved=!0,w()})}error(h){return new Promise(w=>{this.errorCallback(h),this.rejected=!0,w()})}cancel(){new Promise(h=>{this.errorCallback((0,O.canceled)()),this.rejected=!0,h()})}}e.DeferredPromise=H;var m;(function(y){async function h(w){let v;const c=await Promise.all(w.map(b=>b.then(d=>d,d=>{v||(v=d)})));if(typeof v!="undefined")throw v;return c}y.settled=h})(m=e.Promises||(e.Promises={}))}),define(he[44],me([0,1,2,12]),function(oe,e,P,O){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.compareByPrefix=e.compareAnything=e.comparePaths=e.compareFileExtensionsUnicode=e.compareFileExtensionsLower=e.compareFileExtensionsUpper=e.compareFileExtensionsDefault=e.compareFileExtensions=e.noIntlCompareFileNames=e.compareFileNamesUnicode=e.compareFileNamesLower=e.compareFileNamesUpper=e.compareFileNamesDefault=e.compareFileNames=void 0;const R=new O.IdleValue(()=>{const g=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"});return{collator:g,collatorIsNumeric:g.resolvedOptions().numeric}}),M=new O.IdleValue(()=>({collator:new Intl.Collator(void 0,{numeric:!0})})),z=new O.IdleValue(()=>({collator:new Intl.Collator(void 0,{numeric:!0,sensitivity:"accent"})}));function D(g,_,k=!1){const B=g||"",te=_||"",ee=R.value.collator.compare(B,te);return R.value.collatorIsNumeric&&ee===0&&B!==te?B<te?-1:1:ee}e.compareFileNames=D;function S(g,_){const k=M.value.collator;return g=g||"",_=_||"",o(k,g,_)}e.compareFileNamesDefault=S;function L(g,_){const k=M.value.collator;return g=g||"",_=_||"",i(g,_)||o(k,g,_)}e.compareFileNamesUpper=L;function I(g,_){const k=M.value.collator;return g=g||"",_=_||"",n(g,_)||o(k,g,_)}e.compareFileNamesLower=I;function N(g,_){return g=g||"",_=_||"",g===_?0:g<_?-1:1}e.compareFileNamesUnicode=N;function K(g,_,k=!1){k||(g=g&&g.toLowerCase(),_=_&&_.toLowerCase());const[B,te]=a(g),[ee,re]=a(_);return B!==ee?B<ee?-1:1:te===re?0:te<re?-1:1}e.noIntlCompareFileNames=K;function q(g,_){const[k,B]=a(g),[te,ee]=a(_);let re=R.value.collator.compare(B,ee);if(re===0){if(R.value.collatorIsNumeric&&B!==ee)return B<ee?-1:1;if(re=R.value.collator.compare(k,te),R.value.collatorIsNumeric&&re===0&&k!==te)return k<te?-1:1}return re}e.compareFileExtensions=q;function p(g,_){g=g||"",_=_||"";const k=l(g),B=l(_),te=M.value.collator,ee=z.value.collator;return o(ee,k,B)||o(te,g,_)}e.compareFileExtensionsDefault=p;function T(g,_){g=g||"",_=_||"";const k=l(g),B=l(_),te=M.value.collator,ee=z.value.collator;return o(ee,k,B)||i(g,_)||o(te,g,_)}e.compareFileExtensionsUpper=T;function $(g,_){g=g||"",_=_||"";const k=l(g),B=l(_),te=M.value.collator,ee=z.value.collator;return o(ee,k,B)||n(g,_)||o(te,g,_)}e.compareFileExtensionsLower=$;function W(g,_){g=g||"",_=_||"";const k=l(g).toLowerCase(),B=l(_).toLowerCase();return k!==B?k<B?-1:1:g!==_?g<_?-1:1:0}e.compareFileExtensionsUnicode=W;const j=/^(.*?)(\.([^.]*))?$/;function a(g,_=!1){const k=g?j.exec(g):[];let B=[k&&k[1]||"",k&&k[3]||""];return _&&(!B[0]&&B[1]||B[0]&&B[0].charAt(0)===".")&&(B=[B[0]+"."+B[1],""]),B}function l(g){const _=g?j.exec(g):[];return _&&_[1]&&_[1].charAt(0)!=="."&&_[3]||""}function o(g,_,k){let B=g.compare(_,k);return B!==0?B:_.length!==k.length?_.length<k.length?-1:1:0}function r(g){const _=g.charAt(0);return _.toLocaleUpperCase()!==_}function t(g){const _=g.charAt(0);return _.toLocaleLowerCase()!==_}function n(g,_){return r(g)&&t(_)?-1:t(g)&&r(_)?1:0}function i(g,_){return t(g)&&r(_)?-1:r(g)&&t(_)?1:0}function s(g,_,k=!1){return k||(g=g&&g.toLowerCase(),_=_&&_.toLowerCase()),g===_?0:g<_?-1:1}function f(g,_,k=!1){const B=g.split(P.sep),te=_.split(P.sep),ee=B.length-1,re=te.length-1;let H,m;for(let y=0;;y++){if(H=ee===y,m=re===y,H&&m)return D(B[y],te[y],k);if(H)return-1;if(m)return 1;const h=s(B[y],te[y],k);if(h!==0)return h}}e.comparePaths=f;function u(g,_,k){const B=g.toLowerCase(),te=_.toLowerCase(),ee=E(g,_,k);if(ee)return ee;const re=B.endsWith(k),H=te.endsWith(k);if(re!==H)return re?-1:1;const m=D(B,te);return m!==0?m:B.localeCompare(te)}e.compareAnything=u;function E(g,_,k){const B=g.toLowerCase(),te=_.toLowerCase(),ee=B.startsWith(k),re=te.startsWith(k);if(ee!==re)return ee?-1:1;if(ee&&re){if(B.length<te.length)return-1;if(B.length>te.length)return 1}return 0}e.compareByPrefix=E}),define(he[31],me([0,1,44,42,2,4,3]),function(oe,e,P,O,R,M,z){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.pieceToQuery=e.prepareQuery=e.compareItemsByFuzzyScore=e.scoreItemFuzzy=e.scoreFuzzy2=e.scoreFuzzy=void 0;const D=0,S=[D,[]];function L(H,m,y,h){if(!H||!m)return S;const w=H.length,v=m.length;if(w<v)return S;const c=H.toLowerCase();return!h&&!c.includes(y)?S:I(m,y,v,H,c,w)}e.scoreFuzzy=L;function I(H,m,y,h,w,v){const c=[],b=[];for(let U=0;U<y;U++){const Q=U*v,J=Q-v,X=U>0,se=H[U],le=m[U];for(let fe=0;fe<v;fe++){const ve=fe>0,ye=Q+fe,Ie=ye-1,De=J+fe-1,G=ve?c[Ie]:0,Y=X&&ve?c[De]:0,Z=X&&ve?b[De]:0;let ie;!Y&&X?ie=0:ie=N(se,le,h,w,fe,Z),ie&&Y+ie>=G?(b[ye]=Z+1,c[ye]=Y+ie):(b[ye]=D,c[ye]=G)}}const d=[];let A=y-1,F=v-1;for(;A>=0&&F>=0;){const U=A*v+F;b[U]===D||(d.push(F),A--),F--}return[c[y*v-1],d.reverse()]}function N(H,m,y,h,w,v){let c=0;if(!K(m,h[w]))return c;if(c+=1,v>0&&(c+=v*5),H===y[w]&&(c+=1),w===0)c+=8;else{const b=q(y.charCodeAt(w-1));b?c+=b:(0,O.isUpper)(y.charCodeAt(w))&&(c+=2)}return c}function K(H,m){return H===m?!0:H==="/"||H==="\\"?m==="/"||m==="\\":!1}function q(H){switch(H){case 47:case 92:return 5;case 95:case 45:case 46:case 32:case 39:case 34:case 58:return 4;default:return 0}}const p=[void 0,[]];function T(H,m,y=0,h=0){const w=m;return w.values&&w.values.length>1?$(H,w.values,y,h):W(H,m,y,h)}e.scoreFuzzy2=T;function $(H,m,y,h){let w=0;const v=[];for(const c of m){const[b,d]=W(H,c,y,h);if(typeof b!="number")return p;w+=b,v.push(...d)}return[w,f(v)]}function W(H,m,y,h){const w=(0,O.fuzzyScore)(m.original,m.originalLowercase,y,H,H.toLowerCase(),h,!0);return w?[w[0],(0,O.createMatches)(w)]:p}const j=Object.freeze({score:0}),a=1<<18,l=1<<17,o=1<<16;function r(H,m,y,h,w){if(!H||!m.normalized)return j;const v=h.getItemLabel(H);if(!v)return j;const c=h.getItemDescription(H);let b;c?b=`${v}${c}${m.normalized}${Array.isArray(m.values)?m.values.length:""}${y}`:b=`${v}${m.normalized}${Array.isArray(m.values)?m.values.length:""}${y}`;const d=w[b];if(d)return d;const A=t(v,c,h.getItemPath(H),m,y);return w[b]=A,A}e.scoreItemFuzzy=r;function t(H,m,y,h,w){const v=!y||!h.containsPathSeparator;return y&&(M.isLinux?h.pathNormalized===y:(0,z.equalsIgnoreCase)(h.pathNormalized,y))?{score:a,labelMatch:[{start:0,end:H.length}],descriptionMatch:m?[{start:0,end:m.length}]:void 0}:h.values&&h.values.length>1?n(H,m,y,h.values,v,w):i(H,m,y,h,v,w)}function n(H,m,y,h,w,v){let c=0;const b=[],d=[];for(const A of h){const{score:F,labelMatch:U,descriptionMatch:Q}=i(H,m,y,A,w,v);if(F===D)return j;c+=F,U&&b.push(...U),Q&&d.push(...Q)}return{score:c,labelMatch:f(b),descriptionMatch:f(d)}}function i(H,m,y,h,w,v){if(w||!m){const[c,b]=L(H,h.normalized,h.normalizedLowercase,v);if(c){const d=(0,O.matchesPrefix)(h.normalized,H);let A;return d?(A=l,A+=Math.round(h.normalized.length/H.length*100)):A=o,{score:A+c,labelMatch:d||s(b)}}}if(m){let c=m;y&&(c=`${m}${R.sep}`);const b=c.length,d=`${c}${H}`,[A,F]=L(d,h.normalized,h.normalizedLowercase,v);if(A){const U=s(F),Q=[],J=[];return U.forEach(X=>{X.start<b&&X.end>b?(Q.push({start:0,end:X.end-b}),J.push({start:X.start,end:b})):X.start>=b?Q.push({start:X.start-b,end:X.end-b}):J.push(X)}),{score:A,labelMatch:Q,descriptionMatch:J}}}return j}function s(H){const m=[];if(!H)return m;let y;for(const h of H)y&&y.end===h?y.end+=1:(y={start:h,end:h+1},m.push(y));return m}function f(H){const m=H.sort((w,v)=>w.start-v.start),y=[];let h;for(const w of m)!h||!u(h,w)?(h=w,y.push(w)):(h.start=Math.min(h.start,w.start),h.end=Math.max(h.end,w.end));return y}function u(H,m){return!(H.end<m.start||m.end<H.start)}function E(H,m,y,h,w,v){const c=r(H,y,h,w,v),b=r(m,y,h,w,v),d=c.score,A=b.score;if((d===a||A===a)&&d!==A)return d===a?-1:1;if(d>o||A>o){if(d!==A)return d>A?-1:1;if(d<l&&A<l){const le=_(c.labelMatch,b.labelMatch);if(le!==0)return le}const X=w.getItemLabel(H)||"",se=w.getItemLabel(m)||"";if(X.length!==se.length)return X.length-se.length}if(d!==A)return d>A?-1:1;const F=Array.isArray(c.labelMatch)&&c.labelMatch.length>0,U=Array.isArray(b.labelMatch)&&b.labelMatch.length>0;if(F&&!U)return-1;if(U&&!F)return 1;const Q=g(H,c,w),J=g(m,b,w);return Q&&J&&Q!==J?J>Q?-1:1:k(H,m,y,w)}e.compareItemsByFuzzyScore=E;function g(H,m,y){let h=-1,w=-1;if(m.descriptionMatch&&m.descriptionMatch.length?h=m.descriptionMatch[0].start:m.labelMatch&&m.labelMatch.length&&(h=m.labelMatch[0].start),m.labelMatch&&m.labelMatch.length){if(w=m.labelMatch[m.labelMatch.length-1].end,m.descriptionMatch&&m.descriptionMatch.length){const v=y.getItemDescription(H);v&&(w+=v.length)}}else m.descriptionMatch&&m.descriptionMatch.length&&(w=m.descriptionMatch[m.descriptionMatch.length-1].end);return w-h}function _(H,m){if(!H&&!m||(!H||!H.length)&&(!m||!m.length))return 0;if(!m||!m.length)return-1;if(!H||!H.length)return 1;const y=H[0].start,w=H[H.length-1].end-y,v=m[0].start,b=m[m.length-1].end-v;return w===b?0:b<w?1:-1}function k(H,m,y,h){const w=h.getItemLabel(H)||"",v=h.getItemLabel(m)||"",c=h.getItemDescription(H),b=h.getItemDescription(m),d=w.length+(c?c.length:0),A=v.length+(b?b.length:0);if(d!==A)return d-A;const F=h.getItemPath(H),U=h.getItemPath(m);return F&&U&&F.length!==U.length?F.length-U.length:w!==v?(0,P.compareAnything)(w,v,y.normalized):c&&b&&c!==b?(0,P.compareAnything)(c,b,y.normalized):F&&U&&F!==U?(0,P.compareAnything)(F,U,y.normalized):0}const B=" ";function te(H){typeof H!="string"&&(H="");const m=H.toLowerCase(),{pathNormalized:y,normalized:h,normalizedLowercase:w}=ee(H),v=y.indexOf(R.sep)>=0;let c;const b=H.split(B);if(b.length>1)for(const d of b){const{pathNormalized:A,normalized:F,normalizedLowercase:U}=ee(d);F&&(c||(c=[]),c.push({original:d,originalLowercase:d.toLowerCase(),pathNormalized:A,normalized:F,normalizedLowercase:U}))}return{original:H,originalLowercase:m,pathNormalized:y,normalized:h,normalizedLowercase:w,values:c,containsPathSeparator:v}}e.prepareQuery=te;function ee(H){let m;M.isWindows?m=H.replace(/\//g,R.sep):m=H.replace(/\\/g,R.sep);const y=(0,z.stripWildcards)(m).replace(/\s/g,"");return{pathNormalized:m,normalized:y,normalizedLowercase:y.toLowerCase()}}function re(H){return Array.isArray(H)?te(H.map(m=>m.original).join(B)):te(H.original)}e.pieceToQuery=re}),define(he[17],me([0,1,3,9,2,16,12]),function(oe,e,P,O,R,M,z){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getPathTerms=e.getBasenameTerms=e.isRelativePattern=e.hasSiblingFn=e.hasSiblingPromiseFn=e.parse=e.match=e.splitGlobAware=e.getEmptyExpression=void 0;function D(){return Object.create(null)}e.getEmptyExpression=D;const S="**",L="/",I="[/\\\\]",N="[^/\\\\]",K=/\//g;function q(c){switch(c){case 0:return"";case 1:return`${N}*?`;default:return`(?:${I}|${N}+${I}|${I}${N}+)*?`}}function p(c,b){if(!c)return[];const d=[];let A=!1,F=!1,U="";for(const Q of c){switch(Q){case b:if(!A&&!F){d.push(U),U="";continue}break;case"{":A=!0;break;case"}":A=!1;break;case"[":F=!0;break;case"]":F=!1;break}U+=Q}return U&&d.push(U),d}e.splitGlobAware=p;function T(c){if(!c)return"";let b="";const d=p(c,L);if(d.every(A=>A===S))b=".*";else{let A=!1;d.forEach((F,U)=>{if(F===S){A||(b+=q(2),A=!0);return}let Q=!1,J="",X=!1,se="";for(const le of F){if(le!=="}"&&Q){J+=le;continue}if(X&&(le!=="]"||!se)){let fe;le==="-"?fe=le:(le==="^"||le==="!")&&!se?fe="^":le===L?fe="":fe=P.escapeRegExpCharacters(le),se+=fe;continue}switch(le){case"{":Q=!0;continue;case"[":X=!0;continue;case"}":b+=`(?:${p(J,",").map(ye=>T(ye)).join("|")})`,Q=!1,J="";break;case"]":b+="["+se+"]",X=!1,se="";break;case"?":b+=N;continue;case"*":b+=q(1);continue;default:b+=P.escapeRegExpCharacters(le)}}U<d.length-1&&(d[U+1]!==S||U+2<d.length)&&(b+=I),A=!1})}return b}const $=/^\*\*\/\*\.[\w\.-]+$/,W=/^\*\*\/([\w\.-]+)\/?$/,j=/^{\*\*\/[\*\.]?[\w\.-]+\/?(,\*\*\/[\*\.]?[\w\.-]+\/?)*}$/,a=/^{\*\*\/[\*\.]?[\w\.-]+(\/(\*\*)?)?(,\*\*\/[\*\.]?[\w\.-]+(\/(\*\*)?)?)*}$/,l=/^\*\*((\/[\w\.-]+)+)\/?$/,o=/^([\w\.-]+(\/[\w\.-]+)*)\/?$/,r=new M.LRUCache(1e4),t=function(){return!1},n=function(){return null};function i(c,b){if(!c)return n;let d;typeof c!="string"?d=c.pattern:d=c,d=d.trim();const A=`${d}_${!!b.trimForExclusions}`;let F=r.get(A);if(F)return s(F,c);let U;if($.test(d)){const Q=d.substr(4);F=function(J,X){return typeof J=="string"&&J.endsWith(Q)?d:null}}else(U=W.exec(f(d,b)))?F=u(U[1],d):(b.trimForExclusions?a:j).test(d)?F=E(d,b):(U=l.exec(f(d,b)))?F=g(U[1].substr(1),d,!0):(U=o.exec(f(d,b)))?F=g(U[1],d,!1):F=_(d);return r.set(A,F),s(F,c)}function s(c,b){return typeof b=="string"?c:function(d,A){return O.isEqualOrParent(d,b.base)?c(R.relative(b.base,d),A):null}}function f(c,b){return b.trimForExclusions&&c.endsWith("/**")?c.substr(0,c.length-2):c}function u(c,b){const d=`/${c}`,A=`\\${c}`,F=function(Q,J){return typeof Q!="string"?null:J?J===c?b:null:Q===c||Q.endsWith(d)||Q.endsWith(A)?b:null},U=[c];return F.basenames=U,F.patterns=[b],F.allBasenames=U,F}function E(c,b){const d=v(c.slice(1,-1).split(",").map(J=>i(J,b)).filter(J=>J!==n),c),A=d.length;if(!A)return n;if(A===1)return d[0];const F=function(J,X){for(let se=0,le=d.length;se<le;se++)if(d[se](J,X))return c;return null},U=d.find(J=>!!J.allBasenames);U&&(F.allBasenames=U.allBasenames);const Q=d.reduce((J,X)=>X.allPaths?J.concat(X.allPaths):J,[]);return Q.length&&(F.allPaths=Q),F}function g(c,b,d){const A=R.sep===R.posix.sep,F=A?c:c.replace(K,R.sep),U=R.sep+F,Q=R.posix.sep+c,J=d?function(X,se){return typeof X=="string"&&(X===F||X.endsWith(U)||!A&&(X===c||X.endsWith(Q)))?b:null}:function(X,se){return typeof X=="string"&&(X===F||!A&&X===c)?b:null};return J.allPaths=[(d?"*/":"./")+c],J}function _(c){try{const b=new RegExp(`^${T(c)}$`);return function(d){return b.lastIndex=0,typeof d=="string"&&b.test(d)?c:null}}catch(b){return n}}function k(c,b,d){return!c||typeof b!="string"?!1:B(c)(b,void 0,d)}e.match=k;function B(c,b={}){if(!c)return t;if(typeof c=="string"||H(c)){const d=i(c,b);if(d===n)return t;const A=function(F,U){return!!d(F,U)};return d.allBasenames&&(A.allBasenames=d.allBasenames),d.allPaths&&(A.allPaths=d.allPaths),A}return h(c,b)}e.parse=B;function te(c){if(!c)return;let b;return d=>(b||(b=(c()||Promise.resolve([])).then(A=>A?re(A):{})),b.then(A=>!!A[d]))}e.hasSiblingPromiseFn=te;function ee(c){if(!c)return;let b;return d=>{if(!b){const A=c();b=A?re(A):{}}return!!b[d]}}e.hasSiblingFn=ee;function re(c){const b={};for(const d of c)b[d]=!0;return b}function H(c){const b=c;return b&&typeof b.base=="string"&&typeof b.pattern=="string"}e.isRelativePattern=H;function m(c){return c.allBasenames||[]}e.getBasenameTerms=m;function y(c){return c.allPaths||[]}e.getPathTerms=y;function h(c,b){const d=v(Object.getOwnPropertyNames(c).map(J=>w(J,c[J],b)).filter(J=>J!==n)),A=d.length;if(!A)return n;if(!d.some(J=>!!J.requiresSiblings)){if(A===1)return d[0];const J=function(le,fe){for(let ve=0,ye=d.length;ve<ye;ve++){const Ie=d[ve](le,fe);if(Ie)return Ie}return null},X=d.find(le=>!!le.allBasenames);X&&(J.allBasenames=X.allBasenames);const se=d.reduce((le,fe)=>fe.allPaths?le.concat(fe.allPaths):le,[]);return se.length&&(J.allPaths=se),J}const F=function(J,X,se){let le;for(let fe=0,ve=d.length;fe<ve;fe++){const ye=d[fe];ye.requiresSiblings&&se&&(X||(X=R.basename(J)),le||(le=X.substr(0,X.length-R.extname(J).length)));const Ie=ye(J,X,le,se);if(Ie)return Ie}return null},U=d.find(J=>!!J.allBasenames);U&&(F.allBasenames=U.allBasenames);const Q=d.reduce((J,X)=>X.allPaths?J.concat(X.allPaths):J,[]);return Q.length&&(F.allPaths=Q),F}function w(c,b,d){if(b===!1)return n;const A=i(c,d);if(A===n)return n;if(typeof b=="boolean")return A;if(b){const F=b.when;if(typeof F=="string"){const U=(Q,J,X,se)=>{if(!se||!A(Q,J))return null;const le=F.replace("$(basename)",X),fe=se(le);return(0,z.isThenable)(fe)?fe.then(ve=>ve?c:null):fe?c:null};return U.requiresSiblings=!0,U}}return A}function v(c,b){const d=c.filter(J=>!!J.basenames);if(d.length<2)return c;const A=d.reduce((J,X)=>{const se=X.basenames;return se?J.concat(se):J},[]);let F;if(b){F=[];for(let J=0,X=A.length;J<X;J++)F.push(b)}else F=d.reduce((J,X)=>{const se=X.patterns;return se?J.concat(se):J},[]);const U=function(J,X){if(typeof J!="string")return null;if(!X){let le;for(le=J.length;le>0;le--){const fe=J.charCodeAt(le-1);if(fe===47||fe===92)break}X=J.substr(le)}const se=A.indexOf(X);return se!==-1?F[se]:null};U.basenames=A,U.patterns=F,U.allBasenames=A;const Q=c.filter(J=>!J.basenames);return Q.push(U),Q}}),define(he[45],me([0,1]),function(oe,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.generateUuid=e.isUUID=void 0;const P=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function O(S){return P.test(S)}e.isUUID=O;const R=new Uint8Array(16),M=[];for(let S=0;S<256;S++)M.push(S.toString(16).padStart(2,"0"));let z;typeof crypto=="object"&&typeof crypto.getRandomValues=="function"?z=crypto.getRandomValues.bind(crypto):z=function(S){for(let L=0;L<S.length;L++)S[L]=Math.floor(Math.random()*256);return S};function D(){z(R),R[6]=R[6]&15|64,R[8]=R[8]&63|128;let S=0,L="";return L+=M[R[S++]],L+=M[R[S++]],L+=M[R[S++]],L+=M[R[S++]],L+="-",L+=M[R[S++]],L+=M[R[S++]],L+="-",L+=M[R[S++]],L+=M[R[S++]],L+="-",L+=M[R[S++]],L+=M[R[S++]],L+="-",L+=M[R[S++]],L+=M[R[S++]],L+=M[R[S++]],L+=M[R[S++]],L+=M[R[S++]],L+=M[R[S++]],L}e.generateUuid=D}),define(he[46],me([0,1,32]),function(oe,e,P){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineDecoder=void 0;class O{constructor(M="utf8"){this.stringDecoder=new P.StringDecoder(M),this.remaining=null}write(M){const z=[],D=this.remaining?this.remaining+this.stringDecoder.write(M):this.stringDecoder.write(M);if(D.length<1)return z;let S=0,L,I=S;for(;I<D.length;)if(L=D.charCodeAt(I),L===13||L===10){if(z.push(D.substring(S,I)),I++,I<D.length){const N=L;L=D.charCodeAt(I),(N===13&&L===10||N===10&&L===13)&&I++}S=I}else I++;return this.remaining=S<D.length?D.substr(S):null,z}end(){return this.remaining}}e.LineDecoder=O}),define(he[18],me([0,1,33,65,66,2,12,4,9,45,23,24,5]),function(oe,e,P,O,R,M,z,D,S,L,I,N,K){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Promises=e.writeFileSync=e.SymlinkSupport=e.whenDeleted=e.readdirSync=e.rimrafSync=e.RimRafMode=void 0;var q;(function(m){m[m.UNLINK=0]="UNLINK",m[m.MOVE=1]="MOVE"})(q=e.RimRafMode||(e.RimRafMode={}));async function p(m,y=q.UNLINK){if((0,S.isRootOrDriveLetter)(m))throw new Error("rimraf - will refuse to recursively delete root");return y===q.UNLINK?$(m):T(m)}async function T(m){try{const y=(0,M.join)((0,O.tmpdir)(),(0,L.generateUuid)());try{await e.Promises.rename(m,y)}catch(h){return $(m)}$(y).catch(h=>{})}catch(y){if(y.code!=="ENOENT")throw y}}async function $(m){return e.Promises.rmdir(m,{recursive:!0,maxRetries:3})}function W(m){if((0,S.isRootOrDriveLetter)(m))throw new Error("rimraf - will refuse to recursively delete root");P.rmdirSync(m,{recursive:!0})}e.rimrafSync=W;async function j(m,y){return o(await(y?a(m):(0,R.promisify)(P.readdir)(m)))}async function a(m){try{return await(0,R.promisify)(P.readdir)(m,{withFileTypes:!0})}catch(w){console.warn("[node.js fs] readdir with filetypes failed with error: ",w)}const y=[],h=await j(m);for(const w of h){let v=!1,c=!1,b=!1;try{const d=await e.Promises.lstat((0,M.join)(m,w));v=d.isFile(),c=d.isDirectory(),b=d.isSymbolicLink()}catch(d){console.warn("[node.js fs] unexpected error from lstat after readdir: ",d)}y.push({name:w,isFile:()=>v,isDirectory:()=>c,isSymbolicLink:()=>b})}return y}function l(m){return o(P.readdirSync(m))}e.readdirSync=l;function o(m){return m.map(y=>typeof y=="string"?D.isMacintosh?(0,I.normalizeNFC)(y):y:(y.name=D.isMacintosh?(0,I.normalizeNFC)(y.name):y.name,y))}async function r(m){const y=await j(m),h=[];for(const w of y)await n.existsDirectory((0,M.join)(m,w))&&h.push(w);return h}function t(m,y=1e3){return new Promise(h=>{let w=!1;const v=setInterval(()=>{w||(w=!0,P.access(m,c=>{w=!1,c&&(clearInterval(v),h(void 0))}))},y)})}e.whenDeleted=t;var n;(function(m){async function y(v){let c;try{if(c=await e.Promises.lstat(v),!c.isSymbolicLink())return{stat:c}}catch(b){}try{return{stat:await e.Promises.stat(v),symbolicLink:c?.isSymbolicLink()?{dangling:!1}:void 0}}catch(b){if(b.code==="ENOENT"&&c)return{stat:c,symbolicLink:{dangling:!0}};if(D.isWindows&&b.code==="EACCES")try{return{stat:await e.Promises.stat(await e.Promises.readlink(v)),symbolicLink:{dangling:!1}}}catch(d){if(d.code==="ENOENT"&&c)return{stat:c,symbolicLink:{dangling:!0}};throw d}throw b}}m.stat=y;async function h(v){try{const{stat:c,symbolicLink:b}=await m.stat(v);return c.isFile()&&b?.dangling!==!0}catch(c){}return!1}m.existsFile=h;async function w(v){try{const{stat:c,symbolicLink:b}=await m.stat(v);return c.isDirectory()&&b?.dangling!==!0}catch(c){}return!1}m.existsDirectory=w})(n=e.SymlinkSupport||(e.SymlinkSupport={}));const i=new z.ResourceQueue;function s(m,y,h){return i.queueFor(K.URI.file(m),N.extUriBiasedIgnorePathCase).queue(()=>{const w=g(h);return new Promise((v,c)=>u(m,y,w,b=>b?c(b):v()))})}let f=!0;function u(m,y,h,w){if(!f)return P.writeFile(m,y,{mode:h.mode,flag:h.flag},w);P.open(m,h.flag,h.mode,(v,c)=>{if(v)return w(v);P.writeFile(c,y,b=>{if(b)return P.close(c,()=>w(b));P.fdatasync(c,d=>(d&&(console.warn("[node.js fs] fdatasync is now disabled for this session because it failed: ",d),f=!1),P.close(c,A=>w(A))))})})}function E(m,y,h){const w=g(h);if(!f)return P.writeFileSync(m,y,{mode:w.mode,flag:w.flag});const v=P.openSync(m,w.flag,w.mode);try{P.writeFileSync(v,y);try{P.fdatasyncSync(v)}catch(c){console.warn("[node.js fs] fdatasyncSync is now disabled for this session because it failed: ",c),f=!1}}finally{P.closeSync(v)}}e.writeFileSync=E;function g(m){return m?{mode:typeof m.mode=="number"?m.mode:438,flag:typeof m.flag=="string"?m.flag:"w"}:{mode:438,flag:"w"}}async function _(m,y){if(m===y)return;async function h(w){try{const v=await e.Promises.lstat(w);if(v.isDirectory()||v.isSymbolicLink())return;await e.Promises.utimes(w,v.atime,new Date)}catch(v){}}try{await e.Promises.rename(m,y),await h(y)}catch(w){if(m.toLowerCase()!==y.toLowerCase()&&w.code==="EXDEV"||m.endsWith("."))await k(m,y,{preserveSymlinks:!1}),await p(m,q.MOVE),await h(y);else throw w}}async function k(m,y,h){return te(m,y,{root:{source:m,target:y},options:h,handledSourcePaths:new Set})}const B=511;async function te(m,y,h){if(h.handledSourcePaths.has(m))return;h.handledSourcePaths.add(m);const{stat:w,symbolicLink:v}=await n.stat(m);if(v){if(h.options.preserveSymlinks)try{return await H(m,y,h)}catch(c){console.warn("[node.js fs] copy of symlink failed: ",c)}if(v.dangling)return}return w.isDirectory()?ee(m,y,w.mode&B,h):re(m,y,w.mode&B)}async function ee(m,y,h,w){await e.Promises.mkdir(y,{recursive:!0,mode:h});const v=await j(m);for(const c of v)await te((0,M.join)(m,c),(0,M.join)(y,c),w)}async function re(m,y,h){await e.Promises.copyFile(m,y),await e.Promises.chmod(y,h)}async function H(m,y,h){let w=await e.Promises.readlink(m);(0,S.isEqualOrParent)(w,h.root.source,!D.isLinux)&&(w=(0,M.join)(h.root.target,w.substr(h.root.source.length+1))),await e.Promises.symlink(w,y)}e.Promises=new class{get access(){return(0,R.promisify)(P.access)}get stat(){return(0,R.promisify)(P.stat)}get lstat(){return(0,R.promisify)(P.lstat)}get utimes(){return(0,R.promisify)(P.utimes)}get read(){return(0,R.promisify)(P.read)}get readFile(){return(0,R.promisify)(P.readFile)}get write(){return(0,R.promisify)(P.write)}get appendFile(){return(0,R.promisify)(P.appendFile)}get fdatasync(){return(0,R.promisify)(P.fdatasync)}get truncate(){return(0,R.promisify)(P.truncate)}get rename(){return(0,R.promisify)(P.rename)}get copyFile(){return(0,R.promisify)(P.copyFile)}get open(){return(0,R.promisify)(P.open)}get close(){return(0,R.promisify)(P.close)}get symlink(){return(0,R.promisify)(P.symlink)}get readlink(){return(0,R.promisify)(P.readlink)}get chmod(){return(0,R.promisify)(P.chmod)}get mkdir(){return(0,R.promisify)(P.mkdir)}get unlink(){return(0,R.promisify)(P.unlink)}get rmdir(){return(0,R.promisify)(P.rmdir)}get realpath(){return(0,R.promisify)(P.realpath)}async exists(m){try{return await e.Promises.access(m),!0}catch{return!1}}get readdir(){return j}get readDirsInDir(){return r}get writeFile(){return s}get rm(){return p}get move(){return _}get copy(){return k}}});var We=this&&this.__decorate||function(oe,e,P,O){var R=arguments.length,M=R<3?e:O===null?O=Object.getOwnPropertyDescriptor(e,P):O,z;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")M=Reflect.decorate(oe,e,P,O);else for(var D=oe.length-1;D>=0;D--)(z=oe[D])&&(M=(R<3?z(M):R>3?z(e,P,M):z(e,P))||M);return R>3&&M&&Object.defineProperty(e,P,M),M};define(he[47],me([0,1,11,10,12,14,6,15,7,8,43,3,38]),function(oe,e,P,O,R,M,z,D,S,L,I,N,K){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IPCLogger=e.logWithColors=e.ProxyChannel=e.StaticRouter=e.getNextTickChannel=e.getDelayedChannel=e.IPCClient=e.IPCServer=e.ChannelClient=e.RequestInitiator=e.ChannelServer=e.ResponseType=e.RequestType=void 0;var q;(function(v){v[v.Promise=100]="Promise",v[v.PromiseCancel=101]="PromiseCancel",v[v.EventListen=102]="EventListen",v[v.EventDispose=103]="EventDispose"})(q=e.RequestType||(e.RequestType={}));function p(v){switch(v){case 100:return"req";case 101:return"cancel";case 102:return"subscribe";case 103:return"unsubscribe"}}var T;(function(v){v[v.Initialize=200]="Initialize",v[v.PromiseSuccess=201]="PromiseSuccess",v[v.PromiseError=202]="PromiseError",v[v.PromiseErrorObj=203]="PromiseErrorObj",v[v.EventFire=204]="EventFire"})(T=e.ResponseType||(e.ResponseType={}));function $(v){switch(v){case 200:return"init";case 201:return"reply:";case 202:case 203:return"replyErr:";case 204:return"event:"}}var W;(function(v){v[v.Uninitialized=0]="Uninitialized",v[v.Idle=1]="Idle"})(W||(W={}));class j{constructor(c){this.buffer=c,this.pos=0}read(c){const b=this.buffer.slice(this.pos,this.pos+c);return this.pos+=b.byteLength,b}}class a{constructor(){this.buffers=[]}get buffer(){return D.VSBuffer.concat(this.buffers)}write(c){this.buffers.push(c)}}var l;(function(v){v[v.Undefined=0]="Undefined",v[v.String=1]="String",v[v.Buffer=2]="Buffer",v[v.VSBuffer=3]="VSBuffer",v[v.Array=4]="Array",v[v.Object=5]="Object"})(l||(l={}));function o(v){const c=D.VSBuffer.alloc(4);return c.writeUInt32BE(v,0),c}function r(v){return v.read(4).readUInt32BE(0)}function t(v){const c=D.VSBuffer.alloc(1);return c.writeUInt8(v,0),c}const n={Undefined:t(l.Undefined),String:t(l.String),Buffer:t(l.Buffer),VSBuffer:t(l.VSBuffer),Array:t(l.Array),Object:t(l.Object)},i=typeof Buffer!="undefined";function s(v,c){if(typeof c=="undefined")v.write(n.Undefined);else if(typeof c=="string"){const b=D.VSBuffer.fromString(c);v.write(n.String),v.write(o(b.byteLength)),v.write(b)}else if(i&&Buffer.isBuffer(c)){const b=D.VSBuffer.wrap(c);v.write(n.Buffer),v.write(o(b.byteLength)),v.write(b)}else if(c instanceof D.VSBuffer)v.write(n.VSBuffer),v.write(o(c.byteLength)),v.write(c);else if(Array.isArray(c)){v.write(n.Array),v.write(o(c.length));for(const b of c)s(v,b)}else{const b=D.VSBuffer.fromString(JSON.stringify(c));v.write(n.Object),v.write(o(b.byteLength)),v.write(b)}}function f(v){switch(v.read(1).readUInt8(0)){case l.Undefined:return;case l.String:return v.read(r(v)).toString();case l.Buffer:return v.read(r(v)).buffer;case l.VSBuffer:return v.read(r(v));case l.Array:{const b=r(v),d=[];for(let A=0;A<b;A++)d.push(f(v));return d}case l.Object:return JSON.parse(v.read(r(v)).toString())}}class u{constructor(c,b,d=null,A=1e3){this.protocol=c,this.ctx=b,this.logger=d,this.timeoutDelay=A,this.channels=new Map,this.activeRequests=new Map,this.pendingRequests=new Map,this.protocolListener=this.protocol.onMessage(F=>this.onRawMessage(F)),this.sendResponse({type:200})}registerChannel(c,b){this.channels.set(c,b),setTimeout(()=>this.flushPendingRequests(c),0)}sendResponse(c){switch(c.type){case 200:{const b=this.send([c.type]);this.logger&&this.logger.logOutgoing(b,0,1,$(c.type));return}case 201:case 202:case 204:case 203:{const b=this.send([c.type,c.id],c.data);this.logger&&this.logger.logOutgoing(b,c.id,1,$(c.type),c.data);return}}}send(c,b=void 0){const d=new a;return s(d,c),s(d,b),this.sendBuffer(d.buffer)}sendBuffer(c){try{return this.protocol.send(c),c.byteLength}catch(b){return 0}}onRawMessage(c){const b=new j(c),d=f(b),A=f(b),F=d[0];switch(F){case 100:return this.logger&&this.logger.logIncoming(c.byteLength,d[1],1,`${p(F)}: ${d[2]}.${d[3]}`,A),this.onPromise({type:F,id:d[1],channelName:d[2],name:d[3],arg:A});case 102:return this.logger&&this.logger.logIncoming(c.byteLength,d[1],1,`${p(F)}: ${d[2]}.${d[3]}`,A),this.onEventListen({type:F,id:d[1],channelName:d[2],name:d[3],arg:A});case 101:return this.logger&&this.logger.logIncoming(c.byteLength,d[1],1,`${p(F)}`),this.disposeActiveRequest({type:F,id:d[1]});case 103:return this.logger&&this.logger.logIncoming(c.byteLength,d[1],1,`${p(F)}`),this.disposeActiveRequest({type:F,id:d[1]})}}onPromise(c){const b=this.channels.get(c.channelName);if(!b){this.collectPendingRequest(c);return}const d=new M.CancellationTokenSource;let A;try{A=b.call(this.ctx,c.name,c.arg,d.token)}catch(Q){A=Promise.reject(Q)}const F=c.id;A.then(Q=>{this.sendResponse({id:F,data:Q,type:201}),this.activeRequests.delete(c.id)},Q=>{Q instanceof Error?this.sendResponse({id:F,data:{message:Q.message,name:Q.name,stack:Q.stack?Q.stack.split?Q.stack.split(`
`):Q.stack:void 0},type:202}):this.sendResponse({id:F,data:Q,type:203}),this.activeRequests.delete(c.id)});const U=(0,O.toDisposable)(()=>d.cancel());this.activeRequests.set(c.id,U)}onEventListen(c){const b=this.channels.get(c.channelName);if(!b){this.collectPendingRequest(c);return}const d=c.id,F=b.listen(this.ctx,c.name,c.arg)(U=>this.sendResponse({id:d,data:U,type:204}));this.activeRequests.set(c.id,F)}disposeActiveRequest(c){const b=this.activeRequests.get(c.id);b&&(b.dispose(),this.activeRequests.delete(c.id))}collectPendingRequest(c){let b=this.pendingRequests.get(c.channelName);b||(b=[],this.pendingRequests.set(c.channelName,b));const d=setTimeout(()=>{console.error(`Unknown channel: ${c.channelName}`),c.type===100&&this.sendResponse({id:c.id,data:{name:"Unknown channel",message:`Channel name '${c.channelName}' timed out after ${this.timeoutDelay}ms`,stack:void 0},type:202})},this.timeoutDelay);b.push({request:c,timeoutTimer:d})}flushPendingRequests(c){const b=this.pendingRequests.get(c);if(b){for(const d of b)switch(clearTimeout(d.timeoutTimer),d.request.type){case 100:this.onPromise(d.request);break;case 102:this.onEventListen(d.request);break}this.pendingRequests.delete(c)}}dispose(){this.protocolListener&&(this.protocolListener.dispose(),this.protocolListener=null),this.activeRequests.forEach(c=>c.dispose()),this.activeRequests.clear()}}e.ChannelServer=u;var E;(function(v){v[v.LocalSide=0]="LocalSide",v[v.OtherSide=1]="OtherSide"})(E=e.RequestInitiator||(e.RequestInitiator={}));class g{constructor(c,b=null){this.protocol=c,this.isDisposed=!1,this.state=W.Uninitialized,this.activeRequests=new Set,this.handlers=new Map,this.lastRequestId=0,this._onDidInitialize=new P.Emitter,this.onDidInitialize=this._onDidInitialize.event,this.protocolListener=this.protocol.onMessage(d=>this.onBuffer(d)),this.logger=b}getChannel(c){const b=this;return{call(d,A,F){return b.isDisposed?Promise.reject(z.canceled()):b.requestPromise(c,d,A,F)},listen(d,A){return b.isDisposed?Promise.reject(z.canceled()):b.requestEvent(c,d,A)}}}requestPromise(c,b,d,A=M.CancellationToken.None){const F=this.lastRequestId++,Q={id:F,type:100,channelName:c,name:b,arg:d};if(A.isCancellationRequested)return Promise.reject(z.canceled());let J;return new Promise((se,le)=>{if(A.isCancellationRequested)return le(z.canceled());const fe=()=>{const De=G=>{switch(G.type){case 201:this.handlers.delete(F),se(G.data);break;case 202:this.handlers.delete(F);const Y=new Error(G.data.message);Y.stack=G.data.stack,Y.name=G.data.name,le(Y);break;case 203:this.handlers.delete(F),le(G.data);break}};this.handlers.set(F,De),this.sendRequest(Q)};let ve=null;this.state===W.Idle?fe():(ve=(0,R.createCancelablePromise)(De=>this.whenInitialized()),ve.then(()=>{ve=null,fe()}));const ye=()=>{ve?(ve.cancel(),ve=null):this.sendRequest({id:F,type:101}),le(z.canceled())},Ie=A.onCancellationRequested(ye);J=(0,O.combinedDisposable)((0,O.toDisposable)(ye),Ie),this.activeRequests.add(J)}).finally(()=>{this.activeRequests.delete(J)})}requestEvent(c,b,d){const A=this.lastRequestId++,U={id:A,type:102,channelName:c,name:b,arg:d};let Q=null;const J=new P.Emitter({onFirstListenerAdd:()=>{Q=(0,R.createCancelablePromise)(se=>this.whenInitialized()),Q.then(()=>{Q=null,this.activeRequests.add(J),this.sendRequest(U)})},onLastListenerRemove:()=>{Q?(Q.cancel(),Q=null):(this.activeRequests.delete(J),this.sendRequest({id:A,type:103}))}}),X=se=>J.fire(se.data);return this.handlers.set(A,X),J.event}sendRequest(c){switch(c.type){case 100:case 102:{const b=this.send([c.type,c.id,c.channelName,c.name],c.arg);this.logger&&this.logger.logOutgoing(b,c.id,0,`${p(c.type)}: ${c.channelName}.${c.name}`,c.arg);return}case 101:case 103:{const b=this.send([c.type,c.id]);this.logger&&this.logger.logOutgoing(b,c.id,0,p(c.type));return}}}send(c,b=void 0){const d=new a;return s(d,c),s(d,b),this.sendBuffer(d.buffer)}sendBuffer(c){try{return this.protocol.send(c),c.byteLength}catch(b){return 0}}onBuffer(c){const b=new j(c),d=f(b),A=f(b),F=d[0];switch(F){case 200:return this.logger&&this.logger.logIncoming(c.byteLength,0,0,$(F)),this.onResponse({type:d[0]});case 201:case 202:case 204:case 203:return this.logger&&this.logger.logIncoming(c.byteLength,d[1],0,$(F),A),this.onResponse({type:d[0],id:d[1],data:A})}}onResponse(c){if(c.type===200){this.state=W.Idle,this._onDidInitialize.fire();return}const b=this.handlers.get(c.id);b&&b(c)}get onDidInitializePromise(){return P.Event.toPromise(this.onDidInitialize)}whenInitialized(){return this.state===W.Idle?Promise.resolve():this.onDidInitializePromise}dispose(){this.isDisposed=!0,this.protocolListener&&(this.protocolListener.dispose(),this.protocolListener=null),this.activeRequests.forEach(c=>c.dispose()),this.activeRequests.clear()}}We([K.memoize],g.prototype,"onDidInitializePromise",null),e.ChannelClient=g;class _{constructor(c){this.channels=new Map,this._connections=new Set,this._onDidAddConnection=new P.Emitter,this.onDidAddConnection=this._onDidAddConnection.event,this._onDidRemoveConnection=new P.Emitter,this.onDidRemoveConnection=this._onDidRemoveConnection.event,c(({protocol:b,onDidClientDisconnect:d})=>{P.Event.once(b.onMessage)(F=>{const U=new j(F),Q=f(U),J=new u(b,Q),X=new g(b);this.channels.forEach((le,fe)=>J.registerChannel(fe,le));const se={channelServer:J,channelClient:X,ctx:Q};this._connections.add(se),this._onDidAddConnection.fire(se),d(()=>{J.dispose(),X.dispose(),this._connections.delete(se),this._onDidRemoveConnection.fire(se)})})})}get connections(){const c=[];return this._connections.forEach(b=>c.push(b)),c}getChannel(c,b){const d=this;return{call(A,F,U){let Q;if((0,L.isFunction)(b)){let X=(0,S.getRandomElement)(d.connections.filter(b));Q=X?Promise.resolve(X):P.Event.toPromise(P.Event.filter(d.onDidAddConnection,b))}else Q=b.routeCall(d,A,F);const J=Q.then(X=>X.channelClient.getChannel(c));return B(J).call(A,F,U)},listen(A,F){if((0,L.isFunction)(b))return d.getMulticastEvent(c,b,A,F);const U=b.routeEvent(d,A,F).then(Q=>Q.channelClient.getChannel(c));return B(U).listen(A,F)}}}getMulticastEvent(c,b,d,A){const F=this;let U=new O.DisposableStore;const Q=new P.Emitter({onFirstListenerAdd:()=>{U=new O.DisposableStore;const J=new P.EventMultiplexer,X=new Map,se=fe=>{const ye=fe.channelClient.getChannel(c).listen(d,A),Ie=J.add(ye);X.set(fe,Ie)},le=fe=>{const ve=X.get(fe);!ve||(ve.dispose(),X.delete(fe))};F.connections.filter(b).forEach(se),P.Event.filter(F.onDidAddConnection,b)(se,void 0,U),F.onDidRemoveConnection(le,void 0,U),J.event(Q.fire,Q,U),U.add(J)},onLastListenerRemove:()=>{U.dispose()}});return Q.event}registerChannel(c,b){this.channels.set(c,b),this._connections.forEach(d=>{d.channelServer.registerChannel(c,b)})}dispose(){this.channels.clear(),this._connections.clear(),this._onDidAddConnection.dispose(),this._onDidRemoveConnection.dispose()}}e.IPCServer=_;class k{constructor(c,b,d=null){const A=new a;s(A,b),c.send(A.buffer),this.channelClient=new g(c,d),this.channelServer=new u(c,b,d)}getChannel(c){return this.channelClient.getChannel(c)}registerChannel(c,b){this.channelServer.registerChannel(c,b)}dispose(){this.channelClient.dispose(),this.channelServer.dispose()}}e.IPCClient=k;function B(v){return{call(c,b,d){return v.then(A=>A.call(c,b,d))},listen(c,b){const d=new P.Relay;return v.then(A=>d.input=A.listen(c,b)),d.event}}}e.getDelayedChannel=B;function te(v){let c=!1;return{call(b,d,A){return c?v.call(b,d,A):(0,R.timeout)(0).then(()=>c=!0).then(()=>v.call(b,d,A))},listen(b,d){if(c)return v.listen(b,d);const A=new P.Relay;return(0,R.timeout)(0).then(()=>c=!0).then(()=>A.input=v.listen(b,d)),A.event}}}e.getNextTickChannel=te;class ee{constructor(c){this.fn=c}routeCall(c){return this.route(c)}routeEvent(c){return this.route(c)}async route(c){for(const b of c.connections)if(await Promise.resolve(this.fn(b.ctx)))return Promise.resolve(b);return await P.Event.toPromise(c.onDidAddConnection),await this.route(c)}}e.StaticRouter=ee;var re;(function(v){function c(A,F){const U=A,Q=F&&F.disableMarshalling,J=new Map;for(const X in U)d(X)&&J.set(X,P.Event.buffer(U[X],!0));return new class{listen(X,se){const le=J.get(se);if(le)return le;throw new Error(`Event not found: ${se}`)}call(X,se,le){const fe=U[se];if(typeof fe=="function"){if(!Q&&Array.isArray(le))for(let ve=0;ve<le.length;ve++)le[ve]=(0,I.revive)(le[ve]);return fe.apply(U,le)}throw new Error(`Method not found: ${se}`)}}}v.fromService=c;function b(A,F){const U=F&&F.disableMarshalling;return new Proxy({},{get(Q,J){if(typeof J=="string")return F?.properties?.has(J)?F.properties.get(J):d(J)?A.listen(J):async function(...X){let se;F&&!(0,L.isUndefinedOrNull)(F.context)?se=[F.context,...X]:se=X;const le=await A.call(J,se);return U?le:(0,I.revive)(le)};throw new Error(`Property not found: ${String(J)}`)}})}v.toService=b;function d(A){return A[0]==="o"&&A[1]==="n"&&N.isUpperAsciiLetter(A.charCodeAt(2))}})(re=e.ProxyChannel||(e.ProxyChannel={}));const H=[["#2977B1","#FC802D","#34A13A","#D3282F","#9366BA"],["#8B564C","#E177C0","#7F7F7F","#BBBE3D","#2EBECD"]];function m(v){if(Array.isArray(v))return v;if(v&&typeof v=="object"&&typeof v.toString=="function"){let c=v.toString();if(c!=="[object Object]")return c}return v}function y(v){return Array.isArray(v)?v.map(m):m(v)}function h(v,c,b,d,A,F,U){U=y(U);const Q=H[A],J=Q[d%Q.length];let X=[`%c[${v}]%c[${String(c).padStart(7," ")}]%c[len: ${String(b).padStart(5," ")}]%c${String(d).padStart(5," ")} - ${F}`,"color: darkgreen","color: grey","color: grey",`color: ${J}`];/\($/.test(F)?(X=X.concat(U),X.push(")")):X.push(U),console.log.apply(console,X)}e.logWithColors=h;class w{constructor(c,b){this._outgoingPrefix=c,this._incomingPrefix=b,this._totalIncoming=0,this._totalOutgoing=0}logOutgoing(c,b,d,A,F){this._totalOutgoing+=c,h(this._outgoingPrefix,this._totalOutgoing,c,b,d,A,F)}logIncoming(c,b,d,A,F){this._totalIncoming+=c,h(this._incomingPrefix,this._totalIncoming,c,b,d,A,F)}}e.IPCLogger=w}),define(he[48],me([34,35]),function(oe,e){return oe.create("vs/base/common/errorMessage",e)}),define(he[25],me([0,1,48,8,7]),function(oe,e,P,O,R){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toErrorMessage=void 0;function M(L,I){return I&&(L.stack||L.stacktrace)?P.localize(0,null,D(L),z(L.stack)||z(L.stacktrace)):D(L)}function z(L){return Array.isArray(L)?L.join(`
`):L}function D(L){return typeof L.code=="string"&&typeof L.errno=="number"&&typeof L.syscall=="string"?P.localize(1,null,L.message):L.message||P.localize(2,null)}function S(L=null,I=!1){if(!L)return P.localize(3,null);if(Array.isArray(L)){const N=R.coalesce(L),K=S(N[0],I);return N.length>1?P.localize(4,null,K,N.length):K}if(O.isString(L))return L;if(L.detail){const N=L.detail;if(N.error)return M(N.error,I);if(N.exception)return M(N.exception,I)}return L.stack?M(L,I):L.message?L.message:P.localize(5,null)}e.toErrorMessage=S}),define(he[49],me([34,35]),function(oe,e){return oe.create("vs/base/node/processes",e)}),define(he[50],me([0,1,2,18,19,49,29,8,21,9,4,46,22]),function(oe,e,P,O,R,M,z,D,S,L,I,N,K){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.win32=e.createQueuedSender=e.LineProcess=e.AbstractProcess=e.getWindowsShell=e.TerminateResponseCode=e.Source=void 0;function q(l){switch(l){case 0:return 0;case 1:return 2;case 128:return 3;default:return 1}}function p(l,o){if(I.isWindows)try{const r={stdio:["pipe","pipe","ignore"]};o&&(r.cwd=o);const t=R.execFile("taskkill",["/T","/F","/PID",l.pid.toString()],r);return new Promise(n=>{t.once("error",i=>{n({success:!1,error:i})}),t.once("exit",(i,s)=>{n(i===0?{success:!0}:{success:!1,code:i!==null?i:1})})})}catch(r){return Promise.resolve({success:!1,error:r,code:r.status?q(r.status):1})}else if(I.isLinux||I.isMacintosh)try{const r=K.FileAccess.asFileUri("vs/base/node/terminateProcess.sh",oe).fsPath;return new Promise(t=>{R.execFile(r,[l.pid.toString()],{encoding:"utf8",shell:!0},(n,i,s)=>{t(n?{success:!1,error:n}:{success:!0})})})}catch(r){return Promise.resolve({success:!1,error:r})}else l.kill("SIGKILL");return Promise.resolve({success:!0})}function T(l=z.env){return l.comspec||"cmd.exe"}e.getWindowsShell=T;class ${constructor(o,r,t,n){if(r!==void 0&&t!==void 0&&n!==void 0)this.cmd=o,this.args=r,this.shell=t,this.options=n;else{const i=o;this.cmd=i.command,this.shell=i.isShellCommand,this.args=i.args.slice(0),this.options=i.options||{}}if(this.childProcess=null,this.childProcessPromise=null,this.terminateRequested=!1,this.options.env){const i=Object.create(null);Object.keys(z.env).forEach(s=>{i[s]=z.env[s]}),Object.keys(this.options.env).forEach(s=>{i[s]=this.options.env[s]}),this.options.env=i}}getSanitizedCommand(){let o=this.cmd.toLowerCase();const r=o.lastIndexOf(P.sep);return r!==-1&&(o=o.substring(r+1)),$.WellKnowCommands[o]?o:"other"}start(o){return I.isWindows&&(this.options&&this.options.cwd&&L.isUNC(this.options.cwd)||!this.options&&L.isUNC(z.cwd()))?Promise.reject(new Error(M.localize(0,null))):this.useExec().then(r=>{let t,n;const i=new Promise((s,f)=>{t=s,n=f});if(r){let s=this.cmd;this.args&&(s=s+" "+this.args.join(" ")),this.childProcess=R.exec(s,this.options,(f,u,E)=>{this.childProcess=null;const g=f;g&&g.killed?n({killed:this.terminateRequested,stdout:u.toString(),stderr:E.toString()}):this.handleExec(t,o,f,u,E)})}else{let s=null;const f=u=>{this.childProcess=null,this.childProcessPromise=null,this.handleClose(u,t,o,n);const E={terminated:this.terminateRequested};D.isNumber(u)&&(E.cmdCode=u),t(E)};if(this.shell&&I.isWindows){const u=S.deepClone(this.options);u.windowsVerbatimArguments=!0,u.detached=!1;let E=!1,g=!1;const _=[];let k=this.ensureQuotes(this.cmd);_.push(k.value),E=k.quoted,this.args&&this.args.forEach(te=>{k=this.ensureQuotes(te),_.push(k.value),g=g&&k.quoted});const B=["/s","/c"];E?g?B.push('"'+_.join(" ")+'"'):_.length>1?B.push('"'+_[0]+'" '+_.slice(1).join(" ")):B.push('"'+_[0]+'"'):B.push(_.join(" ")),s=R.spawn(T(),B,u)}else this.cmd&&(s=R.spawn(this.cmd,this.args,this.options));s&&(this.childProcess=s,this.childProcessPromise=Promise.resolve(s),this.pidResolve&&(this.pidResolve(D.isNumber(s.pid)?s.pid:-1),this.pidResolve=void 0),s.on("error",u=>{this.childProcess=null,n({terminated:this.terminateRequested,error:u})}),s.pid&&(this.childProcess.on("close",f),this.handleSpawn(s,t,o,n,!0)))}return i})}handleClose(o,r,t,n){}ensureQuotes(o){return $.regexp.test(o)?{value:'"'+o+'"',quoted:!0}:{value:o,quoted:o.length>0&&o[0]==='"'&&o[o.length-1]==='"'}}get pid(){return this.childProcessPromise?this.childProcessPromise.then(o=>o.pid,o=>-1):new Promise(o=>{this.pidResolve=o})}terminate(){return this.childProcessPromise?this.childProcessPromise.then(o=>(this.terminateRequested=!0,p(o,this.options.cwd).then(r=>(r.success&&(this.childProcess=null),r))),o=>({success:!0})):Promise.resolve({success:!0})}useExec(){return new Promise(o=>{if(!this.shell||!I.isWindows)return o(!1);const r=R.spawn(T(),["/s","/c"]);r.on("error",t=>o(!0)),r.on("exit",t=>o(!1))})}}e.AbstractProcess=$,$.WellKnowCommands={ant:!0,cmake:!0,eslint:!0,gradle:!0,grunt:!0,gulp:!0,jake:!0,jenkins:!0,jshint:!0,make:!0,maven:!0,msbuild:!0,msc:!0,nmake:!0,npm:!0,rake:!0,tsc:!0,xbuild:!0},$.regexp=/^[^"].* .*[^"]/;class W extends ${constructor(o,r,t,n){super(o,r,t,n);this.stdoutLineDecoder=null,this.stderrLineDecoder=null}handleExec(o,r,t,n,i){[n,i].forEach((s,f)=>{const u=new N.LineDecoder;u.write(s).forEach(_=>{r({line:_,source:f===0?0:1})});const g=u.end();g&&r({line:g,source:f===0?0:1})}),o({terminated:this.terminateRequested,error:t})}handleSpawn(o,r,t,n,i){const s=new N.LineDecoder,f=new N.LineDecoder;o.stdout.on("data",u=>{s.write(u).forEach(g=>t({line:g,source:0}))}),o.stderr.on("data",u=>{f.write(u).forEach(g=>t({line:g,source:1}))}),this.stdoutLineDecoder=s,this.stderrLineDecoder=f}handleClose(o,r,t,n){const i=this.stdoutLineDecoder?this.stdoutLineDecoder.end():null;i&&t({line:i,source:0});const s=this.stderrLineDecoder?this.stderrLineDecoder.end():null;s&&t({line:s,source:1})}}e.LineProcess=W;function j(l){let o=[],r=!1;const t=function(n){if(r){o.push(n);return}(!l.send(n,s=>{if(s&&console.error(s),r=!1,o.length>0){const f=o.slice(0);o=[],f.forEach(u=>t(u))}})||I.isWindows)&&(r=!0)};return{send:t}}e.createQueuedSender=j;var a;(function(l){async function o(r,t,n){if(P.isAbsolute(r))return r;if(t===void 0&&(t=z.cwd()),P.dirname(r)!=="."||(n===void 0&&D.isString(z.env.PATH)&&(n=z.env.PATH.split(P.delimiter)),n===void 0||n.length===0))return P.join(t,r);async function s(f){return await O.Promises.exists(f)?!(await O.Promises.stat(f)).isDirectory():!1}for(let f of n){let u;if(P.isAbsolute(f)?u=P.join(f,r):u=P.join(t,f,r),await s(u))return u;let E=u+".com";if(await s(E)||(E=u+".exe",await s(E)))return E}return P.join(t,r)}l.findExecutable=o})(a=e.win32||(e.win32={}))}),define(he[51],me([0,1,19,10,12,21,11,50,47,41,14,6,15,4]),function(oe,e,P,O,R,M,z,D,S,L,I,N,K,q){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Client=e.Server=void 0;class p extends S.ChannelServer{constructor(W){super({send:j=>{try{process.send&&process.send(j.buffer.toString("base64"))}catch(a){}},onMessage:z.Event.fromNodeEventEmitter(process,"message",j=>K.VSBuffer.wrap(Buffer.from(j,"base64")))},W);process.once("disconnect",()=>this.dispose())}}e.Server=p;class T{constructor(W,j){this.modulePath=W,this.options=j,this.activeRequests=new Set,this.channels=new Map,this._onDidProcessExit=new z.Emitter,this.onDidProcessExit=this._onDidProcessExit.event;const a=j&&j.timeout?j.timeout:6e4;this.disposeDelayer=new R.Delayer(a),this.child=null,this._client=null}getChannel(W){const j=this;return{call(a,l,o){return j.requestPromise(W,a,l,o)},listen(a,l){return j.requestEvent(W,a,l)}}}requestPromise(W,j,a,l=I.CancellationToken.None){if(!this.disposeDelayer)return Promise.reject(new Error("disposed"));if(l.isCancellationRequested)return Promise.reject(N.canceled());this.disposeDelayer.cancel();const o=this.getCachedChannel(W),r=(0,R.createCancelablePromise)(i=>o.call(j,a,i)),t=l.onCancellationRequested(()=>r.cancel()),n=(0,O.toDisposable)(()=>r.cancel());return this.activeRequests.add(n),r.finally(()=>{t.dispose(),this.activeRequests.delete(n),this.activeRequests.size===0&&this.disposeDelayer&&this.disposeDelayer.trigger(()=>this.disposeClient())}),r}requestEvent(W,j,a){if(!this.disposeDelayer)return z.Event.None;this.disposeDelayer.cancel();let l;const o=new z.Emitter({onFirstListenerAdd:()=>{l=this.getCachedChannel(W).listen(j,a)(o.fire,o),this.activeRequests.add(l)},onLastListenerRemove:()=>{this.activeRequests.delete(l),l.dispose(),this.activeRequests.size===0&&this.disposeDelayer&&this.disposeDelayer.trigger(()=>this.disposeClient())}});return o.event}get client(){if(!this._client){const W=this.options&&this.options.args?this.options.args:[],j=Object.create(null);j.env={...(0,M.deepClone)(process.env),VSCODE_PARENT_PID:String(process.pid)},this.options&&this.options.env&&(j.env={...j.env,...this.options.env}),this.options&&this.options.freshExecArgv&&(j.execArgv=[]),this.options&&typeof this.options.debug=="number"&&(j.execArgv=["--nolazy","--inspect="+this.options.debug]),this.options&&typeof this.options.debugBrk=="number"&&(j.execArgv=["--nolazy","--inspect-brk="+this.options.debugBrk]),j.execArgv===void 0&&(j.execArgv=process.execArgv.filter(s=>!/^--inspect(-brk)?=/.test(s))),q.isMacintosh&&j.env&&delete j.env.DYLD_LIBRARY_PATH,this.child=(0,P.fork)(this.modulePath,W,j);const a=new z.Emitter;z.Event.fromNodeEventEmitter(this.child,"message",s=>s)(s=>{if((0,L.isRemoteConsoleLog)(s)){(0,L.log)(s,`IPC Library: ${this.options.serverName}`);return}a.fire(K.VSBuffer.wrap(Buffer.from(s,"base64")))});const o=this.options.useQueue?(0,D.createQueuedSender)(this.child):this.child,r=s=>this.child&&this.child.connected&&o.send(s.buffer.toString("base64")),t=a.event,n={send:r,onMessage:t};this._client=new S.ChannelClient(n);const i=()=>this.disposeClient();process.once("exit",i),this.child.on("error",s=>console.warn('IPC "'+this.options.serverName+'" errored with '+s)),this.child.on("exit",(s,f)=>{process.removeListener("exit",i),this.activeRequests.forEach(u=>(0,O.dispose)(u)),this.activeRequests.clear(),s!==0&&f!=="SIGTERM"&&console.warn('IPC "'+this.options.serverName+'" crashed with exit code '+s+" and signal "+f),this.disposeDelayer&&this.disposeDelayer.cancel(),this.disposeClient(),this._onDidProcessExit.fire({code:s,signal:f})})}return this._client}getCachedChannel(W){let j=this.channels.get(W);return j||(j=this.client.getChannel(W),this.channels.set(W,j)),j}disposeClient(){this._client&&(this.child&&(this.child.kill(),this.child=null),this._client=null,this.channels.clear())}dispose(){this._onDidProcessExit.dispose(),this.disposeDelayer&&(this.disposeDelayer.cancel(),this.disposeDelayer=void 0),this.disposeClient(),this.activeRequests.clear()}}e.Client=T}),define(he[52],me([34,35]),function(oe,e){return oe.create("vs/platform/files/common/files",e)}),define(he[26],me([0,1]),function(oe,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.optional=e.refineServiceDecorator=e.createDecorator=e.IInstantiationService=e._util=void 0;var P;(function(D){D.serviceIds=new Map,D.DI_TARGET="$di$target",D.DI_DEPENDENCIES="$di$dependencies";function S(L){return L[D.DI_DEPENDENCIES]||[]}D.getServiceDependencies=S})(P=e._util||(e._util={})),e.IInstantiationService=R("instantiationService");function O(D,S,L,I){S[P.DI_TARGET]===S?S[P.DI_DEPENDENCIES].push({id:D,index:L,optional:I}):(S[P.DI_DEPENDENCIES]=[{id:D,index:L,optional:I}],S[P.DI_TARGET]=S)}function R(D){if(P.serviceIds.has(D))return P.serviceIds.get(D);const S=function(L,I,N){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");O(S,L,N,!1)};return S.toString=()=>D,P.serviceIds.set(D,S),S}e.createDecorator=R;function M(D){return D}e.refineServiceDecorator=M;function z(D){return function(S,L,I){if(arguments.length!==3)throw new Error("@optional-decorator can only be used to decorate a parameter");O(D,S,I,!0)}}e.optional=z}),define(he[53],me([0,1,52,2,5,26,3,8,16]),function(oe,e,P,O,R,M,z,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getPlatformLimits=e.Arch=e.ByteSize=e.FALLBACK_MAX_MEMORY_SIZE_MB=e.MIN_MAX_MEMORY_SIZE_MB=e.whenProviderRegistered=e.etag=e.ETAG_DISABLED=e.FileKind=e.FILES_EXCLUDE_CONFIG=e.FILES_ASSOCIATIONS_CONFIG=e.HotExitConfiguration=e.AutoSaveConfiguration=e.FileOperationResult=e.NotModifiedSinceFileOperationError=e.FileOperationError=e.isParent=e.FileChangesEvent=e.FileChangeType=e.FileOperationEvent=e.FileOperation=e.toFileOperationResult=e.toFileSystemProviderErrorCode=e.markAsFileSystemProviderError=e.ensureFileSystemProviderError=e.createFileSystemProviderError=e.FileSystemProviderError=e.FileSystemProviderErrorCode=e.hasFileReadStreamCapability=e.hasOpenReadWriteCloseCapability=e.hasFileFolderCopyCapability=e.hasReadWriteCapability=e.FileSystemProviderCapabilities=e.FilePermission=e.FileType=e.isFileOpenForWriteOptions=e.IFileService=void 0,e.IFileService=(0,M.createDecorator)("fileService");function L(m){return m.create===!0}e.isFileOpenForWriteOptions=L;var I;(function(m){m[m.Unknown=0]="Unknown",m[m.File=1]="File",m[m.Directory=2]="Directory",m[m.SymbolicLink=64]="SymbolicLink"})(I=e.FileType||(e.FileType={}));var N;(function(m){m[m.Readonly=1]="Readonly"})(N=e.FilePermission||(e.FilePermission={}));var K;(function(m){m[m.FileReadWrite=2]="FileReadWrite",m[m.FileOpenReadWriteClose=4]="FileOpenReadWriteClose",m[m.FileReadStream=16]="FileReadStream",m[m.FileFolderCopy=8]="FileFolderCopy",m[m.PathCaseSensitive=1024]="PathCaseSensitive",m[m.Readonly=2048]="Readonly",m[m.Trash=4096]="Trash",m[m.FileWriteUnlock=8192]="FileWriteUnlock"})(K=e.FileSystemProviderCapabilities||(e.FileSystemProviderCapabilities={}));function q(m){return!!(m.capabilities&2)}e.hasReadWriteCapability=q;function p(m){return!!(m.capabilities&8)}e.hasFileFolderCopyCapability=p;function T(m){return!!(m.capabilities&4)}e.hasOpenReadWriteCloseCapability=T;function $(m){return!!(m.capabilities&16)}e.hasFileReadStreamCapability=$;var W;(function(m){m.FileExists="EntryExists",m.FileNotFound="EntryNotFound",m.FileNotADirectory="EntryNotADirectory",m.FileIsADirectory="EntryIsADirectory",m.FileExceedsMemoryLimit="EntryExceedsMemoryLimit",m.FileTooLarge="EntryTooLarge",m.FileWriteLocked="EntryWriteLocked",m.NoPermissions="NoPermissions",m.Unavailable="Unavailable",m.Unknown="Unknown"})(W=e.FileSystemProviderErrorCode||(e.FileSystemProviderErrorCode={}));class j extends Error{constructor(y,h){super(y);this.code=h}}e.FileSystemProviderError=j;function a(m,y){const h=new j(m.toString(),y);return o(h,y),h}e.createFileSystemProviderError=a;function l(m){return m||a((0,P.localize)(0,null),W.Unknown)}e.ensureFileSystemProviderError=l;function o(m,y){return m.name=y?`${y} (FileSystemError)`:"FileSystemError",m}e.markAsFileSystemProviderError=o;function r(m){if(!m)return W.Unknown;if(m instanceof j)return m.code;const y=/^(.+) \(FileSystemError\)$/.exec(m.name);if(!y)return W.Unknown;switch(y[1]){case W.FileExists:return W.FileExists;case W.FileIsADirectory:return W.FileIsADirectory;case W.FileNotADirectory:return W.FileNotADirectory;case W.FileNotFound:return W.FileNotFound;case W.FileExceedsMemoryLimit:return W.FileExceedsMemoryLimit;case W.FileTooLarge:return W.FileTooLarge;case W.FileWriteLocked:return W.FileWriteLocked;case W.NoPermissions:return W.NoPermissions;case W.Unavailable:return W.Unavailable}return W.Unknown}e.toFileSystemProviderErrorCode=r;function t(m){if(m instanceof E)return m.fileOperationResult;switch(r(m)){case W.FileNotFound:return 1;case W.FileIsADirectory:return 0;case W.FileNotADirectory:return 10;case W.FileWriteLocked:return 5;case W.NoPermissions:return 6;case W.FileExists:return 4;case W.FileExceedsMemoryLimit:return 9;case W.FileTooLarge:return 7;default:return 11}}e.toFileOperationResult=t;var n;(function(m){m[m.CREATE=0]="CREATE",m[m.DELETE=1]="DELETE",m[m.MOVE=2]="MOVE",m[m.COPY=3]="COPY"})(n=e.FileOperation||(e.FileOperation={}));class i{constructor(y,h,w){this.resource=y,this.operation=h,this.target=w}isOperation(y){return this.operation===y}}e.FileOperationEvent=i;var s;(function(m){m[m.UPDATED=0]="UPDATED",m[m.ADDED=1]="ADDED",m[m.DELETED=2]="DELETED"})(s=e.FileChangeType||(e.FileChangeType={}));class f{constructor(y,h){this.added=void 0,this.updated=void 0,this.deleted=void 0;for(const w of y)switch(w.type){case 1:this.added||(this.added=S.TernarySearchTree.forUris(()=>h)),this.added.set(w.resource,w);break;case 0:this.updated||(this.updated=S.TernarySearchTree.forUris(()=>h)),this.updated.set(w.resource,w);break;case 2:this.deleted||(this.deleted=S.TernarySearchTree.forUris(()=>h)),this.deleted.set(w.resource,w);break}}contains(y,...h){return this.doContains(y,{includeChildren:!1},...h)}affects(y,...h){return this.doContains(y,{includeChildren:!0},...h)}doContains(y,h,...w){if(!y)return!1;const v=w.length>0;return!!((!v||w.includes(1))&&(this.added?.get(y)||h.includeChildren&&this.added?.findSuperstr(y))||(!v||w.includes(0))&&(this.updated?.get(y)||h.includeChildren&&this.updated?.findSuperstr(y))||(!v||w.includes(2))&&(this.deleted?.findSubstr(y)||h.includeChildren&&this.deleted?.findSuperstr(y)))}gotAdded(){return!!this.added}gotDeleted(){return!!this.deleted}gotUpdated(){return!!this.updated}get rawAdded(){return this.added}get rawDeleted(){return this.deleted}}e.FileChangesEvent=f;function u(m,y,h){return!m||!y||m===y||y.length>m.length?!1:(y.charAt(y.length-1)!==O.sep&&(y+=O.sep),h?(0,z.startsWithIgnoreCase)(m,y):m.indexOf(y)===0)}e.isParent=u;class E extends Error{constructor(y,h,w){super(y);this.fileOperationResult=h,this.options=w}}e.FileOperationError=E;class g extends E{constructor(y,h,w){super(y,2,w);this.stat=h}}e.NotModifiedSinceFileOperationError=g;var _;(function(m){m[m.FILE_IS_DIRECTORY=0]="FILE_IS_DIRECTORY",m[m.FILE_NOT_FOUND=1]="FILE_NOT_FOUND",m[m.FILE_NOT_MODIFIED_SINCE=2]="FILE_NOT_MODIFIED_SINCE",m[m.FILE_MODIFIED_SINCE=3]="FILE_MODIFIED_SINCE",m[m.FILE_MOVE_CONFLICT=4]="FILE_MOVE_CONFLICT",m[m.FILE_WRITE_LOCKED=5]="FILE_WRITE_LOCKED",m[m.FILE_PERMISSION_DENIED=6]="FILE_PERMISSION_DENIED",m[m.FILE_TOO_LARGE=7]="FILE_TOO_LARGE",m[m.FILE_INVALID_PATH=8]="FILE_INVALID_PATH",m[m.FILE_EXCEEDS_MEMORY_LIMIT=9]="FILE_EXCEEDS_MEMORY_LIMIT",m[m.FILE_NOT_DIRECTORY=10]="FILE_NOT_DIRECTORY",m[m.FILE_OTHER_ERROR=11]="FILE_OTHER_ERROR"})(_=e.FileOperationResult||(e.FileOperationResult={})),e.AutoSaveConfiguration={OFF:"off",AFTER_DELAY:"afterDelay",ON_FOCUS_CHANGE:"onFocusChange",ON_WINDOW_CHANGE:"onWindowChange"},e.HotExitConfiguration={OFF:"off",ON_EXIT:"onExit",ON_EXIT_AND_WINDOW_CLOSE:"onExitAndWindowClose"},e.FILES_ASSOCIATIONS_CONFIG="files.associations",e.FILES_EXCLUDE_CONFIG="files.exclude";var k;(function(m){m[m.FILE=0]="FILE",m[m.FOLDER=1]="FOLDER",m[m.ROOT_FOLDER=2]="ROOT_FOLDER"})(k=e.FileKind||(e.FileKind={})),e.ETAG_DISABLED="";function B(m){if(!(typeof m.size!="number"||typeof m.mtime!="number"))return m.mtime.toString(29)+m.size.toString(31)}e.etag=B;async function te(m,y){if(!y.canHandleResource(R.URI.from({scheme:m.scheme})))return new Promise(h=>{const w=y.onDidChangeFileSystemProviderRegistrations(v=>{v.scheme===m.scheme&&v.added&&(w.dispose(),h())})})}e.whenProviderRegistered=te,e.MIN_MAX_MEMORY_SIZE_MB=2048,e.FALLBACK_MAX_MEMORY_SIZE_MB=4096;class ee{static formatSize(y){return(0,D.isNumber)(y)||(y=0),y<ee.KB?(0,P.localize)(1,null,y.toFixed(0)):y<ee.MB?(0,P.localize)(2,null,(y/ee.KB).toFixed(2)):y<ee.GB?(0,P.localize)(3,null,(y/ee.MB).toFixed(2)):y<ee.TB?(0,P.localize)(4,null,(y/ee.GB).toFixed(2)):(0,P.localize)(5,null,(y/ee.TB).toFixed(2))}}e.ByteSize=ee,ee.KB=1024,ee.MB=ee.KB*ee.KB,ee.GB=ee.MB*ee.KB,ee.TB=ee.GB*ee.KB;var re;(function(m){m[m.IA32=0]="IA32",m[m.OTHER=1]="OTHER"})(re=e.Arch||(e.Arch={}));function H(m){return{maxFileSize:m===0?300*ee.MB:16*ee.GB,maxHeapSize:m===0?700*ee.MB:2*700*ee.MB}}e.getPlatformLimits=H}),define(he[54],me([0,1,26,10,4,11,25]),function(oe,e,P,O,R,M,z){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LogLevelToString=e.parseLogLevel=e.getLogLevel=e.NullLogService=e.AbstractLoggerService=e.LogService=e.MultiplexLogService=e.AdapterLogger=e.ConsoleLogger=e.ConsoleMainLogger=e.AbstractMessageLogger=e.AbstractLogger=e.DEFAULT_LOG_LEVEL=e.LogLevel=e.ILoggerService=e.ILogService=void 0,e.ILogService=(0,P.createDecorator)("logService"),e.ILoggerService=(0,P.createDecorator)("loggerService");function D(){return new Date().toISOString()}var S;(function(o){o[o.Trace=0]="Trace",o[o.Debug=1]="Debug",o[o.Info=2]="Info",o[o.Warning=3]="Warning",o[o.Error=4]="Error",o[o.Critical=5]="Critical",o[o.Off=6]="Off"})(S=e.LogLevel||(e.LogLevel={})),e.DEFAULT_LOG_LEVEL=S.Info;class L extends O.Disposable{constructor(){super(...arguments);this.level=e.DEFAULT_LOG_LEVEL,this._onDidChangeLogLevel=this._register(new M.Emitter),this.onDidChangeLogLevel=this._onDidChangeLogLevel.event}setLevel(r){this.level!==r&&(this.level=r,this._onDidChangeLogLevel.fire(this.level))}getLevel(){return this.level}}e.AbstractLogger=L;class I extends L{constructor(r){super();this.logAlways=r}checkLogLevel(r){return this.logAlways||this.getLevel()<=r}trace(r,...t){this.checkLogLevel(S.Trace)&&this.log(S.Trace,this.format([r,...t]))}debug(r,...t){this.checkLogLevel(S.Debug)&&this.log(S.Debug,this.format([r,...t]))}info(r,...t){this.checkLogLevel(S.Info)&&this.log(S.Info,this.format([r,...t]))}warn(r,...t){this.checkLogLevel(S.Warning)&&this.log(S.Warning,this.format([r,...t]))}error(r,...t){if(this.checkLogLevel(S.Error))if(r instanceof Error){const n=Array.prototype.slice.call(arguments);n[0]=r.stack,this.log(S.Error,this.format(n))}else this.log(S.Error,this.format([r,...t]))}critical(r,...t){this.checkLogLevel(S.Critical)&&this.log(S.Critical,this.format([r,...t]))}flush(){}format(r){let t="";for(let n=0;n<r.length;n++){let i=r[n];if(typeof i=="object")try{i=JSON.stringify(i)}catch(s){}t+=(n>0?" ":"")+i}return t}}e.AbstractMessageLogger=I;class N extends L{constructor(r=e.DEFAULT_LOG_LEVEL){super();this.setLevel(r),this.useColors=!R.isWindows}trace(r,...t){this.getLevel()<=S.Trace&&(this.useColors?console.log(`[90m[main ${D()}][0m`,r,...t):console.log(`[main ${D()}]`,r,...t))}debug(r,...t){this.getLevel()<=S.Debug&&(this.useColors?console.log(`[90m[main ${D()}][0m`,r,...t):console.log(`[main ${D()}]`,r,...t))}info(r,...t){this.getLevel()<=S.Info&&(this.useColors?console.log(`[90m[main ${D()}][0m`,r,...t):console.log(`[main ${D()}]`,r,...t))}warn(r,...t){this.getLevel()<=S.Warning&&(this.useColors?console.warn(`[93m[main ${D()}][0m`,r,...t):console.warn(`[main ${D()}]`,r,...t))}error(r,...t){this.getLevel()<=S.Error&&(this.useColors?console.error(`[91m[main ${D()}][0m`,r,...t):console.error(`[main ${D()}]`,r,...t))}critical(r,...t){this.getLevel()<=S.Critical&&(this.useColors?console.error(`[90m[main ${D()}][0m`,r,...t):console.error(`[main ${D()}]`,r,...t))}dispose(){}flush(){}}e.ConsoleMainLogger=N;class K extends L{constructor(r=e.DEFAULT_LOG_LEVEL){super();this.setLevel(r)}trace(r,...t){this.getLevel()<=S.Trace&&console.log("%cTRACE","color: #888",r,...t)}debug(r,...t){this.getLevel()<=S.Debug&&console.log("%cDEBUG","background: #eee; color: #888",r,...t)}info(r,...t){this.getLevel()<=S.Info&&console.log("%c INFO","color: #33f",r,...t)}warn(r,...t){this.getLevel()<=S.Warning&&console.log("%c WARN","color: #993",r,...t)}error(r,...t){this.getLevel()<=S.Error&&console.log("%c  ERR","color: #f33",r,...t)}critical(r,...t){this.getLevel()<=S.Critical&&console.log("%cCRITI","background: #f33; color: white",r,...t)}dispose(){}flush(){}}e.ConsoleLogger=K;class q extends L{constructor(r,t=e.DEFAULT_LOG_LEVEL){super();this.adapter=r,this.setLevel(t)}trace(r,...t){this.getLevel()<=S.Trace&&this.adapter.log(S.Trace,[this.extractMessage(r),...t])}debug(r,...t){this.getLevel()<=S.Debug&&this.adapter.log(S.Debug,[this.extractMessage(r),...t])}info(r,...t){this.getLevel()<=S.Info&&this.adapter.log(S.Info,[this.extractMessage(r),...t])}warn(r,...t){this.getLevel()<=S.Warning&&this.adapter.log(S.Warning,[this.extractMessage(r),...t])}error(r,...t){this.getLevel()<=S.Error&&this.adapter.log(S.Error,[this.extractMessage(r),...t])}critical(r,...t){this.getLevel()<=S.Critical&&this.adapter.log(S.Critical,[this.extractMessage(r),...t])}extractMessage(r){return typeof r=="string"?r:(0,z.toErrorMessage)(r,this.getLevel()<=S.Trace)}dispose(){}flush(){}}e.AdapterLogger=q;class p extends L{constructor(r){super();this.logServices=r,r.length&&this.setLevel(r[0].getLevel())}setLevel(r){for(const t of this.logServices)t.setLevel(r);super.setLevel(r)}trace(r,...t){for(const n of this.logServices)n.trace(r,...t)}debug(r,...t){for(const n of this.logServices)n.debug(r,...t)}info(r,...t){for(const n of this.logServices)n.info(r,...t)}warn(r,...t){for(const n of this.logServices)n.warn(r,...t)}error(r,...t){for(const n of this.logServices)n.error(r,...t)}critical(r,...t){for(const n of this.logServices)n.critical(r,...t)}flush(){for(const r of this.logServices)r.flush()}dispose(){for(const r of this.logServices)r.dispose()}}e.MultiplexLogService=p;class T extends O.Disposable{constructor(r){super();this.logger=r,this._register(r)}get onDidChangeLogLevel(){return this.logger.onDidChangeLogLevel}setLevel(r){this.logger.setLevel(r)}getLevel(){return this.logger.getLevel()}trace(r,...t){this.logger.trace(r,...t)}debug(r,...t){this.logger.debug(r,...t)}info(r,...t){this.logger.info(r,...t)}warn(r,...t){this.logger.warn(r,...t)}error(r,...t){this.logger.error(r,...t)}critical(r,...t){this.logger.critical(r,...t)}flush(){this.logger.flush()}}e.LogService=T;class $ extends O.Disposable{constructor(r,t){super();this.logLevel=r,this.loggers=new Map,this.logLevelChangeableLoggers=[],this._register(t(n=>{this.logLevel=n,this.logLevelChangeableLoggers.forEach(i=>i.setLevel(n))}))}getLogger(r){return this.loggers.get(r.toString())}createLogger(r,t){let n=this.loggers.get(r.toString());return n||(n=this.doCreateLogger(r,t?.always?S.Trace:this.logLevel,t),this.loggers.set(r.toString(),n),t?.always||this.logLevelChangeableLoggers.push(n)),n}dispose(){this.logLevelChangeableLoggers.splice(0,this.logLevelChangeableLoggers.length),this.loggers.forEach(r=>r.dispose()),this.loggers.clear(),super.dispose()}}e.AbstractLoggerService=$;class W{constructor(){this.onDidChangeLogLevel=new M.Emitter().event}setLevel(r){}getLevel(){return S.Info}trace(r,...t){}debug(r,...t){}info(r,...t){}warn(r,...t){}error(r,...t){}critical(r,...t){}dispose(){}flush(){}}e.NullLogService=W;function j(o){if(o.verbose)return S.Trace;if(typeof o.logLevel=="string"){const r=a(o.logLevel.toLowerCase());if(r!==void 0)return r}return e.DEFAULT_LOG_LEVEL}e.getLogLevel=j;function a(o){switch(o){case"trace":return S.Trace;case"debug":return S.Debug;case"info":return S.Info;case"warn":return S.Warning;case"error":return S.Error;case"critical":return S.Critical;case"off":return S.Off}}e.parseLogLevel=a;function l(o){switch(o){case S.Trace:return"trace";case S.Debug:return"debug";case S.Info:return"info";case S.Warning:return"warn";case S.Error:return"error";case S.Critical:return"critical";case S.Off:return"off"}}e.LogLevelToString=l}),define(he[27],me([0,1]),function(oe,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextSearchCompleteMessageType=e.Range=e.Position=void 0;class P{constructor(z,D){this.line=z,this.character=D}isBefore(z){return!1}isBeforeOrEqual(z){return!1}isAfter(z){return!1}isAfterOrEqual(z){return!1}isEqual(z){return!1}compareTo(z){return 0}translate(z,D){return new P(0,0)}with(z){return new P(0,0)}}e.Position=P;class O{constructor(z,D,S,L){this.isEmpty=!1,this.isSingleLine=!1,this.start=new P(z,D),this.end=new P(S,L)}contains(z){return!1}isEqual(z){return!1}intersection(z){}union(z){return new O(0,0,0,0)}with(z){return new O(0,0,0,0)}}e.Range=O;var R;(function(M){M[M.Information=1]="Information",M[M.Warning=2]="Warning"})(R=e.TextSearchCompleteMessageType||(e.TextSearchCompleteMessageType={}))}),define(he[13],me([0,1,7,17,21,9,3,26,2,6,27]),function(oe,e,P,O,R,M,z,D,S,L,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QueryGlobTester=e.resolvePatternsForProvider=e.SerializableFileMatch=e.isFilePatternMatch=e.isSerializedFileMatch=e.isSerializedSearchSuccess=e.isSerializedSearchComplete=e.serializeSearchError=e.deserializeSearchError=e.SearchError=e.SearchErrorCode=e.pathIncludedInQuery=e.getExcludes=e.SearchSortOrder=e.OneLineRange=e.SearchRange=e.TextSearchMatch=e.FileMatch=e.SearchCompletionExitCode=e.isProgressMessage=e.isFileMatch=e.resultIsMatch=e.QueryType=e.SearchProviderType=e.ISearchService=e.SEARCH_EXCLUDE_CONFIG=e.VIEW_ID=e.PANEL_ID=e.VIEWLET_ID=e.TextSearchCompleteMessageType=void 0,Object.defineProperty(e,"TextSearchCompleteMessageType",{enumerable:!0,get:function(){return I.TextSearchCompleteMessageType}}),e.VIEWLET_ID="workbench.view.search",e.PANEL_ID="workbench.panel.search",e.VIEW_ID="workbench.view.search",e.SEARCH_EXCLUDE_CONFIG="search.exclude";const N="\u27EA ",K=" characters skipped \u27EB",q=(N.length+K.length+5)*2;e.ISearchService=(0,D.createDecorator)("searchService");var p;(function(h){h[h.file=0]="file",h[h.text=1]="text"})(p=e.SearchProviderType||(e.SearchProviderType={}));var T;(function(h){h[h.File=1]="File",h[h.Text=2]="Text"})(T=e.QueryType||(e.QueryType={}));function $(h){return!!h.preview}e.resultIsMatch=$;function W(h){return!!h.resource}e.isFileMatch=W;function j(h){return!!h.message}e.isProgressMessage=j;var a;(function(h){h[h.Normal=0]="Normal",h[h.NewSearchStarted=1]="NewSearchStarted"})(a=e.SearchCompletionExitCode||(e.SearchCompletionExitCode={}));class l{constructor(w){this.resource=w,this.results=[]}}e.FileMatch=l;class o{constructor(w,v,c){this.ranges=v;const b=Array.isArray(v)?v:[v];if(c&&c.matchLines===1&&r(b)){w=(0,z.getNLines)(w,c.matchLines);let d="",A=0,F=0;const U=Math.floor(c.charsPerLine/5),Q=[];for(const J of b){const X=Math.max(J.startColumn-U,0),se=J.startColumn+c.charsPerLine;if(X>F+U+q){const le=N+(X-F)+K;d+=le+w.slice(X,se),A+=X-(F+le.length)}else d+=w.slice(F,se);Q.push(new n(0,J.startColumn-A,J.endColumn-A)),F=se}this.preview={text:d,matches:Array.isArray(this.ranges)?Q:Q[0]}}else{const d=Array.isArray(v)?v[0].startLineNumber:v.startLineNumber;this.preview={text:w,matches:(0,P.mapArrayOrNot)(v,A=>new t(A.startLineNumber-d,A.startColumn,A.endLineNumber-d,A.endColumn))}}}}e.TextSearchMatch=o;function r(h){const w=h[0].startLineNumber;for(const v of h)if(v.startLineNumber!==w||v.endLineNumber!==w)return!1;return!0}class t{constructor(w,v,c,b){this.startLineNumber=w,this.startColumn=v,this.endLineNumber=c,this.endColumn=b}}e.SearchRange=t;class n extends t{constructor(w,v,c){super(w,v,w,c)}}e.OneLineRange=n;var i;(function(h){h.Default="default",h.FileNames="fileNames",h.Type="type",h.Modified="modified",h.CountDescending="countDescending",h.CountAscending="countAscending"})(i=e.SearchSortOrder||(e.SearchSortOrder={}));function s(h,w=!0){const v=h&&h.files&&h.files.exclude,c=w&&h&&h.search&&h.search.exclude;if(!v&&!c)return;if(!v||!c)return v||c;let b=Object.create(null);return b=R.mixin(b,R.deepClone(v)),b=R.mixin(b,R.deepClone(c),!0),b}e.getExcludes=s;function f(h,w){return h.excludePattern&&O.match(h.excludePattern,w)?!1:h.includePattern||h.usingSearchPaths?h.includePattern&&O.match(h.includePattern,w)?!0:h.usingSearchPaths?!!h.folderQueries&&h.folderQueries.some(v=>{const c=v.folder.fsPath;if(M.isEqualOrParent(w,c)){const b=S.relative(c,w);return!v.includePattern||!!O.match(v.includePattern,b)}else return!1}):!1:!0}e.pathIncludedInQuery=f;var u;(function(h){h[h.unknownEncoding=1]="unknownEncoding",h[h.regexParseError=2]="regexParseError",h[h.globParseError=3]="globParseError",h[h.invalidLiteral=4]="invalidLiteral",h[h.rgProcessError=5]="rgProcessError",h[h.other=6]="other",h[h.canceled=7]="canceled"})(u=e.SearchErrorCode||(e.SearchErrorCode={}));class E extends Error{constructor(w,v){super(w);this.code=v}}e.SearchError=E;function g(h){const w=h.message;if((0,L.isPromiseCanceledError)(h))return new E(w,u.canceled);try{const v=JSON.parse(w);return new E(v.message,v.code)}catch(v){return new E(w,u.other)}}e.deserializeSearchError=g;function _(h){const w={message:h.message,code:h.code};return new Error(JSON.stringify(w))}e.serializeSearchError=_;function k(h){return h.type==="error"?!0:h.type==="success"}e.isSerializedSearchComplete=k;function B(h){return h.type==="success"}e.isSerializedSearchSuccess=B;function te(h){return!!h.path}e.isSerializedFileMatch=te;function ee(h,w){const v=h.searchPath?h.searchPath:h.relativePath;return(0,z.fuzzyContains)(v,w)}e.isFilePatternMatch=ee;class re{constructor(w){this.path=w,this.results=[]}addMatch(w){this.results.push(w)}serialize(){return{path:this.path,results:this.results,numMatches:this.results.length}}}e.SerializableFileMatch=re;function H(h,w){const v={...h||{},...w||{}};return Object.keys(v).filter(c=>{const b=v[c];return typeof b=="boolean"&&b})}e.resolvePatternsForProvider=H;class m{constructor(w,v){this._parsedIncludeExpression=null,this._excludeExpression={...w.excludePattern||{},...v.excludePattern||{}},this._parsedExcludeExpression=O.parse(this._excludeExpression);let c=w.includePattern;v.includePattern&&(c?c={...c,...v.includePattern}:c=v.includePattern),c&&(this._parsedIncludeExpression=O.parse(c))}includedInQuerySync(w,v,c){return!(this._parsedExcludeExpression&&this._parsedExcludeExpression(w,v,c)||this._parsedIncludeExpression&&!this._parsedIncludeExpression(w,v,c))}includedInQuery(w,v,c){return Promise.resolve(this._parsedExcludeExpression(w,v,c)).then(d=>!!d).then(d=>d?!1:this._parsedIncludeExpression?Promise.resolve(this._parsedIncludeExpression(w,v,c)).then(A=>!!A):Promise.resolve(!0)).then(d=>d)}hasSiblingExcludeClauses(){return y(this._excludeExpression)}}e.QueryGlobTester=m;function y(h){for(const w in h)if(typeof h[w]!="boolean")return!0;return!1}}),define(he[55],me([0,1,2,7,14,25,24,17,5,13,22,8]),function(oe,e,P,O,R,M,z,D,S,L,I,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BatchedCollector=e.extensionResultIsMatch=e.TextSearchResultsCollector=e.TextSearchManager=void 0;class K{constructor(a,l,o){this.query=a,this.provider=l,this.fileUtils=o,this.collector=null,this.isLimitHit=!1,this.resultCount=0}search(a,l){const o=this.query.folderQueries||[],r=new R.CancellationTokenSource;return l.onCancellationRequested(()=>r.cancel()),new Promise((t,n)=>{this.collector=new p(a);let i=!1;const s=(f,u)=>{if(!i&&!this.isLimitHit){const E=this.resultSize(f);$(f)&&typeof this.query.maxResults=="number"&&this.resultCount+E>this.query.maxResults&&(this.isLimitHit=!0,i=!0,r.cancel(),f=this.trimResultToSize(f,this.query.maxResults-this.resultCount));const g=this.resultSize(f);this.resultCount+=g,(g>0||!$(f))&&this.collector.add(f,u)}};Promise.all(o.map((f,u)=>this.searchInFolder(f,E=>s(E,u),r.token))).then(f=>{r.dispose(),this.collector.flush();const u=f.some(E=>!!E&&!!E.limitHit);t({limitHit:this.isLimitHit||u,messages:(0,O.flatten)(f.map(E=>E?.message?(0,N.isArray)(E.message)?E.message:[E.message]:[])),stats:{type:"textSearchProvider"}})},f=>{r.dispose();const u=(0,M.toErrorMessage)(f);n(new Error(u))})})}resultSize(a){return $(a)?Array.isArray(a.ranges)?a.ranges.length:1:0}trimResultToSize(a,l){const o=Array.isArray(a.ranges)?a.ranges:[a.ranges],r=Array.isArray(a.preview.matches)?a.preview.matches:[a.preview.matches];return{ranges:o.slice(0,l),preview:{matches:r.slice(0,l),text:a.preview.text},uri:a.uri}}async searchInFolder(a,l,o){const r=new L.QueryGlobTester(this.query,a),t=[],n={report:f=>{if(!this.validateProviderResult(f))return;const u=a.folder.scheme===I.Schemas.file?D.hasSiblingPromiseFn(()=>this.fileUtils.readdir(z.dirname(f.uri))):void 0,E=z.relativePath(a.folder,f.uri);E&&t.push(r.includedInQuery(E,P.basename(E),u).then(g=>{g&&l(f)}))}},i=this.getSearchOptionsForFolder(a),s=await this.provider.provideTextSearchResults(q(this.query.contentPattern),i,n,o);return await Promise.all(t),s}validateProviderResult(a){if($(a)){if(Array.isArray(a.ranges)){if(!Array.isArray(a.preview.matches))return console.warn("INVALID - A text search provider match's`ranges` and`matches` properties must have the same type."),!1;if(a.preview.matches.length!==a.ranges.length)return console.warn("INVALID - A text search provider match's`ranges` and`matches` properties must have the same length."),!1}else if(Array.isArray(a.preview.matches))return console.warn("INVALID - A text search provider match's`ranges` and`matches` properties must have the same length."),!1}return!0}getSearchOptionsForFolder(a){const l=(0,L.resolvePatternsForProvider)(this.query.includePattern,a.includePattern),o=(0,L.resolvePatternsForProvider)(this.query.excludePattern,a.excludePattern),r={folder:S.URI.from(a.folder),excludes:o,includes:l,useIgnoreFiles:!a.disregardIgnoreFiles,useGlobalIgnoreFiles:!a.disregardGlobalIgnoreFiles,followSymlinks:!a.ignoreSymlinks,encoding:a.fileEncoding&&this.fileUtils.toCanonicalName(a.fileEncoding),maxFileSize:this.query.maxFileSize,maxResults:this.query.maxResults,previewOptions:this.query.previewOptions,afterContext:this.query.afterContext,beforeContext:this.query.beforeContext};return r.usePCRE2=this.query.usePCRE2,r}}e.TextSearchManager=K;function q(j){return{isCaseSensitive:j.isCaseSensitive||!1,isRegExp:j.isRegExp||!1,isWordMatch:j.isWordMatch||!1,isMultiline:j.isMultiline||!1,pattern:j.pattern}}class p{constructor(a){this._onResult=a,this._currentFolderIdx=-1,this._currentFileMatch=null,this._batchedCollector=new W(512,l=>this.sendItems(l))}add(a,l){this._currentFileMatch&&(this._currentFolderIdx!==l||!z.isEqual(this._currentUri,a.uri))&&(this.pushToCollector(),this._currentFileMatch=null),this._currentFileMatch||(this._currentFolderIdx=l,this._currentFileMatch={resource:a.uri,results:[]}),this._currentFileMatch.results.push(T(a))}pushToCollector(){const a=this._currentFileMatch&&this._currentFileMatch.results?this._currentFileMatch.results.length:0;this._batchedCollector.addItem(this._currentFileMatch,a)}flush(){this.pushToCollector(),this._batchedCollector.flush()}sendItems(a){this._onResult(a)}}e.TextSearchResultsCollector=p;function T(j){return $(j)?{preview:{matches:(0,O.mapArrayOrNot)(j.preview.matches,a=>({startLineNumber:a.start.line,startColumn:a.start.character,endLineNumber:a.end.line,endColumn:a.end.character})),text:j.preview.text},ranges:(0,O.mapArrayOrNot)(j.ranges,a=>({startLineNumber:a.start.line,startColumn:a.start.character,endLineNumber:a.end.line,endColumn:a.end.character}))}:{text:j.text,lineNumber:j.lineNumber}}function $(j){return!!j.preview}e.extensionResultIsMatch=$;class W{constructor(a,l){this.maxBatchSize=a,this.cb=l,this.totalNumberCompleted=0,this.batch=[],this.batchSize=0}addItem(a,l){!a||this.addItemToBatch(a,l)}addItems(a,l){!a||this.addItemsToBatch(a,l)}addItemToBatch(a,l){this.batch.push(a),this.batchSize+=l,this.onUpdate()}addItemsToBatch(a,l){this.batch=this.batch.concat(a),this.batchSize+=l,this.onUpdate()}onUpdate(){this.totalNumberCompleted<W.START_BATCH_AFTER_COUNT?this.flush():this.batchSize>=this.maxBatchSize?this.flush():this.timeoutHandle||(this.timeoutHandle=setTimeout(()=>{this.flush()},W.TIMEOUT))}flush(){this.batchSize&&(this.totalNumberCompleted+=this.batchSize,this.cb(this.batch),this.batch=[],this.batchSize=0,this.timeoutHandle&&(clearTimeout(this.timeoutHandle),this.timeoutHandle=0))}}e.BatchedCollector=W,W.TIMEOUT=4e3,W.START_BATCH_AFTER_COUNT=50});var $e=this&&this.__param||function(oe,e){return function(P,O){e(P,O,oe)}};define(he[36],me([0,1,7,54,13,27]),function(oe,e,P,O,R,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OutputChannel=e.createTextSearchResult=e.anchorGlob=void 0;function z(N){return N.startsWith("**")||N.startsWith("/")?N:`/${N}`}e.anchorGlob=z;function D(N,K,q,p){const T=(0,P.mapArrayOrNot)(q,S),$=new R.TextSearchMatch(K,T,p),W=$.preview.matches;return{ranges:(0,P.mapArrayOrNot)(T,L),uri:N,preview:{text:$.preview.text,matches:(0,P.mapArrayOrNot)(W,L)}}}e.createTextSearchResult=D;function S(N){return new R.SearchRange(N.start.line,N.start.character,N.end.line,N.end.character)}function L(N){return new M.Range(N.startLineNumber,N.startColumn,N.endLineNumber,N.endColumn)}let I=class{constructor(K,q){this.prefix=K,this.logService=q}appendLine(K){this.logService.debug(`${this.prefix}#search`,K)}};I=We([$e(1,O.ILogService)],I),e.OutputChannel=I}),define(he[56],me([0,1]),function(oe,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SearchChannelClient=e.SearchChannel=void 0;class P{constructor(M){this.service=M}listen(M,z,D){switch(z){case"fileSearch":return this.service.fileSearch(D);case"textSearch":return this.service.textSearch(D)}throw new Error("Event not found")}call(M,z,D){switch(z){case"clearCache":return this.service.clearCache(D)}throw new Error("Call not found")}}e.SearchChannel=P;class O{constructor(M){this.channel=M}fileSearch(M){return this.channel.listen("fileSearch",M)}textSearch(M){return this.channel.listen("textSearch",M)}clearCache(M){return this.channel.call("clearCache",M)}}e.SearchChannelClient=O}),define(he[57],me([0,1,30,15]),function(oe,e,P,O){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SUPPORTED_ENCODINGS=e.detectEncodingFromBuffer=e.toCanonicalName=e.detectEncodingByBOMFromBuffer=e.toNodeEncoding=e.encodingExists=e.toEncodeReadable=e.toDecodeStream=e.UTF8_BOM=e.UTF16le_BOM=e.UTF16be_BOM=e.isUTFEncoding=e.UTF16le=e.UTF16be=e.UTF8_with_bom=e.UTF8=void 0,e.UTF8="utf8",e.UTF8_with_bom="utf8bom",e.UTF16be="utf16be",e.UTF16le="utf16le";function R(r){return[e.UTF8,e.UTF8_with_bom,e.UTF16be,e.UTF16le].some(t=>t===r)}e.isUTFEncoding=R,e.UTF16be_BOM=[254,255],e.UTF16le_BOM=[255,254],e.UTF8_BOM=[239,187,191];const M=512,z=512,D=512*8,S=512*128;class L{constructor(t){this.iconvLiteDecoder=t}static async create(t){let n;if(t!==e.UTF8)n=(await new Promise((s,f)=>{oe(["iconv-lite-umd"],s,f)})).getDecoder(q(t));else{const i=new TextDecoder;n={write(s){return i.decode(s,{stream:!0})},end(){return i.decode()}}}return new L(n)}write(t){return this.iconvLiteDecoder.write(t)}end(){return this.iconvLiteDecoder.end()}}function I(r,t){const n=t.minBytesRequiredForDetection??t.guessEncoding?D:z;return new Promise((i,s)=>{const f=(0,P.newWriteableStream)(k=>k.join("")),u=[];let E=0,g;const _=async()=>{try{const k=await o({buffer:O.VSBuffer.concat(u),bytesRead:E},t.guessEncoding);k.encoding=await t.overwriteEncoding(k.encoding),g=await L.create(k.encoding);const B=g.write(O.VSBuffer.concat(u).buffer);f.write(B),u.length=0,E=0,i({stream:f,detected:k})}catch(k){s(k)}};(0,P.listenStream)(r,{onData:async k=>{g?f.write(g.write(k.buffer)):(u.push(k),E+=k.byteLength,E>=n&&(r.pause(),await _(),setTimeout(()=>r.resume())))},onError:k=>f.error(k),onEnd:async()=>{g||await _(),f.end(g?.end())}})})}e.toDecodeStream=I;async function N(r,t,n){const s=(await new Promise((E,g)=>{oe(["iconv-lite-umd"],E,g)})).getEncoder(q(t),n);let f=!1,u=!1;return{read(){if(u)return null;const E=r.read();if(typeof E!="string"){if(u=!0,!f&&n?.addBOM)switch(t){case e.UTF8:case e.UTF8_with_bom:return O.VSBuffer.wrap(Uint8Array.from(e.UTF8_BOM));case e.UTF16be:return O.VSBuffer.wrap(Uint8Array.from(e.UTF16be_BOM));case e.UTF16le:return O.VSBuffer.wrap(Uint8Array.from(e.UTF16le_BOM))}const g=s.end();return g&&g.length>0?(f=!0,O.VSBuffer.wrap(g)):null}return f=!0,O.VSBuffer.wrap(s.write(E))}}}e.toEncodeReadable=N;async function K(r){return(await new Promise((n,i)=>{oe(["iconv-lite-umd"],n,i)})).encodingExists(q(r))}e.encodingExists=K;function q(r){return r===e.UTF8_with_bom||r===null?e.UTF8:r}e.toNodeEncoding=q;function p(r,t){if(!r||t<e.UTF16be_BOM.length)return null;const n=r.readUInt8(0),i=r.readUInt8(1);if(n===e.UTF16be_BOM[0]&&i===e.UTF16be_BOM[1])return e.UTF16be;if(n===e.UTF16le_BOM[0]&&i===e.UTF16le_BOM[1])return e.UTF16le;if(t<e.UTF8_BOM.length)return null;const s=r.readUInt8(2);return n===e.UTF8_BOM[0]&&i===e.UTF8_BOM[1]&&s===e.UTF8_BOM[2]?e.UTF8_with_bom:null}e.detectEncodingByBOMFromBuffer=p;const T=["ascii","utf-16","utf-32"];async function $(r){const t=await new Promise((u,E)=>{oe(["jschardet"],u,E)}),n=r.slice(0,S),i=a(n.buffer),s=t.detect(i);if(!s||!s.encoding)return null;const f=s.encoding.toLowerCase();return 0<=T.indexOf(f)?null:j(s.encoding)}const W={ibm866:"cp866",big5:"cp950"};function j(r){const t=r.replace(/[^a-zA-Z0-9]/g,"").toLowerCase();return W[t]||t}function a(r){let t="";for(let n=0;n<r.length;n++)t+=String.fromCharCode(r[n]);return t}function l(r){switch(r){case"shiftjis":return"shift-jis";case"utf16le":return"utf-16le";case"utf16be":return"utf-16be";case"big5hkscs":return"big5-hkscs";case"eucjp":return"euc-jp";case"euckr":return"euc-kr";case"koi8r":return"koi8-r";case"koi8u":return"koi8-u";case"macroman":return"x-mac-roman";case"utf8bom":return"utf8";default:const t=r.match(/windows(\d+)/);return t?"windows-"+t[1]:r}}e.toCanonicalName=l;function o({buffer:r,bytesRead:t},n){let i=p(r,t),s=!1;if(i!==e.UTF16be&&i!==e.UTF16le&&r){let f=!0,u=!0,E=!1;for(let g=0;g<t&&g<M;g++){const _=g%2==1,k=r.readUInt8(g)===0;if(k&&(E=!0),f&&(_&&!k||!_&&k)&&(f=!1),u&&(_&&k||!_&&!k)&&(u=!1),k&&!f&&!u)break}E&&(f?i=e.UTF16le:u?i=e.UTF16be:s=!0)}return n&&!s&&!i&&r?$(r.slice(0,t)).then(f=>({seemsBinary:!1,encoding:f})):{seemsBinary:s,encoding:i}}e.detectEncodingFromBuffer=o,e.SUPPORTED_ENCODINGS={utf8:{labelLong:"UTF-8",labelShort:"UTF-8",order:1,alias:"utf8bom"},utf8bom:{labelLong:"UTF-8 with BOM",labelShort:"UTF-8 with BOM",encodeOnly:!0,order:2,alias:"utf8"},utf16le:{labelLong:"UTF-16 LE",labelShort:"UTF-16 LE",order:3},utf16be:{labelLong:"UTF-16 BE",labelShort:"UTF-16 BE",order:4},windows1252:{labelLong:"Western (Windows 1252)",labelShort:"Windows 1252",order:5},iso88591:{labelLong:"Western (ISO 8859-1)",labelShort:"ISO 8859-1",order:6},iso88593:{labelLong:"Western (ISO 8859-3)",labelShort:"ISO 8859-3",order:7},iso885915:{labelLong:"Western (ISO 8859-15)",labelShort:"ISO 8859-15",order:8},macroman:{labelLong:"Western (Mac Roman)",labelShort:"Mac Roman",order:9},cp437:{labelLong:"DOS (CP 437)",labelShort:"CP437",order:10},windows1256:{labelLong:"Arabic (Windows 1256)",labelShort:"Windows 1256",order:11},iso88596:{labelLong:"Arabic (ISO 8859-6)",labelShort:"ISO 8859-6",order:12},windows1257:{labelLong:"Baltic (Windows 1257)",labelShort:"Windows 1257",order:13},iso88594:{labelLong:"Baltic (ISO 8859-4)",labelShort:"ISO 8859-4",order:14},iso885914:{labelLong:"Celtic (ISO 8859-14)",labelShort:"ISO 8859-14",order:15},windows1250:{labelLong:"Central European (Windows 1250)",labelShort:"Windows 1250",order:16},iso88592:{labelLong:"Central European (ISO 8859-2)",labelShort:"ISO 8859-2",order:17},cp852:{labelLong:"Central European (CP 852)",labelShort:"CP 852",order:18},windows1251:{labelLong:"Cyrillic (Windows 1251)",labelShort:"Windows 1251",order:19},cp866:{labelLong:"Cyrillic (CP 866)",labelShort:"CP 866",order:20},iso88595:{labelLong:"Cyrillic (ISO 8859-5)",labelShort:"ISO 8859-5",order:21},koi8r:{labelLong:"Cyrillic (KOI8-R)",labelShort:"KOI8-R",order:22},koi8u:{labelLong:"Cyrillic (KOI8-U)",labelShort:"KOI8-U",order:23},iso885913:{labelLong:"Estonian (ISO 8859-13)",labelShort:"ISO 8859-13",order:24},windows1253:{labelLong:"Greek (Windows 1253)",labelShort:"Windows 1253",order:25},iso88597:{labelLong:"Greek (ISO 8859-7)",labelShort:"ISO 8859-7",order:26},windows1255:{labelLong:"Hebrew (Windows 1255)",labelShort:"Windows 1255",order:27},iso88598:{labelLong:"Hebrew (ISO 8859-8)",labelShort:"ISO 8859-8",order:28},iso885910:{labelLong:"Nordic (ISO 8859-10)",labelShort:"ISO 8859-10",order:29},iso885916:{labelLong:"Romanian (ISO 8859-16)",labelShort:"ISO 8859-16",order:30},windows1254:{labelLong:"Turkish (Windows 1254)",labelShort:"Windows 1254",order:31},iso88599:{labelLong:"Turkish (ISO 8859-9)",labelShort:"ISO 8859-9",order:32},windows1258:{labelLong:"Vietnamese (Windows 1258)",labelShort:"Windows 1258",order:33},gbk:{labelLong:"Simplified Chinese (GBK)",labelShort:"GBK",order:34},gb18030:{labelLong:"Simplified Chinese (GB18030)",labelShort:"GB18030",order:35},cp950:{labelLong:"Traditional Chinese (Big5)",labelShort:"Big5",order:36},big5hkscs:{labelLong:"Traditional Chinese (Big5-HKSCS)",labelShort:"Big5-HKSCS",order:37},shiftjis:{labelLong:"Japanese (Shift JIS)",labelShort:"Shift JIS",order:38},eucjp:{labelLong:"Japanese (EUC-JP)",labelShort:"EUC-JP",order:39},euckr:{labelLong:"Korean (EUC-KR)",labelShort:"EUC-KR",order:40},windows874:{labelLong:"Thai (Windows 874)",labelShort:"Windows 874",order:41},iso885911:{labelLong:"Latin/Thai (ISO 8859-11)",labelShort:"ISO 8859-11",order:42},koi8ru:{labelLong:"Cyrillic (KOI8-RU)",labelShort:"KOI8-RU",order:43},koi8t:{labelLong:"Tajik (KOI8-T)",labelShort:"KOI8-T",order:44},gb2312:{labelLong:"Simplified Chinese (GB 2312)",labelShort:"GB 2312",order:45},cp865:{labelLong:"Nordic DOS (CP 865)",labelShort:"CP 865",order:46},cp850:{labelLong:"Western European DOS (CP 850)",labelShort:"CP 850",order:47}}}),define(he[58],me([0,1,57,18,55]),function(oe,e,P,O,R){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NativeTextSearchManager=void 0;class M extends R.TextSearchManager{constructor(D,S,L=O){super(D,S,{readdir:I=>L.Promises.readdir(I.fsPath),toCanonicalName:I=>(0,P.toCanonicalName)(I)})}}e.NativeTextSearchManager=M}),define(he[59],me([0,1,19,2,23,9,4,3,36,60]),function(oe,e,P,O,R,M,z,D,S,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.fixDriveC=e.getAbsoluteGlob=e.foldersToIncludeGlobs=e.foldersToRgExcludeGlobs=e.spawnRipgrepCmd=void 0;const I=L.rgPath.replace(/\bnode_modules\.asar\b/,"node_modules.asar.unpacked");function N(a,l,o,r){const t=K(a,l,o,r),n=l.folder.fsPath;return{cmd:P.spawn(I,t.args,{cwd:n}),rgDiskPath:I,siblingClauses:t.siblingClauses,rgArgs:t,cwd:n}}e.spawnRipgrepCmd=N;function K(a,l,o,r){const t=["--files","--hidden","--case-sensitive"];p([l],o,!1).forEach(i=>{const s=(0,S.anchorGlob)(i);if(t.push("-g",s),z.isMacintosh){const f=(0,R.normalizeNFD)(s);f!==s&&t.push("-g",f)}});const n=q([l],r,void 0,!1);return n.globArgs.forEach(i=>{const s=`!${(0,S.anchorGlob)(i)}`;if(t.push("-g",s),z.isMacintosh){const f=(0,R.normalizeNFD)(s);f!==s&&t.push("-g",f)}}),l.disregardIgnoreFiles!==!1?t.push("--no-ignore"):t.push("--no-ignore-parent"),l.ignoreSymlinks||t.push("--follow"),a.exists&&t.push("--quiet"),t.push("--no-config"),l.disregardGlobalIgnoreFiles&&t.push("--no-ignore-global"),{args:t,siblingClauses:n.siblingClauses}}function q(a,l,o,r=!0){const t=[];let n={};return a.forEach(i=>{const s=Object.assign({},i.excludePattern||{},l||{}),f=T(s,r?i.folder.fsPath:void 0,o);t.push(...f.globArgs),f.siblingClauses&&(n=Object.assign(n,f.siblingClauses))}),{globArgs:t,siblingClauses:n}}e.foldersToRgExcludeGlobs=q;function p(a,l,o=!0){const r=[];return a.forEach(t=>{const n=Object.assign({},l||{},t.includePattern||{}),i=T(n,o?t.folder.fsPath:void 0);r.push(...i.globArgs)}),r}e.foldersToIncludeGlobs=p;function T(a,l,o){const r=[],t={};return Object.keys(a).forEach(n=>{if(o&&o.has(n)||!n)return;const i=a[n];n=W(l?$(l,n):n),n.startsWith("\\\\")?n="\\\\"+n.substr(2).replace(/\\/g,"/"):n=n.replace(/\\/g,"/"),typeof i=="boolean"&&i?(n.startsWith("\\\\")&&(n+="**"),r.push(j(n))):i&&i.when&&(t[n]=i)}),{globArgs:r,siblingClauses:t}}function $(a,l){return O.isAbsolute(l)?l:O.join(a,l)}e.getAbsoluteGlob=$;function W(a){return a=D.rtrim(a,"\\"),D.rtrim(a,"/")}function j(a){return M.getRoot(a).toLowerCase()==="c:/"?a.replace(/^c:[/\\]/i,"/"):a}e.fixDriveC=j}),define(he[61],me([0,1,19,33,2,32,7,25,17,23,9,4,20,3,8,18,13,59,31]),function(oe,e,P,O,R,M,z,D,S,L,I,N,K,q,p,T,$,W,j){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.rgErrorMsgForDisplay=e.Engine=e.FileWalker=void 0;const a=new Set;process.on("exit",()=>{a.forEach(n=>n())});class l{constructor(i){this.normalizedFilePatternLowercase=null,this.maxFilesize=null,this.isCanceled=!1,this.fileWalkSW=null,this.cmdSW=null,this.cmdResultCount=0,this.config=i,this.filePattern=i.filePattern||"",this.includePattern=i.includePattern&&S.parse(i.includePattern),this.maxResults=i.maxResults||null,this.exists=!!i.exists,this.walkedPaths=Object.create(null),this.resultCount=0,this.isLimitHit=!1,this.directoriesWalked=0,this.filesWalked=0,this.errors=[],this.filePattern&&(this.normalizedFilePatternLowercase=(0,j.prepareQuery)(this.filePattern).normalizedLowercase),this.globalExcludePattern=i.excludePattern&&S.parse(i.excludePattern),this.folderExcludePatterns=new Map,i.folderQueries.forEach(s=>{const f=Object.assign({},s.excludePattern||{},this.config.excludePattern||{}),u=s.folder.fsPath;i.folderQueries.map(E=>E.folder.fsPath).filter(E=>E!==u).forEach(E=>{(0,I.isEqualOrParent)(E,u)&&(f[R.relative(u,E)]=!0)}),this.folderExcludePatterns.set(u,new r(f,u))})}cancel(){this.isCanceled=!0}walk(i,s,f,u,E){if(this.fileWalkSW=K.StopWatch.create(!1),this.isCanceled)return E(null,this.isLimitHit);s.forEach(g=>{const _=R.basename(g.fsPath);this.globalExcludePattern&&this.globalExcludePattern(g.fsPath,_)||this.matchFile(f,{relativePath:g.fsPath,searchPath:void 0})}),this.cmdSW=K.StopWatch.create(!1),this.parallel(i,(g,_)=>{this.call(this.cmdTraversal,this,g,f,u,k=>{if(k){const B=(0,D.toErrorMessage)(k);console.error(B),this.errors.push(B),_(k,void 0)}else _(null,void 0)})},(g,_)=>{this.fileWalkSW.stop();const k=g?z.coalesce(g)[0]:null;E(k,this.isLimitHit)})}parallel(i,s,f){const u=new Array(i.length),E=new Array(i.length);let g=!1,_=0;if(i.length===0)return f(null,[]);i.forEach((k,B)=>{s(k,(te,ee)=>{if(te?(g=!0,u[B]=null,E[B]=te):(u[B]=ee,E[B]=null),++_===i.length)return f(g?E:null,u)})})}call(i,s,...f){try{i.apply(s,f)}catch(u){f[f.length-1](u)}}cmdTraversal(i,s,f,u){const E=i.folder.fsPath,g=N.isMacintosh;let _;const k=()=>_&&_.kill();a.add(k);let B=h=>{a.delete(k),B=()=>{},u(h)},te="";const ee=this.initDirectoryTree();let re;const H=(0,W.spawnRipgrepCmd)(this.config,i,this.config.includePattern,this.folderExcludePatterns.get(i.folder.fsPath).expression);_=H.cmd,re=!Object.keys(H.siblingClauses).length;const m=H.rgArgs.args.map(h=>h.match(/^-/)?h:`'${h}'`).join(" ");let y=`${H.rgDiskPath} ${m}
 - cwd: ${H.cwd}`;H.rgArgs.siblingClauses&&(y+=`
 - Sibling clauses: ${JSON.stringify(H.rgArgs.siblingClauses)}`),f({message:y}),this.cmdResultCount=0,this.collectStdout(_,"utf8",f,(h,w,v)=>{if(h){B(h);return}if(this.isLimitHit){B();return}const b=(te+(g?L.normalizeNFC(w||""):w)).split(`
`);if(v){const d=b.length;b[d-1]=b[d-1].trim(),b[d-1]||b.pop()}else te=b.pop()||"";if(b.length&&b[0].indexOf(`
`)!==-1){B(new Error("Splitting up files failed"));return}if(this.cmdResultCount+=b.length,re){for(const d of b)if(this.matchFile(s,{base:E,relativePath:d,searchPath:this.getSearchPath(i,d)}),this.isLimitHit){k();break}(v||this.isLimitHit)&&B();return}this.addDirectoryEntries(i,ee,E,b,s),v&&(this.matchDirectoryTree(ee,E,s),B())})}spawnFindCmd(i){const s=this.folderExcludePatterns.get(i.folder.fsPath),f=s.getBasenameTerms(),u=s.getPathTerms(),E=["-L","."];if(f.length||u.length){E.push("-not","(","(");for(const g of f)E.push("-name",g),E.push("-o");for(const g of u)E.push("-path",g),E.push("-o");E.pop(),E.push(")","-prune",")")}return E.push("-type","f"),P.spawn("find",E,{cwd:i.folder.fsPath})}readStdout(i,s,f){let u="";this.collectStdout(i,s,()=>{},(E,g,_)=>{if(E){f(E);return}u+=g,_&&f(null,u)})}collectStdout(i,s,f,u){let E=(k,B,te)=>{(k||te)&&(E=()=>{},this.cmdSW&&this.cmdSW.stop()),u(k,B,te)},g=!1;i.stdout?(this.forwardData(i.stdout,s,E),i.stdout.once("data",()=>g=!0)):f({message:"stdout is null"});let _;i.stderr?_=this.collectData(i.stderr):f({message:"stderr is null"}),i.on("error",k=>{E(k)}),i.on("close",k=>{let B;!g&&(B=this.decodeData(_,s))&&t(B)?E(new Error(`command failed with error code ${k}: ${this.decodeData(_,s)}`)):(this.exists&&k===0&&(this.isLimitHit=!0),E(null,"",!0))})}forwardData(i,s,f){const u=new M.StringDecoder(s);return i.on("data",E=>{f(null,u.write(E))}),u}collectData(i){const s=[];return i.on("data",f=>{s.push(f)}),s}decodeData(i,s){const f=new M.StringDecoder(s);return i.map(u=>f.write(u)).join("")}initDirectoryTree(){const i={rootEntries:[],pathToEntries:Object.create(null)};return i.pathToEntries["."]=i.rootEntries,i}addDirectoryEntries(i,{pathToEntries:s},f,u,E){u.indexOf(this.filePattern)!==-1&&this.matchFile(E,{base:f,relativePath:this.filePattern,searchPath:this.getSearchPath(i,this.filePattern)});const g=_=>{const k=R.basename(_),B=R.dirname(_);let te=s[B];te||(te=s[B]=[],g(B)),te.push({base:f,relativePath:_,basename:k,searchPath:this.getSearchPath(i,_)})};u.forEach(g)}matchDirectoryTree({rootEntries:i,pathToEntries:s},f,u){const E=this,g=this.folderExcludePatterns.get(f),_=this.filePattern;function k(B){E.directoriesWalked++;const te=S.hasSiblingFn(()=>B.map(ee=>ee.basename));for(let ee=0,re=B.length;ee<re;ee++){const H=B[ee],{relativePath:m,basename:y}=H;if(g.test(m,y,_!==y?te:void 0))continue;const h=s[m];if(h)k(h);else{if(E.filesWalked++,m===_)continue;E.matchFile(u,H)}if(E.isLimitHit)break}}k(i)}getStats(){return{cmdTime:this.cmdSW.elapsed(),fileWalkTime:this.fileWalkSW.elapsed(),directoriesWalked:this.directoriesWalked,filesWalked:this.filesWalked,cmdResultCount:this.cmdResultCount}}doWalk(i,s,f,u,E){const g=i.folder,_=S.hasSiblingFn(()=>f);this.parallel(f,(k,B)=>{if(this.isCanceled||this.isLimitHit)return B(null);const te=s?[s,k].join(R.sep):k;if(this.folderExcludePatterns.get(i.folder.fsPath).test(te,k,this.config.filePattern!==k?_:void 0))return B(null);const ee=[g.fsPath,te].join(R.sep);O.lstat(ee,(re,H)=>{if(re||this.isCanceled||this.isLimitHit)return B(null);this.statLinkIfNeeded(ee,H,(m,y)=>m||this.isCanceled||this.isLimitHit?B(null):y.isDirectory()?(this.directoriesWalked++,this.realPathIfNeeded(ee,H,(h,w)=>h||this.isCanceled||this.isLimitHit||(w=w||"",this.walkedPaths[w])?B(null):(this.walkedPaths[w]=!0,T.Promises.readdir(ee).then(v=>{if(this.isCanceled||this.isLimitHit)return B(null);this.doWalk(i,te,v,u,c=>B(c||null))},v=>{B(null)})))):(this.filesWalked++,te===this.filePattern||this.maxFilesize&&p.isNumber(y.size)&&y.size>this.maxFilesize||this.matchFile(u,{base:g.fsPath,relativePath:te,searchPath:this.getSearchPath(i,te)}),B(null,void 0)))})},k=>{const B=k&&z.coalesce(k);return E(B&&B.length>0?B[0]:void 0)})}matchFile(i,s){this.isFileMatch(s)&&(!this.includePattern||this.includePattern(s.relativePath,R.basename(s.relativePath)))&&(this.resultCount++,(this.exists||this.maxResults&&this.resultCount>this.maxResults)&&(this.isLimitHit=!0),this.isLimitHit||i(s))}isFileMatch(i){if(this.filePattern){if(this.filePattern==="*")return!0;if(this.normalizedFilePatternLowercase)return(0,$.isFilePatternMatch)(i,this.normalizedFilePatternLowercase)}return!0}statLinkIfNeeded(i,s,f){return s.isSymbolicLink()?O.stat(i,f):f(null,s)}realPathIfNeeded(i,s,f){return s.isSymbolicLink()?O.realpath(i,(u,E)=>u?f(u):f(null,E)):f(null,i)}getSearchPath(i,s){return i.folderName?R.join(i.folderName,s):s}}e.FileWalker=l;class o{constructor(i){this.folderQueries=i.folderQueries,this.extraFiles=i.extraFileResources||[],this.walker=new l(i)}search(i,s,f){this.walker.walk(this.folderQueries,this.extraFiles,i,s,(u,E)=>{f(u,{limitHit:E,stats:this.walker.getStats(),messages:[]})})}cancel(){this.walker.cancel()}}e.Engine=o;class r{constructor(i,s){this.expression=i,this.root=s,this.init(i)}init(i){let s,f;Object.keys(i).filter(u=>i[u]).forEach(u=>{R.isAbsolute(u)?(s=s||S.getEmptyExpression(),s[u]=i[u]):(f=f||S.getEmptyExpression(),f[u]=i[u])}),this.absoluteParsedExpr=s&&S.parse(s,{trimForExclusions:!0}),this.relativeParsedExpr=f&&S.parse(f,{trimForExclusions:!0})}test(i,s,f){return this.relativeParsedExpr&&this.relativeParsedExpr(i,s,f)||this.absoluteParsedExpr&&this.absoluteParsedExpr(R.join(this.root,i),s,f)}getBasenameTerms(){const i=[];return this.absoluteParsedExpr&&i.push(...S.getBasenameTerms(this.absoluteParsedExpr)),this.relativeParsedExpr&&i.push(...S.getBasenameTerms(this.relativeParsedExpr)),i}getPathTerms(){const i=[];return this.absoluteParsedExpr&&i.push(...S.getPathTerms(this.absoluteParsedExpr)),this.relativeParsedExpr&&i.push(...S.getPathTerms(this.relativeParsedExpr)),i}}function t(n){const i=n.trim().split(`
`),s=i[0].trim();if(s.startsWith("Error parsing regex"))return s;if(s.startsWith("regex parse error"))return q.uppercaseFirstLetter(i[i.length-1].trim());if(s.startsWith("error parsing glob")||s.startsWith("unsupported encoding"))return s.charAt(0).toUpperCase()+s.substr(1);if(s==="Literal '\\n' not allowed.")return"Literal '\\n' currently not supported";if(s.startsWith("Literal "))return s}e.rgErrorMsgForDisplay=t}),define(he[62],me([0,1,19,67,32,7,37,17,2,3,5,13,27,68,60,36]),function(oe,e,P,O,R,M,z,D,S,L,I,N,K,q,p,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.fixNewline=e.fixRegexNewline=e.unicodeEscapesToPCRE2=e.spreadGlobComponents=e.RipgrepParser=e.buildRegexParseError=e.rgErrorMsgForDisplay=e.RipgrepTextSearchEngine=void 0;const $=p.rgPath.replace(/\bnode_modules\.asar\b/,"node_modules.asar.unpacked");class W{constructor(g){this.outputChannel=g}provideTextSearchResults(g,_,k,B){return this.outputChannel.appendLine(`provideTextSearchResults ${g.pattern}, ${JSON.stringify({..._,folder:_.folder.toString()})}`),new Promise((te,ee)=>{B.onCancellationRequested(()=>c());const re=t(g,_),H=_.folder.fsPath,m=re.map(U=>U.match(/^-/)?U:`'${U}'`).join(" ");this.outputChannel.appendLine(`${$} ${m}
 - cwd: ${H}`);let y=P.spawn($,re,{cwd:H});y.on("error",U=>{console.error(U),this.outputChannel.appendLine("Error: "+(U&&U.message)),ee((0,N.serializeSearchError)(new N.SearchError(U&&U.message,N.SearchErrorCode.rgProcessError)))});let h=!1;const w=new l(_.maxResults,H,_.previewOptions);w.on("result",U=>{h=!0,d="",k.report(U)});let v=!1;const c=()=>{v=!0,y&&y.kill(),w&&w.cancel()};let b=!1;w.on("hitLimit",()=>{b=!0,c()});let d="";y.stdout.on("data",U=>{w.handleData(U),h||(d+=U)});let A=!1;y.stdout.once("data",()=>A=!0);let F="";y.stderr.on("data",U=>{const Q=U.toString();this.outputChannel.appendLine(Q),F+=Q}),y.on("close",()=>{if(this.outputChannel.appendLine(A?"Got data from stdout":"No data from stdout"),this.outputChannel.appendLine(h?"Got result from parser":"No result from parser"),d&&this.outputChannel.appendLine(`Got data without result: ${d}`),this.outputChannel.appendLine(""),v)te({limitHit:b});else{w.flush(),y=null;let U;F&&!A&&(U=j(F))?ee((0,N.serializeSearchError)(new N.SearchError(U.message,U.code))):te({limitHit:b})}})})}}e.RipgrepTextSearchEngine=W;function j(E){const g=E.split(`
`),_=g[0].trim();if(g.some(B=>B.startsWith("regex parse error")))return new N.SearchError(a(g),N.SearchErrorCode.regexParseError);const k=_.match(/grep config error: unknown encoding: (.*)/);if(k)return new N.SearchError(`Unknown encoding: ${k[1]}`,N.SearchErrorCode.unknownEncoding);if(_.startsWith("error parsing glob"))return new N.SearchError(_.charAt(0).toUpperCase()+_.substr(1),N.SearchErrorCode.globParseError);if(_.startsWith("the literal"))return new N.SearchError(_.charAt(0).toUpperCase()+_.substr(1),N.SearchErrorCode.invalidLiteral);if(_.startsWith("PCRE2: error compiling pattern"))return new N.SearchError(_,N.SearchErrorCode.regexParseError)}e.rgErrorMsgForDisplay=j;function a(E){const g=["Regex parse error"],_=E.filter(k=>k.startsWith("PCRE2:"));if(_.length>=1){const k=_[0].replace("PCRE2:","");if(k.indexOf(":")!==-1&&k.split(":").length>=2){const B=k.split(":")[1];g.push(":"+B)}}return g.join("")}e.buildRegexParseError=a;class l extends O.EventEmitter{constructor(g,_,k){super();this.maxResults=g,this.rootFolder=_,this.previewOptions=k,this.remainder="",this.isDone=!1,this.hitLimit=!1,this.numResults=0,this.stringDecoder=new R.StringDecoder}cancel(){this.isDone=!0}flush(){this.handleDecodedData(this.stringDecoder.end())}on(g,_){return super.on(g,_),this}handleData(g){if(this.isDone)return;const _=typeof g=="string"?g:this.stringDecoder.write(g);this.handleDecodedData(_)}handleDecodedData(g){let _=g.indexOf(`
`);const k=this.remainder+g;if(_>=0)_+=this.remainder.length;else{this.remainder=k;return}let B=0;for(;_>=0;)this.handleLine(k.substring(B,_).trim()),B=_+1,_=k.indexOf(`
`,B);this.remainder=k.substring(B)}handleLine(g){if(this.isDone||!g)return;let _;try{_=JSON.parse(g)}catch(k){throw new Error(`malformed line from rg: ${g}`)}if(_.type==="match"){const k=o(_.data.path),B=I.URI.file(S.join(this.rootFolder,k)),te=this.createTextSearchMatch(_.data,B);this.onResult(te),this.hitLimit&&(this.cancel(),this.emit("hitLimit"))}else if(_.type==="context"){const k=o(_.data.path),B=I.URI.file(S.join(this.rootFolder,k));this.createTextSearchContext(_.data,B).forEach(ee=>this.onResult(ee))}}createTextSearchMatch(g,_){const k=g.line_number-1,B=o(g.lines),te=Buffer.from(B);let ee=0,re=0,H=k;g.submatches.length===0&&g.submatches.push(B.length?{start:0,end:1,match:{text:B[0]}}:{start:0,end:0,match:{text:""}});const m=(0,M.coalesce)(g.submatches.map((y,h)=>{if(this.hitLimit)return null;this.numResults++,this.numResults>=this.maxResults&&(this.hitLimit=!0);const w=o(y.match),v=te.slice(ee,y.start).toString().length,c=re+v,b=r(w),d=H,A=b.numLines+d,F=b.numLines>0?b.lastLineLength:b.lastLineLength+c;return ee=y.end,re=F,H=A,new K.Range(d,c,A,F)}));return(0,T.createTextSearchResult)(_,B,m,this.previewOptions)}createTextSearchContext(g,_){const k=o(g.lines),B=g.line_number;return k.replace(/\r?\n$/,"").split(`
`).map((te,ee)=>({text:te,uri:_,lineNumber:B+ee}))}onResult(g){this.emit("result",g)}}e.RipgrepParser=l;function o(E){return E.bytes?Buffer.from(E.bytes,"base64").toString():E.text}function r(E){const g=/\n/g;let _=0,k=-1,B;for(;B=g.exec(E);)_++,k=B.index;const te=k>=0?E.length-k-1:E.length;return{numLines:_,lastLineLength:te}}function t(E,g){const _=["--hidden"];_.push(E.isCaseSensitive?"--case-sensitive":"--ignore-case");const{doubleStarIncludes:k,otherIncludes:B}=(0,z.groupBy)(g.includes,ee=>ee.startsWith("**")?"doubleStarIncludes":"otherIncludes");if(B&&B.length){const ee=new Set;B.forEach(re=>{ee.add(re)}),_.push("-g","!*"),ee.forEach(re=>{n(re).map(T.anchorGlob).forEach(H=>{_.push("-g",H)})})}k&&k.length&&k.forEach(ee=>{_.push("-g",ee)}),g.excludes.map(T.anchorGlob).forEach(ee=>_.push("-g",`!${ee}`)),g.maxFileSize&&_.push("--max-filesize",g.maxFileSize+""),g.useIgnoreFiles?_.push("--no-ignore-parent"):_.push("--no-ignore"),g.followSymlinks&&_.push("--follow"),g.encoding&&g.encoding!=="utf8"&&_.push("--encoding",g.encoding),E.pattern==="--"&&(E.isRegExp=!0,E.pattern="\\-\\-"),E.isMultiline&&!E.isRegExp&&(E.pattern=(0,L.escapeRegExpCharacters)(E.pattern),E.isRegExp=!0),g.usePCRE2&&_.push("--pcre2"),_.push("--crlf"),E.isRegExp&&(E.pattern=i(E.pattern),_.push("--auto-hybrid-regex"));let te;if(E.isWordMatch){const re=(0,L.createRegExp)(E.pattern,!!E.isRegExp,{wholeWord:E.isWordMatch}).source.replace(/\\\//g,"/");_.push("--regexp",re)}else if(E.isRegExp){let ee=f(E.pattern);ee=u(ee),_.push("--regexp",ee)}else te=E.pattern,_.push("--fixed-strings");return _.push("--no-config"),g.useGlobalIgnoreFiles||_.push("--no-ignore-global"),_.push("--json"),E.isMultiline&&_.push("--multiline"),g.beforeContext&&_.push("--before-context",g.beforeContext+""),g.afterContext&&_.push("--after-context",g.afterContext+""),_.push("--"),te&&_.push(te),_.push("."),_}function n(E){const g=(0,D.splitGlobAware)(E,"/");return g.map((_,k)=>g.slice(0,k+1).join("/"))}e.spreadGlobComponents=n;function i(E){const g=/((?:[^\\]|^)(?:\\\\)*)\\u([a-z0-9]{4})/gi;for(;E.match(g);)E=E.replace(g,"$1\\x{$2}");const _=/((?:[^\\]|^)(?:\\\\)*)\\u\{([a-z0-9]{4})\}/gi;for(;E.match(_);)E=E.replace(_,"$1\\x{$2}");return E}e.unicodeEscapesToPCRE2=i;const s=E=>E.type==="Assertion"&&E.kind==="lookbehind";function f(E){let g;try{g=new q.RegExpParser().parsePattern(E)}catch{return E}let _="",k=0;const B=(re,H,m)=>{_+=E.slice(k,re)+m,k=H},te=[];return new q.RegExpVisitor({onCharacterEnter(re){if(re.raw!=="\\n")return;const H=te[0];if(!H)B(re.start,re.end,"\\r?\\n");else if(!te.some(s))if(H.type==="CharacterClass")if(H.negate){const m=E.slice(H.start+2,re.start)+E.slice(re.end,H.end-1);B(H.start,H.end,"(?!\\r?\\n"+(m?`|[${m}]`:"")+")")}else{const m=E.slice(H.start+1,re.start)+E.slice(re.end,H.end-1);B(H.start,H.end,m===""?"\\r?\\n":`(?:[${m}]|\\r?\\n)`)}else H.type==="Quantifier"&&B(re.start,re.end,"(?:\\r?\\n)")},onQuantifierEnter(re){te.unshift(re)},onQuantifierLeave(){te.shift()},onCharacterClassRangeEnter(re){te.unshift(re)},onCharacterClassRangeLeave(){te.shift()},onCharacterClassEnter(re){te.unshift(re)},onCharacterClassLeave(){te.shift()},onAssertionEnter(re){s(re)&&te.push(re)},onAssertionLeave(re){te[0]===re&&te.shift()}}).visit(g),_+=E.slice(k),_}e.fixRegexNewline=f;function u(E){return E.replace(/\n/g,"\\r?\\n")}e.fixNewline=u}),define(he[63],me([0,1,18,62,58]),function(oe,e,P,O,R){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextSearchEngineAdapter=void 0;class M{constructor(S){this.query=S}search(S,L,I){if((!this.query.folderQueries||!this.query.folderQueries.length)&&(!this.query.extraFileResources||!this.query.extraFileResources.length))return Promise.resolve({type:"success",limitHit:!1,stats:{type:"searchProcess"}});const N={appendLine(q){I({message:q})}},K=new R.NativeTextSearchManager(this.query,new O.RipgrepTextSearchEngine(N),P);return new Promise((q,p)=>K.search(T=>{L(T.map(z))},S).then(T=>q({limitHit:T.limitHit,type:"success"}),p))}}e.TextSearchEngineAdapter=M;function z(D){return{path:D.resource&&D.resource.fsPath,results:D.results,numMatches:(D.results||[]).reduce((S,L)=>{if(L.ranges){const I=L;return S+(Array.isArray(I.ranges)?I.ranges.length:1)}else return S+1},0)}}}),define(he[64],me([0,1,33,69,7,12,6,11,31,2,20,5,53,13,61,63]),function(oe,e,P,O,R,M,z,D,S,L,I,N,K,q,p,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SearchService=void 0,O.gracefulify(P);class ${constructor(){this.caches=Object.create(null)}fileSearch(r){let t;const n=a(r),i=new D.Emitter({onFirstListenerDidAdd:()=>{t=(0,M.createCancelablePromise)(s=>this.doFileSearchWithEngine(p.Engine,n,f=>i.fire(f),s)),t.then(s=>i.fire(s),s=>i.fire({type:"error",error:{message:s.message,stack:s.stack}}))},onLastListenerRemove:()=>{t.cancel()}});return i.event}textSearch(r){let t;const n=a(r),i=new D.Emitter({onFirstListenerDidAdd:()=>{t=(0,M.createCancelablePromise)(s=>this.ripgrepTextSearch(n,f=>i.fire(f),s)),t.then(s=>i.fire(s),s=>i.fire({type:"error",error:{message:s.message,stack:s.stack}}))},onLastListenerRemove:()=>{t.cancel()}});return i.event}ripgrepTextSearch(r,t,n){return r.maxFileSize=(0,K.getPlatformLimits)(process.arch==="ia32"?0:1).maxFileSize,new T.TextSearchEngineAdapter(r).search(n,t,t)}doFileSearch(r,t,n){return this.doFileSearchWithEngine(p.Engine,r,t,n)}doFileSearchWithEngine(r,t,n,i,s=$.BATCH_SIZE){let f=0;const u=g=>{Array.isArray(g)?(f+=g.length,n(g.map(_=>this.rawMatchToSearchItem(_)))):g.relativePath?(f++,n(this.rawMatchToSearchItem(g))):n(g)};if(t.sortByScore){let g=this.trySortedSearchFromCache(t,u,i);if(!g){const _=t.maxResults?Object.assign({},t,{maxResults:null}):t,k=new r(_);g=this.doSortedSearch(k,t,n,u,i)}return new Promise((_,k)=>{g.then(([B,te])=>{const ee=te.map(re=>this.rawMatchToSearchItem(re));this.sendProgress(ee,n,s),_(B)},k)})}const E=new r(t);return this.doSearch(E,u,s,i).then(g=>({limitHit:g.limitHit,type:"success",stats:{detailStats:g.stats,type:"searchProcess",fromCache:!1,resultCount:f,sortingTime:void 0}}))}rawMatchToSearchItem(r){return{path:r.base?(0,L.join)(r.base,r.relativePath):r.relativePath}}doSortedSearch(r,t,n,i,s){const f=new D.Emitter;let u=(0,M.createCancelablePromise)(g=>{let _=[];const k=B=>{Array.isArray(B)?_=B:(i(B),f.fire(B))};return this.doSearch(r,k,-1,g).then(B=>[B,_])}),E;if(t.cacheKey){E=this.getOrCreateCache(t.cacheKey);const g={promise:u,event:f.event,resolved:!1};E.resultsToSearchCache[t.filePattern||""]=g,u.then(()=>{g.resolved=!0},_=>{delete E.resultsToSearchCache[t.filePattern||""]}),u=this.preventCancellation(u)}return u.then(([g,_])=>{const k=E?E.scorerCache:Object.create(null),B=(typeof t.maxResults!="number"||t.maxResults>0)&&I.StopWatch.create(!1);return this.sortResults(t,_,k,s).then(te=>{const ee=B?B.elapsed():-1;return[{type:"success",stats:{detailStats:g.stats,sortingTime:ee,fromCache:!1,type:"searchProcess",workspaceFolderCount:t.folderQueries.length,resultCount:te.length},messages:g.messages,limitHit:g.limitHit||typeof t.maxResults=="number"&&_.length>t.maxResults},te]})})}getOrCreateCache(r){const t=this.caches[r];return t||(this.caches[r]=new W)}trySortedSearchFromCache(r,t,n){const i=r.cacheKey&&this.caches[r.cacheKey];if(!i)return;const s=this.getResultsFromCache(i,r.filePattern||"",t,n);if(s)return s.then(([f,u,E])=>{const g=I.StopWatch.create(!1);return this.sortResults(r,u,i.scorerCache,n).then(_=>{const k=g.elapsed(),B={fromCache:!0,detailStats:E,type:"searchProcess",resultCount:u.length,sortingTime:k};return[{type:"success",limitHit:f.limitHit||typeof r.maxResults=="number"&&u.length>r.maxResults,stats:B},_]})})}sortResults(r,t,n,i){const s=(0,S.prepareQuery)(r.filePattern||""),f=(E,g)=>(0,S.compareItemsByFuzzyScore)(E,g,s,!0,j,n),u=typeof r.maxResults=="number"?r.maxResults:Number.MAX_VALUE;return R.topAsync(t,f,u,1e4,i)}sendProgress(r,t,n){if(n&&n>0)for(let i=0;i<r.length;i+=n)t(r.slice(i,i+n));else t(r)}getResultsFromCache(r,t,n,i){const s=I.StopWatch.create(!1),f=t.indexOf(L.sep)>=0;let u;for(const k in r.resultsToSearchCache)if(t.startsWith(k)){if(f&&k.indexOf(L.sep)<0&&k!=="")continue;const B=r.resultsToSearchCache[k];u={promise:this.preventCancellation(B.promise),event:B.event,resolved:B.resolved};break}if(!u)return null;const E=s.elapsed(),g=I.StopWatch.create(!1),_=u.event(n);return i&&i.onCancellationRequested(()=>{_.dispose()}),u.promise.then(([k,B])=>{if(i&&i.isCancellationRequested)throw(0,z.canceled)();const te=[],ee=(0,S.prepareQuery)(t).normalizedLowercase;for(const re of B)!(0,q.isFilePatternMatch)(re,ee)||te.push(re);return[k,te,{cacheWasResolved:u.resolved,cacheLookupTime:E,cacheFilterTime:g.elapsed(),cacheEntryCount:B.length}]})}doSearch(r,t,n,i){return new Promise((s,f)=>{let u=[];i&&i.onCancellationRequested(()=>r.cancel()),r.search(E=>{E&&(n?(u.push(E),n>0&&u.length>=n&&(t(u),u=[])):t(E))},E=>{t(E)},(E,g)=>{u.length&&t(u),E?f(E):s(g)})})}clearCache(r){return delete this.caches[r],Promise.resolve(void 0)}preventCancellation(r){return new class{get[Symbol.toStringTag](){return this.toString()}cancel(){}then(t,n){return r.then(t,n)}catch(t){return this.then(void 0,t)}finally(t){return r.finally(t)}}}}e.SearchService=$,$.BATCH_SIZE=512;class W{constructor(){this.resultsToSearchCache=Object.create(null),this.scorerCache=Object.create(null)}}const j=new class{getItemLabel(o){return(0,L.basename)(o.relativePath)}getItemDescription(o){return(0,L.dirname)(o.relativePath)}getItemPath(o){return o.relativePath}};function a(o){return{...o,folderQueries:o.folderQueries&&o.folderQueries.map(l),extraFileResources:o.extraFileResources&&o.extraFileResources.map(r=>N.URI.revive(r))}}function l(o){return{...o,folder:N.URI.revive(o.folder)}}}),define(he[70],me([0,1,51,56,64]),function(oe,e,P,O,R){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const M=new P.Server("search"),z=new R.SearchService,D=new O.SearchChannel(z);M.registerChannel("search",D)})}).call(this);

//# sourceMappingURL=https://ticino.blob.core.windows.net/sourcemaps/379476f0e13988d90fab105c5c19e7abc8b1dea8/core/vs/workbench/services/search/node/searchApp.js.map
